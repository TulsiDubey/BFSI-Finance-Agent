function wA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function xA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ix={exports:{}},Vc={},ox={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),EA=Symbol.for("react.portal"),TA=Symbol.for("react.fragment"),SA=Symbol.for("react.strict_mode"),IA=Symbol.for("react.profiler"),PA=Symbol.for("react.provider"),AA=Symbol.for("react.context"),CA=Symbol.for("react.forward_ref"),RA=Symbol.for("react.suspense"),kA=Symbol.for("react.memo"),bA=Symbol.for("react.lazy"),uv=Symbol.iterator;function NA(t){return t===null||typeof t!="object"?null:(t=uv&&t[uv]||t["@@iterator"],typeof t=="function"?t:null)}var ax={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lx=Object.assign,ux={};function Yi(t,e,n){this.props=t,this.context=e,this.refs=ux,this.updater=n||ax}Yi.prototype.isReactComponent={};Yi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cx(){}cx.prototype=Yi.prototype;function Gp(t,e,n){this.props=t,this.context=e,this.refs=ux,this.updater=n||ax}var Qp=Gp.prototype=new cx;Qp.constructor=Gp;lx(Qp,Yi.prototype);Qp.isPureReactComponent=!0;var cv=Array.isArray,dx=Object.prototype.hasOwnProperty,Yp={current:null},hx={key:!0,ref:!0,__self:!0,__source:!0};function fx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)dx.call(e,r)&&!hx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:$a,type:t,key:i,ref:o,props:s,_owner:Yp.current}}function jA(t,e){return{$$typeof:$a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xp(t){return typeof t=="object"&&t!==null&&t.$$typeof===$a}function DA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dv=/\/+/g;function nh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DA(""+t.key):e.toString(36)}function uu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $a:case EA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+nh(o,0):r,cv(s)?(n="",t!=null&&(n=t.replace(dv,"$&/")+"/"),uu(s,e,n,"",function(c){return c})):s!=null&&(Xp(s)&&(s=jA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",cv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+nh(i,a);o+=uu(i,e,n,l,s)}else if(l=NA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+nh(i,a++),o+=uu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nl(t,e,n){if(t==null)return t;var r=[],s=0;return uu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function VA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var At={current:null},cu={transition:null},OA={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:cu,ReactCurrentOwner:Yp};function px(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Nl,forEach:function(t,e,n){Nl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nl(t,function(){e++}),e},toArray:function(t){return Nl(t,function(e){return e})||[]},only:function(t){if(!Xp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Yi;se.Fragment=TA;se.Profiler=IA;se.PureComponent=Gp;se.StrictMode=SA;se.Suspense=RA;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA;se.act=px;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Yp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dx.call(e,l)&&!hx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$a,type:t.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:AA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PA,_context:t},t.Consumer=t};se.createElement=fx;se.createFactory=function(t){var e=fx.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:CA,render:t}};se.isValidElement=Xp;se.lazy=function(t){return{$$typeof:bA,_payload:{_status:-1,_result:t},_init:VA}};se.memo=function(t,e){return{$$typeof:kA,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=cu.transition;cu.transition={};try{t()}finally{cu.transition=e}};se.unstable_act=px;se.useCallback=function(t,e){return At.current.useCallback(t,e)};se.useContext=function(t){return At.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return At.current.useDeferredValue(t)};se.useEffect=function(t,e){return At.current.useEffect(t,e)};se.useId=function(){return At.current.useId()};se.useImperativeHandle=function(t,e,n){return At.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return At.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return At.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return At.current.useMemo(t,e)};se.useReducer=function(t,e,n){return At.current.useReducer(t,e,n)};se.useRef=function(t){return At.current.useRef(t)};se.useState=function(t){return At.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return At.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return At.current.useTransition()};se.version="18.3.1";ox.exports=se;var N=ox.exports;const Oc=xA(N),LA=wA({__proto__:null,default:Oc},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=N,FA=Symbol.for("react.element"),UA=Symbol.for("react.fragment"),BA=Object.prototype.hasOwnProperty,zA=MA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$A={key:!0,ref:!0,__self:!0,__source:!0};function mx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BA.call(e,r)&&!$A.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:FA,type:t,key:i,ref:o,props:s,_owner:zA.current}}Vc.Fragment=UA;Vc.jsx=mx;Vc.jsxs=mx;ix.exports=Vc;var h=ix.exports,sf={},gx={exports:{}},Kt={},yx={exports:{}},vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var Z=$.length;$.push(q);e:for(;0<Z;){var X=Z-1>>>1,ue=$[X];if(0<s(ue,q))$[X]=q,$[Z]=ue,Z=X;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],Z=$.pop();if(Z!==q){$[0]=Z;e:for(var X=0,ue=$.length,Ee=ue>>>1;X<Ee;){var Qt=2*(X+1)-1,Yt=$[Qt],_t=Qt+1,Xt=$[_t];if(0>s(Yt,Z))_t<ue&&0>s(Xt,Yt)?($[X]=Xt,$[_t]=Z,X=_t):($[X]=Yt,$[Qt]=Z,X=Qt);else if(_t<ue&&0>s(Xt,Z))$[X]=Xt,$[_t]=Z,X=_t;else break e}}return q}function s($,q){var Z=$.sortIndex-q.sortIndex;return Z!==0?Z:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,m=3,v=!1,x=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=$)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function A($){if(E=!1,_($),!x)if(n(l)!==null)x=!0,Se(V);else{var q=n(c);q!==null&&We(A,q.startTime-$)}}function V($,q){x=!1,E&&(E=!1,w(T),T=-1),v=!0;var Z=m;try{for(_(q),f=n(l);f!==null&&(!(f.expirationTime>q)||$&&!b());){var X=f.callback;if(typeof X=="function"){f.callback=null,m=f.priorityLevel;var ue=X(f.expirationTime<=q);q=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(l)&&r(l),_(q)}else r(l);f=n(l)}if(f!==null)var Ee=!0;else{var Qt=n(c);Qt!==null&&We(A,Qt.startTime-q),Ee=!1}return Ee}finally{f=null,m=Z,v=!1}}var M=!1,P=null,T=-1,C=5,R=-1;function b(){return!(t.unstable_now()-R<C)}function j(){if(P!==null){var $=t.unstable_now();R=$;var q=!0;try{q=P(!0,$)}finally{q?k():(M=!1,P=null)}}else M=!1}var k;if(typeof y=="function")k=function(){y(j)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Rt=me.port2;me.port1.onmessage=j,k=function(){Rt.postMessage(null)}}else k=function(){I(j,0)};function Se($){P=$,M||(M=!0,k())}function We($,q){T=I(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,Se(V))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var Z=m;m=q;try{return $()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=m;m=$;try{return q()}finally{m=Z}},t.unstable_scheduleCallback=function($,q,Z){var X=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?X+Z:X):Z=X,$){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Z+ue,$={id:d++,callback:q,priorityLevel:$,startTime:Z,expirationTime:ue,sortIndex:-1},Z>X?($.sortIndex=Z,e(c,$),n(l)===null&&$===n(c)&&(E?(w(T),T=-1):E=!0,We(A,Z-X))):($.sortIndex=ue,e(l,$),x||v||(x=!0,Se(V))),$},t.unstable_shouldYield=b,t.unstable_wrapCallback=function($){var q=m;return function(){var Z=m;m=q;try{return $.apply(this,arguments)}finally{m=Z}}}})(vx);yx.exports=vx;var HA=yx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA=N,Wt=HA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _x=new Set,ca={};function Bs(t,e){Ni(t,e),Ni(t+"Capture",e)}function Ni(t,e){for(ca[t]=e,t=0;t<e.length;t++)_x.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),of=Object.prototype.hasOwnProperty,qA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hv={},fv={};function KA(t){return of.call(fv,t)?!0:of.call(hv,t)?!1:qA.test(t)?fv[t]=!0:(hv[t]=!0,!1)}function GA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QA(t,e,n,r){if(e===null||typeof e>"u"||GA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rt[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rt[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rt[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rt[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rt[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rt[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rt[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rt[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rt[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jp=/[\-:]([a-z])/g;function Zp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jp,Zp);rt[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jp,Zp);rt[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jp,Zp);rt[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});rt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function em(t,e,n,r){var s=rt.hasOwnProperty(e)?rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QA(e,n,s,r)&&(n=null),r||s===null?KA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var or=WA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jl=Symbol.for("react.element"),ii=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),tm=Symbol.for("react.strict_mode"),af=Symbol.for("react.profiler"),wx=Symbol.for("react.provider"),xx=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),lf=Symbol.for("react.suspense"),uf=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),Ex=Symbol.for("react.offscreen"),pv=Symbol.iterator;function To(t){return t===null||typeof t!="object"?null:(t=pv&&t[pv]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,rh;function Vo(t){if(rh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rh=e&&e[1]||""}return`
`+rh+t}var sh=!1;function ih(t,e){if(!t||sh)return"";sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vo(t):""}function YA(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=ih(t.type,!1),t;case 11:return t=ih(t.type.render,!1),t;case 1:return t=ih(t.type,!0),t;default:return""}}function cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oi:return"Fragment";case ii:return"Portal";case af:return"Profiler";case tm:return"StrictMode";case lf:return"Suspense";case uf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xx:return(t.displayName||"Context")+".Consumer";case wx:return(t._context.displayName||"Context")+".Provider";case nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rm:return e=t.displayName||null,e!==null?e:cf(t.type)||"Memo";case pr:e=t._payload,t=t._init;try{return cf(t(e))}catch{}}return null}function XA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cf(e);case 8:return e===tm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JA(t){var e=Tx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dl(t){t._valueTracker||(t._valueTracker=JA(t))}function Sx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function df(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ix(t,e){e=e.checked,e!=null&&em(t,"checked",e,!1)}function hf(t,e){Ix(t,e);var n=zr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&ff(t,e.type,zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ff(t,e,n){(e!=="number"||Vu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oo=Array.isArray;function Ei(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Oo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zr(n)}}function Px(t,e){var n=zr(e.value),r=zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ax(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ax(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vl,Cx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vl=Vl||document.createElement("div"),Vl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function da(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZA=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(t){ZA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wo[e]=Wo[t]})});function Rx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wo.hasOwnProperty(t)&&Wo[t]?(""+e).trim():e+"px"}function kx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Rx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var eC=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gf(t,e){if(e){if(eC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function yf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=null;function sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _f=null,Ti=null,Si=null;function _v(t){if(t=qa(t)){if(typeof _f!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Bc(e),_f(t.stateNode,t.type,e))}}function bx(t){Ti?Si?Si.push(t):Si=[t]:Ti=t}function Nx(){if(Ti){var t=Ti,e=Si;if(Si=Ti=null,_v(t),e)for(t=0;t<e.length;t++)_v(e[t])}}function jx(t,e){return t(e)}function Dx(){}var oh=!1;function Vx(t,e,n){if(oh)return t(e,n);oh=!0;try{return jx(t,e,n)}finally{oh=!1,(Ti!==null||Si!==null)&&(Dx(),Nx())}}function ha(t,e){var n=t.stateNode;if(n===null)return null;var r=Bc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var wf=!1;if(Yn)try{var So={};Object.defineProperty(So,"passive",{get:function(){wf=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{wf=!1}function tC(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var qo=!1,Ou=null,Lu=!1,xf=null,nC={onError:function(t){qo=!0,Ou=t}};function rC(t,e,n,r,s,i,o,a,l){qo=!1,Ou=null,tC.apply(nC,arguments)}function sC(t,e,n,r,s,i,o,a,l){if(rC.apply(this,arguments),qo){if(qo){var c=Ou;qo=!1,Ou=null}else throw Error(B(198));Lu||(Lu=!0,xf=c)}}function zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ox(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wv(t){if(zs(t)!==t)throw Error(B(188))}function iC(t){var e=t.alternate;if(!e){if(e=zs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wv(s),t;if(i===r)return wv(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Lx(t){return t=iC(t),t!==null?Mx(t):null}function Mx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mx(t);if(e!==null)return e;t=t.sibling}return null}var Fx=Wt.unstable_scheduleCallback,xv=Wt.unstable_cancelCallback,oC=Wt.unstable_shouldYield,aC=Wt.unstable_requestPaint,De=Wt.unstable_now,lC=Wt.unstable_getCurrentPriorityLevel,im=Wt.unstable_ImmediatePriority,Ux=Wt.unstable_UserBlockingPriority,Mu=Wt.unstable_NormalPriority,uC=Wt.unstable_LowPriority,Bx=Wt.unstable_IdlePriority,Lc=null,Tn=null;function cC(t){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Lc,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:fC,dC=Math.log,hC=Math.LN2;function fC(t){return t>>>=0,t===0?32:31-(dC(t)/hC|0)|0}var Ol=64,Ll=4194304;function Lo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Lo(a):(i&=o,i!==0&&(r=Lo(i)))}else o=n&~s,o!==0?r=Lo(o):i!==0&&(r=Lo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),s=1<<n,r|=t[n],e&=~s;return r}function pC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=pC(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zx(){var t=Ol;return Ol<<=1,!(Ol&4194240)&&(Ol=64),t}function ah(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ha(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function gC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function om(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var fe=0;function $x(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hx,am,Wx,qx,Kx,Tf=!1,Ml=[],Cr=null,Rr=null,kr=null,fa=new Map,pa=new Map,yr=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ev(t,e){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":fa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(e.pointerId)}}function Io(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qa(e),e!==null&&am(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function vC(t,e,n,r,s){switch(e){case"focusin":return Cr=Io(Cr,t,e,n,r,s),!0;case"dragenter":return Rr=Io(Rr,t,e,n,r,s),!0;case"mouseover":return kr=Io(kr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return fa.set(i,Io(fa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,pa.set(i,Io(pa.get(i)||null,t,e,n,r,s)),!0}return!1}function Gx(t){var e=ms(t.target);if(e!==null){var n=zs(e);if(n!==null){if(e=n.tag,e===13){if(e=Ox(n),e!==null){t.blockedOn=e,Kx(t.priority,function(){Wx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vf=r,n.target.dispatchEvent(r),vf=null}else return e=qa(n),e!==null&&am(e),t.blockedOn=n,!1;e.shift()}return!0}function Tv(t,e,n){du(t)&&n.delete(e)}function _C(){Tf=!1,Cr!==null&&du(Cr)&&(Cr=null),Rr!==null&&du(Rr)&&(Rr=null),kr!==null&&du(kr)&&(kr=null),fa.forEach(Tv),pa.forEach(Tv)}function Po(t,e){t.blockedOn===e&&(t.blockedOn=null,Tf||(Tf=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,_C)))}function ma(t){function e(s){return Po(s,t)}if(0<Ml.length){Po(Ml[0],t);for(var n=1;n<Ml.length;n++){var r=Ml[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cr!==null&&Po(Cr,t),Rr!==null&&Po(Rr,t),kr!==null&&Po(kr,t),fa.forEach(e),pa.forEach(e),n=0;n<yr.length;n++)r=yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yr.length&&(n=yr[0],n.blockedOn===null);)Gx(n),n.blockedOn===null&&yr.shift()}var Ii=or.ReactCurrentBatchConfig,Uu=!0;function wC(t,e,n,r){var s=fe,i=Ii.transition;Ii.transition=null;try{fe=1,lm(t,e,n,r)}finally{fe=s,Ii.transition=i}}function xC(t,e,n,r){var s=fe,i=Ii.transition;Ii.transition=null;try{fe=4,lm(t,e,n,r)}finally{fe=s,Ii.transition=i}}function lm(t,e,n,r){if(Uu){var s=Sf(t,e,n,r);if(s===null)yh(t,e,r,Bu,n),Ev(t,r);else if(vC(s,t,e,n,r))r.stopPropagation();else if(Ev(t,r),e&4&&-1<yC.indexOf(t)){for(;s!==null;){var i=qa(s);if(i!==null&&Hx(i),i=Sf(t,e,n,r),i===null&&yh(t,e,r,Bu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yh(t,e,r,null,n)}}var Bu=null;function Sf(t,e,n,r){if(Bu=null,t=sm(r),t=ms(t),t!==null)if(e=zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ox(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bu=t,null}function Qx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lC()){case im:return 1;case Ux:return 4;case Mu:case uC:return 16;case Bx:return 536870912;default:return 16}default:return 16}}var Sr=null,um=null,hu=null;function Yx(){if(hu)return hu;var t,e=um,n=e.length,r,s="value"in Sr?Sr.value:Sr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return hu=s.slice(t,1<r?1-r:void 0)}function fu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fl(){return!0}function Sv(){return!1}function Gt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fl:Sv,this.isPropagationStopped=Sv,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),e}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cm=Gt(Xi),Wa=Ce({},Xi,{view:0,detail:0}),EC=Gt(Wa),lh,uh,Ao,Mc=Ce({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ao&&(Ao&&t.type==="mousemove"?(lh=t.screenX-Ao.screenX,uh=t.screenY-Ao.screenY):uh=lh=0,Ao=t),lh)},movementY:function(t){return"movementY"in t?t.movementY:uh}}),Iv=Gt(Mc),TC=Ce({},Mc,{dataTransfer:0}),SC=Gt(TC),IC=Ce({},Wa,{relatedTarget:0}),ch=Gt(IC),PC=Ce({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),AC=Gt(PC),CC=Ce({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RC=Gt(CC),kC=Ce({},Xi,{data:0}),Pv=Gt(kC),bC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jC[t])?!!e[t]:!1}function dm(){return DC}var VC=Ce({},Wa,{key:function(t){if(t.key){var e=bC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dm,charCode:function(t){return t.type==="keypress"?fu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OC=Gt(VC),LC=Ce({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Av=Gt(LC),MC=Ce({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dm}),FC=Gt(MC),UC=Ce({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),BC=Gt(UC),zC=Ce({},Mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$C=Gt(zC),HC=[9,13,27,32],hm=Yn&&"CompositionEvent"in window,Ko=null;Yn&&"documentMode"in document&&(Ko=document.documentMode);var WC=Yn&&"TextEvent"in window&&!Ko,Xx=Yn&&(!hm||Ko&&8<Ko&&11>=Ko),Cv=" ",Rv=!1;function Jx(t,e){switch(t){case"keyup":return HC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ai=!1;function qC(t,e){switch(t){case"compositionend":return Zx(e);case"keypress":return e.which!==32?null:(Rv=!0,Cv);case"textInput":return t=e.data,t===Cv&&Rv?null:t;default:return null}}function KC(t,e){if(ai)return t==="compositionend"||!hm&&Jx(t,e)?(t=Yx(),hu=um=Sr=null,ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xx&&e.locale!=="ko"?null:e.data;default:return null}}var GC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GC[t.type]:e==="textarea"}function eE(t,e,n,r){bx(r),e=zu(e,"onChange"),0<e.length&&(n=new cm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Go=null,ga=null;function QC(t){dE(t,0)}function Fc(t){var e=ci(t);if(Sx(e))return t}function YC(t,e){if(t==="change")return e}var tE=!1;if(Yn){var dh;if(Yn){var hh="oninput"in document;if(!hh){var bv=document.createElement("div");bv.setAttribute("oninput","return;"),hh=typeof bv.oninput=="function"}dh=hh}else dh=!1;tE=dh&&(!document.documentMode||9<document.documentMode)}function Nv(){Go&&(Go.detachEvent("onpropertychange",nE),ga=Go=null)}function nE(t){if(t.propertyName==="value"&&Fc(ga)){var e=[];eE(e,ga,t,sm(t)),Vx(QC,e)}}function XC(t,e,n){t==="focusin"?(Nv(),Go=e,ga=n,Go.attachEvent("onpropertychange",nE)):t==="focusout"&&Nv()}function JC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fc(ga)}function ZC(t,e){if(t==="click")return Fc(e)}function eR(t,e){if(t==="input"||t==="change")return Fc(e)}function tR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:tR;function ya(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!of.call(e,s)||!mn(t[s],e[s]))return!1}return!0}function jv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dv(t,e){var n=jv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jv(n)}}function rE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sE(){for(var t=window,e=Vu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vu(t.document)}return e}function fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nR(t){var e=sE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rE(n.ownerDocument.documentElement,n)){if(r!==null&&fm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Dv(n,i);var o=Dv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rR=Yn&&"documentMode"in document&&11>=document.documentMode,li=null,If=null,Qo=null,Pf=!1;function Vv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pf||li==null||li!==Vu(r)||(r=li,"selectionStart"in r&&fm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qo&&ya(Qo,r)||(Qo=r,r=zu(If,"onSelect"),0<r.length&&(e=new cm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=li)))}function Ul(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ui={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionend:Ul("Transition","TransitionEnd")},fh={},iE={};Yn&&(iE=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function Uc(t){if(fh[t])return fh[t];if(!ui[t])return t;var e=ui[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iE)return fh[t]=e[n];return t}var oE=Uc("animationend"),aE=Uc("animationiteration"),lE=Uc("animationstart"),uE=Uc("transitionend"),cE=new Map,Ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(t,e){cE.set(t,e),Bs(e,[t])}for(var ph=0;ph<Ov.length;ph++){var mh=Ov[ph],sR=mh.toLowerCase(),iR=mh[0].toUpperCase()+mh.slice(1);Qr(sR,"on"+iR)}Qr(oE,"onAnimationEnd");Qr(aE,"onAnimationIteration");Qr(lE,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(uE,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function Lv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sC(r,e,void 0,t),t.currentTarget=null}function dE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Lv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Lv(s,a,c),i=l}}}if(Lu)throw t=xf,Lu=!1,xf=null,t}function _e(t,e){var n=e[bf];n===void 0&&(n=e[bf]=new Set);var r=t+"__bubble";n.has(r)||(hE(e,t,2,!1),n.add(r))}function gh(t,e,n){var r=0;e&&(r|=4),hE(n,t,r,e)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function va(t){if(!t[Bl]){t[Bl]=!0,_x.forEach(function(n){n!=="selectionchange"&&(oR.has(n)||gh(n,!1,t),gh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bl]||(e[Bl]=!0,gh("selectionchange",!1,e))}}function hE(t,e,n,r){switch(Qx(e)){case 1:var s=wC;break;case 4:s=xC;break;default:s=lm}n=s.bind(null,e,n,t),s=void 0,!wf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ms(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Vx(function(){var c=i,d=sm(n),f=[];e:{var m=cE.get(t);if(m!==void 0){var v=cm,x=t;switch(t){case"keypress":if(fu(n)===0)break e;case"keydown":case"keyup":v=OC;break;case"focusin":x="focus",v=ch;break;case"focusout":x="blur",v=ch;break;case"beforeblur":case"afterblur":v=ch;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Iv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=SC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=FC;break;case oE:case aE:case lE:v=AC;break;case uE:v=BC;break;case"scroll":v=EC;break;case"wheel":v=$C;break;case"copy":case"cut":case"paste":v=RC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Av}var E=(e&4)!==0,I=!E&&t==="scroll",w=E?m!==null?m+"Capture":null:m;E=[];for(var y=c,_;y!==null;){_=y;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,w!==null&&(A=ha(y,w),A!=null&&E.push(_a(y,A,_)))),I)break;y=y.return}0<E.length&&(m=new v(m,x,null,n,d),f.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==vf&&(x=n.relatedTarget||n.fromElement)&&(ms(x)||x[Xn]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=c,x=x?ms(x):null,x!==null&&(I=zs(x),x!==I||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(E=Iv,A="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=Av,A="onPointerLeave",w="onPointerEnter",y="pointer"),I=v==null?m:ci(v),_=x==null?m:ci(x),m=new E(A,y+"leave",v,n,d),m.target=I,m.relatedTarget=_,A=null,ms(d)===c&&(E=new E(w,y+"enter",x,n,d),E.target=_,E.relatedTarget=I,A=E),I=A,v&&x)t:{for(E=v,w=x,y=0,_=E;_;_=ei(_))y++;for(_=0,A=w;A;A=ei(A))_++;for(;0<y-_;)E=ei(E),y--;for(;0<_-y;)w=ei(w),_--;for(;y--;){if(E===w||w!==null&&E===w.alternate)break t;E=ei(E),w=ei(w)}E=null}else E=null;v!==null&&Mv(f,m,v,E,!1),x!==null&&I!==null&&Mv(f,I,x,E,!0)}}e:{if(m=c?ci(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var V=YC;else if(kv(m))if(tE)V=eR;else{V=JC;var M=XC}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=ZC);if(V&&(V=V(t,c))){eE(f,V,n,d);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&ff(m,"number",m.value)}switch(M=c?ci(c):window,t){case"focusin":(kv(M)||M.contentEditable==="true")&&(li=M,If=c,Qo=null);break;case"focusout":Qo=If=li=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Vv(f,n,d);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":Vv(f,n,d)}var P;if(hm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ai?Jx(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Xx&&n.locale!=="ko"&&(ai||T!=="onCompositionStart"?T==="onCompositionEnd"&&ai&&(P=Yx()):(Sr=d,um="value"in Sr?Sr.value:Sr.textContent,ai=!0)),M=zu(c,T),0<M.length&&(T=new Pv(T,t,null,n,d),f.push({event:T,listeners:M}),P?T.data=P:(P=Zx(n),P!==null&&(T.data=P)))),(P=WC?qC(t,n):KC(t,n))&&(c=zu(c,"onBeforeInput"),0<c.length&&(d=new Pv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=P))}dE(f,e)})}function _a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ha(t,n),i!=null&&r.unshift(_a(t,i,s)),i=ha(t,e),i!=null&&r.push(_a(t,i,s))),t=t.return}return r}function ei(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ha(n,i),l!=null&&o.unshift(_a(n,l,a))):s||(l=ha(n,i),l!=null&&o.push(_a(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aR=/\r\n?/g,lR=/\u0000|\uFFFD/g;function Fv(t){return(typeof t=="string"?t:""+t).replace(aR,`
`).replace(lR,"")}function zl(t,e,n){if(e=Fv(e),Fv(t)!==e&&n)throw Error(B(425))}function $u(){}var Af=null,Cf=null;function Rf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,uR=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,cR=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(t){return Uv.resolve(null).then(t).catch(dR)}:kf;function dR(t){setTimeout(function(){throw t})}function vh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ma(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ma(e)}function br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),xn="__reactFiber$"+Ji,wa="__reactProps$"+Ji,Xn="__reactContainer$"+Ji,bf="__reactEvents$"+Ji,hR="__reactListeners$"+Ji,fR="__reactHandles$"+Ji;function ms(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xn]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bv(t);t!==null;){if(n=t[xn])return n;t=Bv(t)}return e}t=n,n=t.parentNode}return null}function qa(t){return t=t[xn]||t[Xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Bc(t){return t[wa]||null}var Nf=[],di=-1;function Yr(t){return{current:t}}function we(t){0>di||(t.current=Nf[di],Nf[di]=null,di--)}function ye(t,e){di++,Nf[di]=t.current,t.current=e}var $r={},gt=Yr($r),jt=Yr(!1),As=$r;function ji(t,e){var n=t.type.contextTypes;if(!n)return $r;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(t){return t=t.childContextTypes,t!=null}function Hu(){we(jt),we(gt)}function zv(t,e,n){if(gt.current!==$r)throw Error(B(168));ye(gt,e),ye(jt,n)}function fE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,XA(t)||"Unknown",s));return Ce({},n,r)}function Wu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$r,As=gt.current,ye(gt,t),ye(jt,jt.current),!0}function $v(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=fE(t,e,As),r.__reactInternalMemoizedMergedChildContext=t,we(jt),we(gt),ye(gt,t)):we(jt),ye(jt,n)}var Mn=null,zc=!1,_h=!1;function pE(t){Mn===null?Mn=[t]:Mn.push(t)}function pR(t){zc=!0,pE(t)}function Xr(){if(!_h&&Mn!==null){_h=!0;var t=0,e=fe;try{var n=Mn;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mn=null,zc=!1}catch(s){throw Mn!==null&&(Mn=Mn.slice(t+1)),Fx(im,Xr),s}finally{fe=e,_h=!1}}return null}var hi=[],fi=0,qu=null,Ku=0,tn=[],nn=0,Cs=null,Fn=1,Un="";function cs(t,e){hi[fi++]=Ku,hi[fi++]=qu,qu=t,Ku=e}function mE(t,e,n){tn[nn++]=Fn,tn[nn++]=Un,tn[nn++]=Cs,Cs=t;var r=Fn;t=Un;var s=32-fn(r)-1;r&=~(1<<s),n+=1;var i=32-fn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Fn=1<<32-fn(e)+s|n<<s|r,Un=i+t}else Fn=1<<i|n<<s|r,Un=t}function pm(t){t.return!==null&&(cs(t,1),mE(t,1,0))}function mm(t){for(;t===qu;)qu=hi[--fi],hi[fi]=null,Ku=hi[--fi],hi[fi]=null;for(;t===Cs;)Cs=tn[--nn],tn[nn]=null,Un=tn[--nn],tn[nn]=null,Fn=tn[--nn],tn[nn]=null}var $t=null,Bt=null,Te=!1,hn=null;function gE(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Bt=br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cs!==null?{id:Fn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Bt=null,!0):!1;default:return!1}}function jf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Df(t){if(Te){var e=Bt;if(e){var n=e;if(!Hv(t,e)){if(jf(t))throw Error(B(418));e=br(n.nextSibling);var r=$t;e&&Hv(t,e)?gE(r,n):(t.flags=t.flags&-4097|2,Te=!1,$t=t)}}else{if(jf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Te=!1,$t=t}}}function Wv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function $l(t){if(t!==$t)return!1;if(!Te)return Wv(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rf(t.type,t.memoizedProps)),e&&(e=Bt)){if(jf(t))throw yE(),Error(B(418));for(;e;)gE(t,e),e=br(e.nextSibling)}if(Wv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bt=br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bt=null}}else Bt=$t?br(t.stateNode.nextSibling):null;return!0}function yE(){for(var t=Bt;t;)t=br(t.nextSibling)}function Di(){Bt=$t=null,Te=!1}function gm(t){hn===null?hn=[t]:hn.push(t)}var mR=or.ReactCurrentBatchConfig;function Co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Hl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qv(t){var e=t._init;return e(t._payload)}function vE(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Vr(w,y),w.index=0,w.sibling=null,w}function i(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,_,A){return y===null||y.tag!==6?(y=Ph(_,w.mode,A),y.return=w,y):(y=s(y,_),y.return=w,y)}function l(w,y,_,A){var V=_.type;return V===oi?d(w,y,_.props.children,A,_.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===pr&&qv(V)===y.type)?(A=s(y,_.props),A.ref=Co(w,y,_),A.return=w,A):(A=wu(_.type,_.key,_.props,null,w.mode,A),A.ref=Co(w,y,_),A.return=w,A)}function c(w,y,_,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Ah(_,w.mode,A),y.return=w,y):(y=s(y,_.children||[]),y.return=w,y)}function d(w,y,_,A,V){return y===null||y.tag!==7?(y=Ts(_,w.mode,A,V),y.return=w,y):(y=s(y,_),y.return=w,y)}function f(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ph(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jl:return _=wu(y.type,y.key,y.props,null,w.mode,_),_.ref=Co(w,null,y),_.return=w,_;case ii:return y=Ah(y,w.mode,_),y.return=w,y;case pr:var A=y._init;return f(w,A(y._payload),_)}if(Oo(y)||To(y))return y=Ts(y,w.mode,_,null),y.return=w,y;Hl(w,y)}return null}function m(w,y,_,A){var V=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:a(w,y,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jl:return _.key===V?l(w,y,_,A):null;case ii:return _.key===V?c(w,y,_,A):null;case pr:return V=_._init,m(w,y,V(_._payload),A)}if(Oo(_)||To(_))return V!==null?null:d(w,y,_,A,null);Hl(w,_)}return null}function v(w,y,_,A,V){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(_)||null,a(y,w,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case jl:return w=w.get(A.key===null?_:A.key)||null,l(y,w,A,V);case ii:return w=w.get(A.key===null?_:A.key)||null,c(y,w,A,V);case pr:var M=A._init;return v(w,y,_,M(A._payload),V)}if(Oo(A)||To(A))return w=w.get(_)||null,d(y,w,A,V,null);Hl(y,A)}return null}function x(w,y,_,A){for(var V=null,M=null,P=y,T=y=0,C=null;P!==null&&T<_.length;T++){P.index>T?(C=P,P=null):C=P.sibling;var R=m(w,P,_[T],A);if(R===null){P===null&&(P=C);break}t&&P&&R.alternate===null&&e(w,P),y=i(R,y,T),M===null?V=R:M.sibling=R,M=R,P=C}if(T===_.length)return n(w,P),Te&&cs(w,T),V;if(P===null){for(;T<_.length;T++)P=f(w,_[T],A),P!==null&&(y=i(P,y,T),M===null?V=P:M.sibling=P,M=P);return Te&&cs(w,T),V}for(P=r(w,P);T<_.length;T++)C=v(P,w,T,_[T],A),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?T:C.key),y=i(C,y,T),M===null?V=C:M.sibling=C,M=C);return t&&P.forEach(function(b){return e(w,b)}),Te&&cs(w,T),V}function E(w,y,_,A){var V=To(_);if(typeof V!="function")throw Error(B(150));if(_=V.call(_),_==null)throw Error(B(151));for(var M=V=null,P=y,T=y=0,C=null,R=_.next();P!==null&&!R.done;T++,R=_.next()){P.index>T?(C=P,P=null):C=P.sibling;var b=m(w,P,R.value,A);if(b===null){P===null&&(P=C);break}t&&P&&b.alternate===null&&e(w,P),y=i(b,y,T),M===null?V=b:M.sibling=b,M=b,P=C}if(R.done)return n(w,P),Te&&cs(w,T),V;if(P===null){for(;!R.done;T++,R=_.next())R=f(w,R.value,A),R!==null&&(y=i(R,y,T),M===null?V=R:M.sibling=R,M=R);return Te&&cs(w,T),V}for(P=r(w,P);!R.done;T++,R=_.next())R=v(P,w,T,R.value,A),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?T:R.key),y=i(R,y,T),M===null?V=R:M.sibling=R,M=R);return t&&P.forEach(function(j){return e(w,j)}),Te&&cs(w,T),V}function I(w,y,_,A){if(typeof _=="object"&&_!==null&&_.type===oi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case jl:e:{for(var V=_.key,M=y;M!==null;){if(M.key===V){if(V=_.type,V===oi){if(M.tag===7){n(w,M.sibling),y=s(M,_.props.children),y.return=w,w=y;break e}}else if(M.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===pr&&qv(V)===M.type){n(w,M.sibling),y=s(M,_.props),y.ref=Co(w,M,_),y.return=w,w=y;break e}n(w,M);break}else e(w,M);M=M.sibling}_.type===oi?(y=Ts(_.props.children,w.mode,A,_.key),y.return=w,w=y):(A=wu(_.type,_.key,_.props,null,w.mode,A),A.ref=Co(w,y,_),A.return=w,w=A)}return o(w);case ii:e:{for(M=_.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(w,y.sibling),y=s(y,_.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Ah(_,w.mode,A),y.return=w,w=y}return o(w);case pr:return M=_._init,I(w,y,M(_._payload),A)}if(Oo(_))return x(w,y,_,A);if(To(_))return E(w,y,_,A);Hl(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,_),y.return=w,w=y):(n(w,y),y=Ph(_,w.mode,A),y.return=w,w=y),o(w)):n(w,y)}return I}var Vi=vE(!0),_E=vE(!1),Gu=Yr(null),Qu=null,pi=null,ym=null;function vm(){ym=pi=Qu=null}function _m(t){var e=Gu.current;we(Gu),t._currentValue=e}function Vf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pi(t,e){Qu=t,ym=pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(ym!==t)if(t={context:t,memoizedValue:e,next:null},pi===null){if(Qu===null)throw Error(B(308));pi=t,Qu.dependencies={lanes:0,firstContext:t}}else pi=pi.next=t;return e}var gs=null;function wm(t){gs===null?gs=[t]:gs.push(t)}function wE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,wm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jn(t,r)}function Jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mr=!1;function xm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jn(t,n)}return s=r.interleaved,s===null?(e.next=e,wm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jn(t,n)}function pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,om(t,n)}}function Kv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yu(t,e,n,r){var s=t.updateQueue;mr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,E=a;switch(m=e,v=n,E.tag){case 1:if(x=E.payload,typeof x=="function"){f=x.call(v,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,m=typeof x=="function"?x.call(v,f,m):x,m==null)break e;f=Ce({},f,m);break e;case 2:mr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=f):d=d.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ks|=o,t.lanes=o,t.memoizedState=f}}function Gv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Ka={},Sn=Yr(Ka),xa=Yr(Ka),Ea=Yr(Ka);function ys(t){if(t===Ka)throw Error(B(174));return t}function Em(t,e){switch(ye(Ea,e),ye(xa,t),ye(Sn,Ka),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mf(e,t)}we(Sn),ye(Sn,e)}function Oi(){we(Sn),we(xa),we(Ea)}function EE(t){ys(Ea.current);var e=ys(Sn.current),n=mf(e,t.type);e!==n&&(ye(xa,t),ye(Sn,n))}function Tm(t){xa.current===t&&(we(Sn),we(xa))}var Ie=Yr(0);function Xu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wh=[];function Sm(){for(var t=0;t<wh.length;t++)wh[t]._workInProgressVersionPrimary=null;wh.length=0}var mu=or.ReactCurrentDispatcher,xh=or.ReactCurrentBatchConfig,Rs=0,Ae=null,Be=null,Ke=null,Ju=!1,Yo=!1,Ta=0,gR=0;function lt(){throw Error(B(321))}function Im(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function Pm(t,e,n,r,s,i){if(Rs=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mu.current=t===null||t.memoizedState===null?wR:xR,t=n(r,s),Yo){i=0;do{if(Yo=!1,Ta=0,25<=i)throw Error(B(301));i+=1,Ke=Be=null,e.updateQueue=null,mu.current=ER,t=n(r,s)}while(Yo)}if(mu.current=Zu,e=Be!==null&&Be.next!==null,Rs=0,Ke=Be=Ae=null,Ju=!1,e)throw Error(B(300));return t}function Am(){var t=Ta!==0;return Ta=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ae.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function an(){if(Be===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=Ke===null?Ae.memoizedState:Ke.next;if(e!==null)Ke=e,Be=t;else{if(t===null)throw Error(B(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ke===null?Ae.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Sa(t,e){return typeof e=="function"?e(t):e}function Eh(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Rs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ae.lanes|=d,ks|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,mn(r,e.memoizedState)||(Nt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,ks|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Th(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);mn(i,e.memoizedState)||(Nt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function TE(){}function SE(t,e){var n=Ae,r=an(),s=e(),i=!mn(r.memoizedState,s);if(i&&(r.memoizedState=s,Nt=!0),r=r.queue,Cm(AE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Ia(9,PE.bind(null,n,r,s,e),void 0,null),Ge===null)throw Error(B(349));Rs&30||IE(n,e,s)}return s}function IE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PE(t,e,n,r){e.value=n,e.getSnapshot=r,CE(e)&&RE(t)}function AE(t,e,n){return n(function(){CE(e)&&RE(t)})}function CE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function RE(t){var e=Jn(t,1);e!==null&&pn(e,t,1,-1)}function Qv(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:t},e.queue=t,t=t.dispatch=_R.bind(null,Ae,t),[e.memoizedState,t]}function Ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kE(){return an().memoizedState}function gu(t,e,n,r){var s=wn();Ae.flags|=t,s.memoizedState=Ia(1|e,n,void 0,r===void 0?null:r)}function $c(t,e,n,r){var s=an();r=r===void 0?null:r;var i=void 0;if(Be!==null){var o=Be.memoizedState;if(i=o.destroy,r!==null&&Im(r,o.deps)){s.memoizedState=Ia(e,n,i,r);return}}Ae.flags|=t,s.memoizedState=Ia(1|e,n,i,r)}function Yv(t,e){return gu(8390656,8,t,e)}function Cm(t,e){return $c(2048,8,t,e)}function bE(t,e){return $c(4,2,t,e)}function NE(t,e){return $c(4,4,t,e)}function jE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DE(t,e,n){return n=n!=null?n.concat([t]):null,$c(4,4,jE.bind(null,e,t),n)}function Rm(){}function VE(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Im(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OE(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Im(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LE(t,e,n){return Rs&21?(mn(n,e)||(n=zx(),Ae.lanes|=n,ks|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=n)}function yR(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=xh.transition;xh.transition={};try{t(!1),e()}finally{fe=n,xh.transition=r}}function ME(){return an().memoizedState}function vR(t,e,n){var r=Dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FE(t))UE(e,n);else if(n=wE(t,e,n,r),n!==null){var s=Pt();pn(n,t,r,s),BE(n,e,r)}}function _R(t,e,n){var r=Dr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FE(t))UE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,mn(a,o)){var l=e.interleaved;l===null?(s.next=s,wm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=wE(t,e,s,r),n!==null&&(s=Pt(),pn(n,t,r,s),BE(n,e,r))}}function FE(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function UE(t,e){Yo=Ju=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,om(t,n)}}var Zu={readContext:on,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},wR={readContext:on,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Yv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gu(4194308,4,jE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return gu(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vR.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:Qv,useDebugValue:Rm,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=Qv(!1),e=t[0];return t=yR.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,s=wn();if(Te){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ge===null)throw Error(B(349));Rs&30||IE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Yv(AE.bind(null,r,i,t),[t]),r.flags|=2048,Ia(9,PE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wn(),e=Ge.identifierPrefix;if(Te){var n=Un,r=Fn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ta++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xR={readContext:on,useCallback:VE,useContext:on,useEffect:Cm,useImperativeHandle:DE,useInsertionEffect:bE,useLayoutEffect:NE,useMemo:OE,useReducer:Eh,useRef:kE,useState:function(){return Eh(Sa)},useDebugValue:Rm,useDeferredValue:function(t){var e=an();return LE(e,Be.memoizedState,t)},useTransition:function(){var t=Eh(Sa)[0],e=an().memoizedState;return[t,e]},useMutableSource:TE,useSyncExternalStore:SE,useId:ME,unstable_isNewReconciler:!1},ER={readContext:on,useCallback:VE,useContext:on,useEffect:Cm,useImperativeHandle:DE,useInsertionEffect:bE,useLayoutEffect:NE,useMemo:OE,useReducer:Th,useRef:kE,useState:function(){return Th(Sa)},useDebugValue:Rm,useDeferredValue:function(t){var e=an();return Be===null?e.memoizedState=t:LE(e,Be.memoizedState,t)},useTransition:function(){var t=Th(Sa)[0],e=an().memoizedState;return[t,e]},useMutableSource:TE,useSyncExternalStore:SE,useId:ME,unstable_isNewReconciler:!1};function cn(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Of(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hc={isMounted:function(t){return(t=t._reactInternals)?zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),s=Dr(t),i=qn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Nr(t,i,s),e!==null&&(pn(e,t,s,r),pu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),s=Dr(t),i=qn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Nr(t,i,s),e!==null&&(pn(e,t,s,r),pu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Dr(t),s=qn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Nr(t,s,r),e!==null&&(pn(e,t,r,n),pu(e,t,r))}};function Xv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ya(n,r)||!ya(s,i):!0}function zE(t,e,n){var r=!1,s=$r,i=e.contextType;return typeof i=="object"&&i!==null?i=on(i):(s=Dt(e)?As:gt.current,r=e.contextTypes,i=(r=r!=null)?ji(t,s):$r),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Jv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hc.enqueueReplaceState(e,e.state,null)}function Lf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},xm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=on(i):(i=Dt(e)?As:gt.current,s.context=ji(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Of(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hc.enqueueReplaceState(s,s.state,null),Yu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Li(t,e){try{var n="",r=e;do n+=YA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Sh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TR=typeof WeakMap=="function"?WeakMap:Map;function $E(t,e,n){n=qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tc||(tc=!0,Gf=r),Mf(t,e)},n}function HE(t,e,n){n=qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Mf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mf(t,e),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Zv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=LR.bind(null,t,e,n),e.then(t,t))}function e0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qn(-1,1),e.tag=2,Nr(n,e,1))),n.lanes|=1),t)}var SR=or.ReactCurrentOwner,Nt=!1;function St(t,e,n,r){e.child=t===null?_E(e,null,n,r):Vi(e,t.child,n,r)}function n0(t,e,n,r,s){n=n.render;var i=e.ref;return Pi(e,s),r=Pm(t,e,n,r,i,s),n=Am(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zn(t,e,s)):(Te&&n&&pm(e),e.flags|=1,St(t,e,r,s),e.child)}function r0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Lm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,WE(t,e,i,r,s)):(t=wu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ya,n(o,r)&&t.ref===e.ref)return Zn(t,e,s)}return e.flags|=1,t=Vr(i,r),t.ref=e.ref,t.return=e,e.child=t}function WE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ya(i,r)&&t.ref===e.ref)if(Nt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Nt=!0);else return e.lanes=t.lanes,Zn(t,e,s)}return Ff(t,e,n,r,s)}function qE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(gi,Ut),Ut|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(gi,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(gi,Ut),Ut|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ye(gi,Ut),Ut|=r;return St(t,e,s,n),e.child}function KE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ff(t,e,n,r,s){var i=Dt(n)?As:gt.current;return i=ji(e,i),Pi(e,s),n=Pm(t,e,n,r,i,s),r=Am(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zn(t,e,s)):(Te&&r&&pm(e),e.flags|=1,St(t,e,n,s),e.child)}function s0(t,e,n,r,s){if(Dt(n)){var i=!0;Wu(e)}else i=!1;if(Pi(e,s),e.stateNode===null)yu(t,e),zE(e,n,r),Lf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=on(c):(c=Dt(n)?As:gt.current,c=ji(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Jv(e,o,r,c),mr=!1;var m=e.memoizedState;o.state=m,Yu(e,r,o,s),l=e.memoizedState,a!==r||m!==l||jt.current||mr?(typeof d=="function"&&(Of(e,n,d,r),l=e.memoizedState),(a=mr||Xv(e,n,a,r,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:cn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Dt(n)?As:gt.current,l=ji(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Jv(e,o,r,l),mr=!1,m=e.memoizedState,o.state=m,Yu(e,r,o,s);var x=e.memoizedState;a!==f||m!==x||jt.current||mr?(typeof v=="function"&&(Of(e,n,v,r),x=e.memoizedState),(c=mr||Xv(e,n,c,r,m,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Uf(t,e,n,r,i,s)}function Uf(t,e,n,r,s,i){KE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&$v(e,n,!1),Zn(t,e,i);r=e.stateNode,SR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vi(e,t.child,null,i),e.child=Vi(e,null,a,i)):St(t,e,a,i),e.memoizedState=r.state,s&&$v(e,n,!0),e.child}function GE(t){var e=t.stateNode;e.pendingContext?zv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zv(t,e.context,!1),Em(t,e.containerInfo)}function i0(t,e,n,r,s){return Di(),gm(s),e.flags|=256,St(t,e,n,r),e.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function zf(t){return{baseLanes:t,cachePool:null,transitions:null}}function QE(t,e,n){var r=e.pendingProps,s=Ie.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ye(Ie,s&1),t===null)return Df(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kc(o,r,0,null),t=Ts(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zf(n),e.memoizedState=Bf,t):km(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return IR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Vr(a,i):(i=Ts(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?zf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bf,r}return i=t.child,t=i.sibling,r=Vr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function km(t,e){return e=Kc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wl(t,e,n,r){return r!==null&&gm(r),Vi(e,t.child,null,n),t=km(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Sh(Error(B(422))),Wl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Kc({mode:"visible",children:r.children},s,0,null),i=Ts(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Vi(e,t.child,null,o),e.child.memoizedState=zf(o),e.memoizedState=Bf,i);if(!(e.mode&1))return Wl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Sh(i,r,void 0),Wl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Nt||a){if(r=Ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jn(t,s),pn(r,t,s,-1))}return Om(),r=Sh(Error(B(421))),Wl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=MR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Bt=br(s.nextSibling),$t=e,Te=!0,hn=null,t!==null&&(tn[nn++]=Fn,tn[nn++]=Un,tn[nn++]=Cs,Fn=t.id,Un=t.overflow,Cs=e),e=km(e,r.children),e.flags|=4096,e)}function o0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vf(t.return,e,n)}function Ih(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function YE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(St(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o0(t,n,e);else if(t.tag===19)o0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ie,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ih(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ih(e,!0,n,null,i);break;case"together":Ih(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ks|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PR(t,e,n){switch(e.tag){case 3:GE(e),Di();break;case 5:EE(e);break;case 1:Dt(e.type)&&Wu(e);break;case 4:Em(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ye(Gu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?QE(t,e,n):(ye(Ie,Ie.current&1),t=Zn(t,e,n),t!==null?t.sibling:null);ye(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,qE(t,e,n)}return Zn(t,e,n)}var XE,$f,JE,ZE;XE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$f=function(){};JE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ys(Sn.current);var i=null;switch(n){case"input":s=df(t,s),r=df(t,r),i=[];break;case"select":s=Ce({},s,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":s=pf(t,s),r=pf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$u)}gf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ca.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ca.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ZE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ro(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AR(t,e,n){var r=e.pendingProps;switch(mm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(e),null;case 1:return Dt(e.type)&&Hu(),ut(e),null;case 3:return r=e.stateNode,Oi(),we(jt),we(gt),Sm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($l(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(Xf(hn),hn=null))),$f(t,e),ut(e),null;case 5:Tm(e);var s=ys(Ea.current);if(n=e.type,t!==null&&e.stateNode!=null)JE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return ut(e),null}if(t=ys(Sn.current),$l(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xn]=e,r[wa]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<Mo.length;s++)_e(Mo[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":mv(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":yv(r,i),_e("invalid",r)}gf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&zl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zl(r.textContent,a,t),s=["children",""+a]):ca.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Dl(r),gv(r,i,!0);break;case"textarea":Dl(r),vv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$u)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ax(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xn]=e,t[wa]=r,XE(t,e,!1,!1),e.stateNode=t;e:{switch(o=yf(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<Mo.length;s++)_e(Mo[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":mv(t,r),s=df(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ce({},r,{value:void 0}),_e("invalid",t);break;case"textarea":yv(t,r),s=pf(t,r),_e("invalid",t);break;default:s=r}gf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?kx(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&da(t,l):typeof l=="number"&&da(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ca.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&em(t,i,l,o))}switch(n){case"input":Dl(t),gv(t,r,!1);break;case"textarea":Dl(t),vv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ei(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ei(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ut(e),null;case 6:if(t&&e.stateNode!=null)ZE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ys(Ea.current),ys(Sn.current),$l(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(i=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:zl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return ut(e),null;case 13:if(we(Ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Bt!==null&&e.mode&1&&!(e.flags&128))yE(),Di(),e.flags|=98560,i=!1;else if(i=$l(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[xn]=e}else Di(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ut(e),i=!1}else hn!==null&&(Xf(hn),hn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?$e===0&&($e=3):Om())),e.updateQueue!==null&&(e.flags|=4),ut(e),null);case 4:return Oi(),$f(t,e),t===null&&va(e.stateNode.containerInfo),ut(e),null;case 10:return _m(e.type._context),ut(e),null;case 17:return Dt(e.type)&&Hu(),ut(e),null;case 19:if(we(Ie),i=e.memoizedState,i===null)return ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ro(i,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xu(t),o!==null){for(e.flags|=128,Ro(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ie,Ie.current&1|2),e.child}t=t.sibling}i.tail!==null&&De()>Mi&&(e.flags|=128,r=!0,Ro(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ro(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Te)return ut(e),null}else 2*De()-i.renderingStartTime>Mi&&n!==1073741824&&(e.flags|=128,r=!0,Ro(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=De(),e.sibling=null,n=Ie.current,ye(Ie,r?n&1|2:n&1),e):(ut(e),null);case 22:case 23:return Vm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ut&1073741824&&(ut(e),e.subtreeFlags&6&&(e.flags|=8192)):ut(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function CR(t,e){switch(mm(e),e.tag){case 1:return Dt(e.type)&&Hu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oi(),we(jt),we(gt),Sm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tm(e),null;case 13:if(we(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Ie),null;case 4:return Oi(),null;case 10:return _m(e.type._context),null;case 22:case 23:return Vm(),null;case 24:return null;default:return null}}var ql=!1,ft=!1,RR=typeof WeakSet=="function"?WeakSet:Set,H=null;function mi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function Hf(t,e,n){try{n()}catch(r){be(t,e,r)}}var a0=!1;function kR(t,e){if(Af=Uu,t=sE(),fm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++d===r&&(l=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cf={focusedElem:t,selectionRange:n},Uu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,I=x.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:cn(e.type,E),I);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(A){be(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return x=a0,a0=!1,x}function Xo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hf(e,n,i)}s=s.next}while(s!==r)}}function Wc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eT(t){var e=t.alternate;e!==null&&(t.alternate=null,eT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[wa],delete e[bf],delete e[hR],delete e[fR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tT(t){return t.tag===5||t.tag===3||t.tag===4}function l0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$u));else if(r!==4&&(t=t.child,t!==null))for(qf(t,e,n),t=t.sibling;t!==null;)qf(t,e,n),t=t.sibling}function Kf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kf(t,e,n),t=t.sibling;t!==null;)Kf(t,e,n),t=t.sibling}var Xe=null,dn=!1;function dr(t,e,n){for(n=n.child;n!==null;)nT(t,e,n),n=n.sibling}function nT(t,e,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Lc,n)}catch{}switch(n.tag){case 5:ft||mi(n,e);case 6:var r=Xe,s=dn;Xe=null,dr(t,e,n),Xe=r,dn=s,Xe!==null&&(dn?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(dn?(t=Xe,n=n.stateNode,t.nodeType===8?vh(t.parentNode,n):t.nodeType===1&&vh(t,n),ma(t)):vh(Xe,n.stateNode));break;case 4:r=Xe,s=dn,Xe=n.stateNode.containerInfo,dn=!0,dr(t,e,n),Xe=r,dn=s;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Hf(n,e,o),s=s.next}while(s!==r)}dr(t,e,n);break;case 1:if(!ft&&(mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,e,a)}dr(t,e,n);break;case 21:dr(t,e,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,dr(t,e,n),ft=r):dr(t,e,n);break;default:dr(t,e,n)}}function u0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RR),e.forEach(function(r){var s=FR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,dn=!1;break e;case 3:Xe=a.stateNode.containerInfo,dn=!0;break e;case 4:Xe=a.stateNode.containerInfo,dn=!0;break e}a=a.return}if(Xe===null)throw Error(B(160));nT(i,o,s),Xe=null,dn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){be(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rT(e,t),e=e.sibling}function rT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),vn(t),r&4){try{Xo(3,t,t.return),Wc(3,t)}catch(E){be(t,t.return,E)}try{Xo(5,t,t.return)}catch(E){be(t,t.return,E)}}break;case 1:un(e,t),vn(t),r&512&&n!==null&&mi(n,n.return);break;case 5:if(un(e,t),vn(t),r&512&&n!==null&&mi(n,n.return),t.flags&32){var s=t.stateNode;try{da(s,"")}catch(E){be(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ix(s,i),yf(a,o);var c=yf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?kx(s,f):d==="dangerouslySetInnerHTML"?Cx(s,f):d==="children"?da(s,f):em(s,d,f,c)}switch(a){case"input":hf(s,i);break;case"textarea":Px(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ei(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ei(s,!!i.multiple,i.defaultValue,!0):Ei(s,!!i.multiple,i.multiple?[]:"",!1))}s[wa]=i}catch(E){be(t,t.return,E)}}break;case 6:if(un(e,t),vn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){be(t,t.return,E)}}break;case 3:if(un(e,t),vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ma(e.containerInfo)}catch(E){be(t,t.return,E)}break;case 4:un(e,t),vn(t);break;case 13:un(e,t),vn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jm=De())),r&4&&u0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ft=(c=ft)||d,un(e,t),ft=c):un(e,t),vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(f=H=d;H!==null;){switch(m=H,v=m.child,m.tag){case 0:case 11:case 14:case 15:Xo(4,m,m.return);break;case 1:mi(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(E){be(r,n,E)}}break;case 5:mi(m,m.return);break;case 22:if(m.memoizedState!==null){d0(f);continue}}v!==null?(v.return=m,H=v):d0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rx("display",o))}catch(E){be(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){be(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(e,t),vn(t),r&4&&u0(t);break;case 21:break;default:un(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tT(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(da(s,""),r.flags&=-33);var i=l0(t);Kf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=l0(t);qf(t,a,o);break;default:throw Error(B(161))}}catch(l){be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bR(t,e,n){H=t,sT(t)}function sT(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ql;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ft;a=ql;var c=ft;if(ql=o,(ft=l)&&!c)for(H=s;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?h0(s):l!==null?(l.return=o,H=l):h0(s);for(;i!==null;)H=i,sT(i),i=i.sibling;H=s,ql=a,ft=c}c0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):c0(t)}}function c0(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ft||Wc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:cn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Gv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ma(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ft||e.flags&512&&Wf(e)}catch(m){be(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function d0(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function h0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wc(4,e)}catch(l){be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){be(e,s,l)}}var i=e.return;try{Wf(e)}catch(l){be(e,i,l)}break;case 5:var o=e.return;try{Wf(e)}catch(l){be(e,o,l)}}}catch(l){be(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var NR=Math.ceil,ec=or.ReactCurrentDispatcher,bm=or.ReactCurrentOwner,sn=or.ReactCurrentBatchConfig,ce=0,Ge=null,Ue=null,tt=0,Ut=0,gi=Yr(0),$e=0,Pa=null,ks=0,qc=0,Nm=0,Jo=null,kt=null,jm=0,Mi=1/0,Ln=null,tc=!1,Gf=null,jr=null,Kl=!1,Ir=null,nc=0,Zo=0,Qf=null,vu=-1,_u=0;function Pt(){return ce&6?De():vu!==-1?vu:vu=De()}function Dr(t){return t.mode&1?ce&2&&tt!==0?tt&-tt:mR.transition!==null?(_u===0&&(_u=zx()),_u):(t=fe,t!==0||(t=window.event,t=t===void 0?16:Qx(t.type)),t):1}function pn(t,e,n,r){if(50<Zo)throw Zo=0,Qf=null,Error(B(185));Ha(t,n,r),(!(ce&2)||t!==Ge)&&(t===Ge&&(!(ce&2)&&(qc|=n),$e===4&&vr(t,tt)),Vt(t,r),n===1&&ce===0&&!(e.mode&1)&&(Mi=De()+500,zc&&Xr()))}function Vt(t,e){var n=t.callbackNode;mC(t,e);var r=Fu(t,t===Ge?tt:0);if(r===0)n!==null&&xv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xv(n),e===1)t.tag===0?pR(f0.bind(null,t)):pE(f0.bind(null,t)),cR(function(){!(ce&6)&&Xr()}),n=null;else{switch($x(r)){case 1:n=im;break;case 4:n=Ux;break;case 16:n=Mu;break;case 536870912:n=Bx;break;default:n=Mu}n=hT(n,iT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iT(t,e){if(vu=-1,_u=0,ce&6)throw Error(B(327));var n=t.callbackNode;if(Ai()&&t.callbackNode!==n)return null;var r=Fu(t,t===Ge?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rc(t,r);else{e=r;var s=ce;ce|=2;var i=aT();(Ge!==t||tt!==e)&&(Ln=null,Mi=De()+500,Es(t,e));do try{VR();break}catch(a){oT(t,a)}while(!0);vm(),ec.current=i,ce=s,Ue!==null?e=0:(Ge=null,tt=0,e=$e)}if(e!==0){if(e===2&&(s=Ef(t),s!==0&&(r=s,e=Yf(t,s))),e===1)throw n=Pa,Es(t,0),vr(t,r),Vt(t,De()),n;if(e===6)vr(t,r);else{if(s=t.current.alternate,!(r&30)&&!jR(s)&&(e=rc(t,r),e===2&&(i=Ef(t),i!==0&&(r=i,e=Yf(t,i))),e===1))throw n=Pa,Es(t,0),vr(t,r),Vt(t,De()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ds(t,kt,Ln);break;case 3:if(vr(t,r),(r&130023424)===r&&(e=jm+500-De(),10<e)){if(Fu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=kf(ds.bind(null,t,kt,Ln),e);break}ds(t,kt,Ln);break;case 4:if(vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NR(r/1960))-r,10<r){t.timeoutHandle=kf(ds.bind(null,t,kt,Ln),r);break}ds(t,kt,Ln);break;case 5:ds(t,kt,Ln);break;default:throw Error(B(329))}}}return Vt(t,De()),t.callbackNode===n?iT.bind(null,t):null}function Yf(t,e){var n=Jo;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=rc(t,e),t!==2&&(e=kt,kt=n,e!==null&&Xf(e)),t}function Xf(t){kt===null?kt=t:kt.push.apply(kt,t)}function jR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vr(t,e){for(e&=~Nm,e&=~qc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function f0(t){if(ce&6)throw Error(B(327));Ai();var e=Fu(t,0);if(!(e&1))return Vt(t,De()),null;var n=rc(t,e);if(t.tag!==0&&n===2){var r=Ef(t);r!==0&&(e=r,n=Yf(t,r))}if(n===1)throw n=Pa,Es(t,0),vr(t,e),Vt(t,De()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,kt,Ln),Vt(t,De()),null}function Dm(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(Mi=De()+500,zc&&Xr())}}function bs(t){Ir!==null&&Ir.tag===0&&!(ce&6)&&Ai();var e=ce;ce|=1;var n=sn.transition,r=fe;try{if(sn.transition=null,fe=1,t)return t()}finally{fe=r,sn.transition=n,ce=e,!(ce&6)&&Xr()}}function Vm(){Ut=gi.current,we(gi)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uR(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(mm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hu();break;case 3:Oi(),we(jt),we(gt),Sm();break;case 5:Tm(r);break;case 4:Oi();break;case 13:we(Ie);break;case 19:we(Ie);break;case 10:_m(r.type._context);break;case 22:case 23:Vm()}n=n.return}if(Ge=t,Ue=t=Vr(t.current,null),tt=Ut=e,$e=0,Pa=null,Nm=qc=ks=0,kt=Jo=null,gs!==null){for(e=0;e<gs.length;e++)if(n=gs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}gs=null}return t}function oT(t,e){do{var n=Ue;try{if(vm(),mu.current=Zu,Ju){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ju=!1}if(Rs=0,Ke=Be=Ae=null,Yo=!1,Ta=0,bm.current=null,n===null||n.return===null){$e=1,Pa=e,Ue=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=e0(o);if(v!==null){v.flags&=-257,t0(v,o,a,i,e),v.mode&1&&Zv(i,c,e),e=v,l=c;var x=e.updateQueue;if(x===null){var E=new Set;E.add(l),e.updateQueue=E}else x.add(l);break e}else{if(!(e&1)){Zv(i,c,e),Om();break e}l=Error(B(426))}}else if(Te&&a.mode&1){var I=e0(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),t0(I,o,a,i,e),gm(Li(l,a));break e}}i=l=Li(l,a),$e!==4&&($e=2),Jo===null?Jo=[i]:Jo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=$E(i,l,e);Kv(i,w);break e;case 1:a=l;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(jr===null||!jr.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=HE(i,a,e);Kv(i,A);break e}}i=i.return}while(i!==null)}uT(n)}catch(V){e=V,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function aT(){var t=ec.current;return ec.current=Zu,t===null?Zu:t}function Om(){($e===0||$e===3||$e===2)&&($e=4),Ge===null||!(ks&268435455)&&!(qc&268435455)||vr(Ge,tt)}function rc(t,e){var n=ce;ce|=2;var r=aT();(Ge!==t||tt!==e)&&(Ln=null,Es(t,e));do try{DR();break}catch(s){oT(t,s)}while(!0);if(vm(),ce=n,ec.current=r,Ue!==null)throw Error(B(261));return Ge=null,tt=0,$e}function DR(){for(;Ue!==null;)lT(Ue)}function VR(){for(;Ue!==null&&!oC();)lT(Ue)}function lT(t){var e=dT(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?uT(t):Ue=e,bm.current=null}function uT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CR(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Ue=null;return}}else if(n=AR(n,e,Ut),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);$e===0&&($e=5)}function ds(t,e,n){var r=fe,s=sn.transition;try{sn.transition=null,fe=1,OR(t,e,n,r)}finally{sn.transition=s,fe=r}return null}function OR(t,e,n,r){do Ai();while(Ir!==null);if(ce&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gC(t,i),t===Ge&&(Ue=Ge=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kl||(Kl=!0,hT(Mu,function(){return Ai(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=sn.transition,sn.transition=null;var o=fe;fe=1;var a=ce;ce|=4,bm.current=null,kR(t,n),rT(n,t),nR(Cf),Uu=!!Af,Cf=Af=null,t.current=n,bR(n),aC(),ce=a,fe=o,sn.transition=i}else t.current=n;if(Kl&&(Kl=!1,Ir=t,nc=s),i=t.pendingLanes,i===0&&(jr=null),cC(n.stateNode),Vt(t,De()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(tc)throw tc=!1,t=Gf,Gf=null,t;return nc&1&&t.tag!==0&&Ai(),i=t.pendingLanes,i&1?t===Qf?Zo++:(Zo=0,Qf=t):Zo=0,Xr(),null}function Ai(){if(Ir!==null){var t=$x(nc),e=sn.transition,n=fe;try{if(sn.transition=null,fe=16>t?16:t,Ir===null)var r=!1;else{if(t=Ir,Ir=null,nc=0,ce&6)throw Error(B(331));var s=ce;for(ce|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Xo(8,d,i)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var m=d.sibling,v=d.return;if(eT(d),d===c){H=null;break}if(m!==null){m.return=v,H=m;break}H=v}}}var x=i.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var I=E.sibling;E.sibling=null,E=I}while(E!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xo(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,H=w;break e}H=i.return}}var y=t.current;for(H=y;H!==null;){o=H;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,H=_;else e:for(o=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wc(9,a)}}catch(V){be(a,a.return,V)}if(a===o){H=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,H=A;break e}H=a.return}}if(ce=s,Xr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Lc,t)}catch{}r=!0}return r}finally{fe=n,sn.transition=e}}return!1}function p0(t,e,n){e=Li(n,e),e=$E(t,e,1),t=Nr(t,e,1),e=Pt(),t!==null&&(Ha(t,1,e),Vt(t,e))}function be(t,e,n){if(t.tag===3)p0(t,t,n);else for(;e!==null;){if(e.tag===3){p0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){t=Li(n,t),t=HE(e,t,1),e=Nr(e,t,1),t=Pt(),e!==null&&(Ha(e,1,t),Vt(e,t));break}}e=e.return}}function LR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(tt&n)===n&&($e===4||$e===3&&(tt&130023424)===tt&&500>De()-jm?Es(t,0):Nm|=n),Vt(t,e)}function cT(t,e){e===0&&(t.mode&1?(e=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):e=1);var n=Pt();t=Jn(t,e),t!==null&&(Ha(t,e,n),Vt(t,n))}function MR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cT(t,n)}function FR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),cT(t,n)}var dT;dT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nt=!1,PR(t,e,n);Nt=!!(t.flags&131072)}else Nt=!1,Te&&e.flags&1048576&&mE(e,Ku,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yu(t,e),t=e.pendingProps;var s=ji(e,gt.current);Pi(e,n),s=Pm(null,e,r,t,s,n);var i=Am();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(r)?(i=!0,Wu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xm(e),s.updater=Hc,e.stateNode=s,s._reactInternals=e,Lf(e,r,t,n),e=Uf(null,e,r,!0,i,n)):(e.tag=0,Te&&i&&pm(e),St(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=BR(r),t=cn(r,t),s){case 0:e=Ff(null,e,r,t,n);break e;case 1:e=s0(null,e,r,t,n);break e;case 11:e=n0(null,e,r,t,n);break e;case 14:e=r0(null,e,r,cn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cn(r,s),Ff(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cn(r,s),s0(t,e,r,s,n);case 3:e:{if(GE(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xE(t,e),Yu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Li(Error(B(423)),e),e=i0(t,e,r,n,s);break e}else if(r!==s){s=Li(Error(B(424)),e),e=i0(t,e,r,n,s);break e}else for(Bt=br(e.stateNode.containerInfo.firstChild),$t=e,Te=!0,hn=null,n=_E(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Di(),r===s){e=Zn(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 5:return EE(e),t===null&&Df(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Rf(r,s)?o=null:i!==null&&Rf(r,i)&&(e.flags|=32),KE(t,e),St(t,e,o,n),e.child;case 6:return t===null&&Df(e),null;case 13:return QE(t,e,n);case 4:return Em(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vi(e,null,r,n):St(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cn(r,s),n0(t,e,r,s,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ye(Gu,r._currentValue),r._currentValue=o,i!==null)if(mn(i.value,o)){if(i.children===s.children&&!jt.current){e=Zn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=qn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Vf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}St(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Pi(e,n),s=on(s),r=r(s),e.flags|=1,St(t,e,r,n),e.child;case 14:return r=e.type,s=cn(r,e.pendingProps),s=cn(r.type,s),r0(t,e,r,s,n);case 15:return WE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cn(r,s),yu(t,e),e.tag=1,Dt(r)?(t=!0,Wu(e)):t=!1,Pi(e,n),zE(e,r,s),Lf(e,r,s,n),Uf(null,e,r,!0,t,n);case 19:return YE(t,e,n);case 22:return qE(t,e,n)}throw Error(B(156,e.tag))};function hT(t,e){return Fx(t,e)}function UR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,r){return new UR(t,e,n,r)}function Lm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BR(t){if(typeof t=="function")return Lm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nm)return 11;if(t===rm)return 14}return 2}function Vr(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Lm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oi:return Ts(n.children,s,i,e);case tm:o=8,s|=8;break;case af:return t=rn(12,n,e,s|2),t.elementType=af,t.lanes=i,t;case lf:return t=rn(13,n,e,s),t.elementType=lf,t.lanes=i,t;case uf:return t=rn(19,n,e,s),t.elementType=uf,t.lanes=i,t;case Ex:return Kc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wx:o=10;break e;case xx:o=9;break e;case nm:o=11;break e;case rm:o=14;break e;case pr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=rn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ts(t,e,n,r){return t=rn(7,t,r,e),t.lanes=n,t}function Kc(t,e,n,r){return t=rn(22,t,r,e),t.elementType=Ex,t.lanes=n,t.stateNode={isHidden:!1},t}function Ph(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function Ah(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ah(0),this.expirationTimes=ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ah(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mm(t,e,n,r,s,i,o,a,l){return t=new zR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=rn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xm(i),t}function $R(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fT(t){if(!t)return $r;t=t._reactInternals;e:{if(zs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Dt(n))return fE(t,n,e)}return e}function pT(t,e,n,r,s,i,o,a,l){return t=Mm(n,r,!0,t,s,i,o,a,l),t.context=fT(null),n=t.current,r=Pt(),s=Dr(n),i=qn(r,s),i.callback=e??null,Nr(n,i,s),t.current.lanes=s,Ha(t,s,r),Vt(t,r),t}function Gc(t,e,n,r){var s=e.current,i=Pt(),o=Dr(s);return n=fT(n),e.context===null?e.context=n:e.pendingContext=n,e=qn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nr(s,e,o),t!==null&&(pn(t,s,o,i),pu(t,s,o)),o}function sc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fm(t,e){m0(t,e),(t=t.alternate)&&m0(t,e)}function HR(){return null}var mT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Um(t){this._internalRoot=t}Qc.prototype.render=Um.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Gc(t,e,null,null)};Qc.prototype.unmount=Um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bs(function(){Gc(null,t,null,null)}),e[Xn]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=qx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yr.length&&e!==0&&e<yr[n].priority;n++);yr.splice(n,0,t),n===0&&Gx(t)}};function Bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g0(){}function WR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=sc(o);i.call(c)}}var o=pT(e,r,t,0,null,!1,!1,"",g0);return t._reactRootContainer=o,t[Xn]=o.current,va(t.nodeType===8?t.parentNode:t),bs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=sc(l);a.call(c)}}var l=Mm(t,0,!1,null,null,!1,!1,"",g0);return t._reactRootContainer=l,t[Xn]=l.current,va(t.nodeType===8?t.parentNode:t),bs(function(){Gc(e,l,n,r)}),l}function Xc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=sc(o);a.call(l)}}Gc(e,o,t,s)}else o=WR(n,e,t,s,r);return sc(o)}Hx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Lo(e.pendingLanes);n!==0&&(om(e,n|1),Vt(e,De()),!(ce&6)&&(Mi=De()+500,Xr()))}break;case 13:bs(function(){var r=Jn(t,1);if(r!==null){var s=Pt();pn(r,t,1,s)}}),Fm(t,1)}};am=function(t){if(t.tag===13){var e=Jn(t,134217728);if(e!==null){var n=Pt();pn(e,t,134217728,n)}Fm(t,134217728)}};Wx=function(t){if(t.tag===13){var e=Dr(t),n=Jn(t,e);if(n!==null){var r=Pt();pn(n,t,e,r)}Fm(t,e)}};qx=function(){return fe};Kx=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};_f=function(t,e,n){switch(e){case"input":if(hf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bc(r);if(!s)throw Error(B(90));Sx(r),hf(r,s)}}}break;case"textarea":Px(t,n);break;case"select":e=n.value,e!=null&&Ei(t,!!n.multiple,e,!1)}};jx=Dm;Dx=bs;var qR={usingClientEntryPoint:!1,Events:[qa,ci,Bc,bx,Nx,Dm]},ko={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KR={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lx(t),t===null?null:t.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||HR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{Lc=Gl.inject(KR),Tn=Gl}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qR;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(e))throw Error(B(200));return $R(t,e,null,n)};Kt.createRoot=function(t,e){if(!Bm(t))throw Error(B(299));var n=!1,r="",s=mT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Mm(t,1,!1,null,null,n,!1,r,s),t[Xn]=e.current,va(t.nodeType===8?t.parentNode:t),new Um(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Lx(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return bs(t)};Kt.hydrate=function(t,e,n){if(!Yc(e))throw Error(B(200));return Xc(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!Bm(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=mT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pT(e,null,t,1,n??null,s,!1,i,o),t[Xn]=e.current,va(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qc(e)};Kt.render=function(t,e,n){if(!Yc(e))throw Error(B(200));return Xc(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!Yc(t))throw Error(B(40));return t._reactRootContainer?(bs(function(){Xc(null,null,t,!1,function(){t._reactRootContainer=null,t[Xn]=null})}),!0):!1};Kt.unstable_batchedUpdates=Dm;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Xc(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function gT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gT)}catch(t){console.error(t)}}gT(),gx.exports=Kt;var GR=gx.exports,y0=GR;sf.createRoot=y0.createRoot,sf.hydrateRoot=y0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}var Pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pr||(Pr={}));const v0="popstate";function QR(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Jf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ic(s)}return XR(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YR(){return Math.random().toString(36).substr(2,8)}function _0(t,e){return{usr:t.state,key:t.key,idx:e}}function Jf(t,e,n,r){return n===void 0&&(n=null),Aa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zi(e):e,{state:n,key:e&&e.key||r||YR()})}function ic(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Pr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Aa({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Pr.Pop;let I=d(),w=I==null?null:I-c;c=I,l&&l({action:a,location:E.location,delta:w})}function m(I,w){a=Pr.Push;let y=Jf(E.location,I,w);c=d()+1;let _=_0(y,c),A=E.createHref(y);try{o.pushState(_,"",A)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(A)}i&&l&&l({action:a,location:E.location,delta:1})}function v(I,w){a=Pr.Replace;let y=Jf(E.location,I,w);c=d();let _=_0(y,c),A=E.createHref(y);o.replaceState(_,"",A),i&&l&&l({action:a,location:E.location,delta:0})}function x(I){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof I=="string"?I:ic(I);return y=y.replace(/ $/,"%20"),Oe(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let E={get action(){return a},get location(){return t(s,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(v0,f),l=I,()=>{s.removeEventListener(v0,f),l=null}},createHref(I){return e(s,I)},createURL:x,encodeLocation(I){let w=x(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:v,go(I){return o.go(I)}};return E}var w0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(w0||(w0={}));function JR(t,e,n){return n===void 0&&(n="/"),ZR(t,e,n)}function ZR(t,e,n,r){let s=typeof e=="string"?Zi(e):e,i=zm(s.pathname||"/",n);if(i==null)return null;let o=vT(t);ek(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=hk(i);a=uk(o[l],c)}return a}function vT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Or([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vT(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:ak(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of _T(i.path))s(i,o,l)}),e}function _T(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=_T(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ek(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tk=/^:[\w-]+$/,nk=3,rk=2,sk=1,ik=10,ok=-2,x0=t=>t==="*";function ak(t,e){let n=t.split("/"),r=n.length;return n.some(x0)&&(r+=ok),e&&(r+=rk),n.filter(s=>!x0(s)).reduce((s,i)=>s+(tk.test(i)?nk:i===""?sk:ik),r)}function lk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function uk(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=ck({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Or([i,f.pathname]),pathnameBase:gk(Or([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Or([i,f.pathnameBase]))}return o}function ck(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let E=a[f]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const x=a[f];return v&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function dk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Zi(t):t;return{pathname:n?n.startsWith("/")?n:pk(n,e):e,search:yk(r),hash:vk(s)}}function pk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ch(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $m(t,e){let n=mk(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Zi(t):(s=Aa({},t),Oe(!s.pathname||!s.pathname.includes("?"),Ch("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),Ch("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),Ch("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=fk(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Or=t=>t.join("/").replace(/\/\/+/g,"/"),gk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _k(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wT=["post","put","patch","delete"];new Set(wT);const wk=["get",...wT];new Set(wk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ca.apply(this,arguments)}const Wm=N.createContext(null),xk=N.createContext(null),Jr=N.createContext(null),Jc=N.createContext(null),Zr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),xT=N.createContext(null);function Ek(t,e){let{relative:n}=e===void 0?{}:e;eo()||Oe(!1);let{basename:r,navigator:s}=N.useContext(Jr),{hash:i,pathname:o,search:a}=TT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Or([r,o])),s.createHref({pathname:l,search:a,hash:i})}function eo(){return N.useContext(Jc)!=null}function Ga(){return eo()||Oe(!1),N.useContext(Jc).location}function ET(t){N.useContext(Jr).static||N.useLayoutEffect(t)}function Qa(){let{isDataRoute:t}=N.useContext(Zr);return t?Vk():Tk()}function Tk(){eo()||Oe(!1);let t=N.useContext(Wm),{basename:e,future:n,navigator:r}=N.useContext(Jr),{matches:s}=N.useContext(Zr),{pathname:i}=Ga(),o=JSON.stringify($m(s,n.v7_relativeSplatPath)),a=N.useRef(!1);return ET(()=>{a.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Hm(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Or([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function TT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Jr),{matches:s}=N.useContext(Zr),{pathname:i}=Ga(),o=JSON.stringify($m(s,r.v7_relativeSplatPath));return N.useMemo(()=>Hm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Sk(t,e){return Ik(t,e)}function Ik(t,e,n,r){eo()||Oe(!1);let{navigator:s}=N.useContext(Jr),{matches:i}=N.useContext(Zr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ga(),d;if(e){var f;let I=typeof e=="string"?Zi(e):e;l==="/"||(f=I.pathname)!=null&&f.startsWith(l)||Oe(!1),d=I}else d=c;let m=d.pathname||"/",v=m;if(l!=="/"){let I=l.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let x=JR(t,{pathname:v}),E=kk(x&&x.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Or([l,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:Or([l,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n,r);return e&&E?N.createElement(Jc.Provider,{value:{location:Ca({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pr.Pop}},E):E}function Pk(){let t=Dk(),e=_k(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,null)}const Ak=N.createElement(Pk,null);class Ck extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Zr.Provider,{value:this.props.routeContext},N.createElement(xT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rk(t){let{routeContext:e,match:n,children:r}=t,s=N.useContext(Wm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Zr.Provider,{value:e},r)}function kk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Oe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:v}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let v,x=!1,E=null,I=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||Ak,l&&(c<0&&m===0?(Ok("route-fallback"),x=!0,I=null):c===m&&(x=!0,I=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,m+1)),y=()=>{let _;return v?_=E:x?_=I:f.route.Component?_=N.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,N.createElement(Rk,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?N.createElement(Ck,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var ST=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ST||{}),IT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(IT||{});function bk(t){let e=N.useContext(Wm);return e||Oe(!1),e}function Nk(t){let e=N.useContext(xk);return e||Oe(!1),e}function jk(t){let e=N.useContext(Zr);return e||Oe(!1),e}function PT(t){let e=jk(),n=e.matches[e.matches.length-1];return n.route.id||Oe(!1),n.route.id}function Dk(){var t;let e=N.useContext(xT),n=Nk(),r=PT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Vk(){let{router:t}=bk(ST.UseNavigateStable),e=PT(IT.UseNavigateStable),n=N.useRef(!1);return ET(()=>{n.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ca({fromRouteId:e},i)))},[t,e])}const E0={};function Ok(t,e,n){E0[t]||(E0[t]=!0)}function Lk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Zf(t){let{to:e,replace:n,state:r,relative:s}=t;eo()||Oe(!1);let{future:i,static:o}=N.useContext(Jr),{matches:a}=N.useContext(Zr),{pathname:l}=Ga(),c=Qa(),d=Hm(e,$m(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return N.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function ti(t){Oe(!1)}function Mk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Pr.Pop,navigator:i,static:o=!1,future:a}=t;eo()&&Oe(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:i,static:o,future:Ca({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Zi(r));let{pathname:d="/",search:f="",hash:m="",state:v=null,key:x="default"}=r,E=N.useMemo(()=>{let I=zm(d,l);return I==null?null:{location:{pathname:I,search:f,hash:m,state:v,key:x},navigationType:s}},[l,d,f,m,v,x,s]);return E==null?null:N.createElement(Jr.Provider,{value:c},N.createElement(Jc.Provider,{children:n,value:E}))}function Fk(t){let{children:e,location:n}=t;return Sk(ep(e),n)}new Promise(()=>{});function ep(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let i=[...e,s];if(r.type===N.Fragment){n.push.apply(n,ep(r.props.children,i));return}r.type!==ti&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ep(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function Uk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Bk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zk(t,e){return t.button===0&&(!e||e==="_self")&&!Bk(t)}const $k=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hk="6";try{window.__reactRouterVersion=Hk}catch{}const Wk="startTransition",T0=LA[Wk];function qk(t){let{basename:e,children:n,future:r,window:s}=t,i=N.useRef();i.current==null&&(i.current=QR({window:s,v5Compat:!0}));let o=i.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=N.useCallback(f=>{c&&T0?T0(()=>l(f)):l(f)},[l,c]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>Lk(r),[r]),N.createElement(Mk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Kk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AT=N.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,m=Uk(e,$k),{basename:v}=N.useContext(Jr),x,E=!1;if(typeof c=="string"&&Gk.test(c)&&(x=c,Kk))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),V=zm(A.pathname,v);A.origin===_.origin&&V!=null?c=V+A.search+A.hash:E=!0}catch{}let I=Ek(c,{relative:s}),w=Qk(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function y(_){r&&r(_),_.defaultPrevented||w(_)}return N.createElement("a",tp({},m,{href:x||I,onClick:E||i?r:y,ref:n,target:l}))});var S0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(S0||(S0={}));var I0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I0||(I0={}));function Qk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Qa(),c=Ga(),d=TT(t,{relative:o});return N.useCallback(f=>{if(zk(f,n)){f.preventDefault();let m=r!==void 0?r:ic(c)===ic(d);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Yk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},RT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(m=64)),r.push(n[d],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new Xk;const m=i<<2|a>>4;if(r.push(m),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Xk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jk=function(t){const e=CT(t);return RT.encodeByteArray(e,!0)},oc=function(t){return Jk(t).replace(/\./g,"")},kT=function(t){try{return RT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=()=>Zk().__FIREBASE_DEFAULTS__,tb=()=>{if(typeof process>"u"||typeof P0>"u")return;const t=P0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kT(t[1]);return e&&JSON.parse(e)},Zc=()=>{try{return eb()||tb()||nb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bT=t=>{var e,n;return(n=(e=Zc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rb=t=>{const e=bT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NT=()=>{var t;return(t=Zc())===null||t===void 0?void 0:t.config},jT=t=>{var e;return(e=Zc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oc(JSON.stringify(n)),oc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function ab(){var t;const e=(t=Zc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ub(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function db(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hb(){return!ab()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fb(){try{return typeof indexedDB=="object"}catch{return!1}}function pb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="FirebaseError";class ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mb,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?gb(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ar(s,a,r)}}function gb(t,e){return t.replace(yb,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yb=/\{\$([^}]+)}/g;function vb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ac(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(A0(i)&&A0(o)){if(!ac(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function A0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Uo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _b(t,e){const n=new wb(t,e);return n.subscribe.bind(n)}class wb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xb(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rh),s.error===void 0&&(s.error=Rh),s.complete===void 0&&(s.complete=Rh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sb(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tb(t){return t===hs?void 0:t}function Sb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Eb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const Pb={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Ab=ae.INFO,Cb={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Rb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Cb[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=Ab,this._logHandler=Rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const kb=(t,e)=>e.some(n=>t instanceof n);let C0,R0;function bb(){return C0||(C0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nb(){return R0||(R0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DT=new WeakMap,np=new WeakMap,VT=new WeakMap,kh=new WeakMap,Km=new WeakMap;function jb(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Lr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DT.set(n,t)}).catch(()=>{}),Km.set(e,t),e}function Db(t){if(np.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});np.set(t,e)}let rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vb(t){rp=t(rp)}function Ob(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bh(this),e,...n);return VT.set(r,e.sort?e.sort():[e]),Lr(r)}:Nb().includes(t)?function(...e){return t.apply(bh(this),e),Lr(DT.get(this))}:function(...e){return Lr(t.apply(bh(this),e))}}function Lb(t){return typeof t=="function"?Ob(t):(t instanceof IDBTransaction&&Db(t),kb(t,bb())?new Proxy(t,rp):t)}function Lr(t){if(t instanceof IDBRequest)return jb(t);if(kh.has(t))return kh.get(t);const e=Lb(t);return e!==t&&(kh.set(t,e),Km.set(e,t)),e}const bh=t=>Km.get(t);function Mb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Lr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Lr(o.result),l.oldVersion,l.newVersion,Lr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Fb=["get","getKey","getAll","getAllKeys","count"],Ub=["put","add","delete","clear"],Nh=new Map;function k0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nh.get(e))return Nh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Ub.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Fb.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Nh.set(e,i),i}Vb(t=>({...t,get:(e,n,r)=>k0(e,n)||t.get(e,n,r),has:(e,n)=>!!k0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sp="@firebase/app",b0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new qm("@firebase/app"),$b="@firebase/app-compat",Hb="@firebase/analytics-compat",Wb="@firebase/analytics",qb="@firebase/app-check-compat",Kb="@firebase/app-check",Gb="@firebase/auth",Qb="@firebase/auth-compat",Yb="@firebase/database",Xb="@firebase/data-connect",Jb="@firebase/database-compat",Zb="@firebase/functions",eN="@firebase/functions-compat",tN="@firebase/installations",nN="@firebase/installations-compat",rN="@firebase/messaging",sN="@firebase/messaging-compat",iN="@firebase/performance",oN="@firebase/performance-compat",aN="@firebase/remote-config",lN="@firebase/remote-config-compat",uN="@firebase/storage",cN="@firebase/storage-compat",dN="@firebase/firestore",hN="@firebase/vertexai-preview",fN="@firebase/firestore-compat",pN="firebase",mN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",gN={[sp]:"fire-core",[$b]:"fire-core-compat",[Wb]:"fire-analytics",[Hb]:"fire-analytics-compat",[Kb]:"fire-app-check",[qb]:"fire-app-check-compat",[Gb]:"fire-auth",[Qb]:"fire-auth-compat",[Yb]:"fire-rtdb",[Xb]:"fire-data-connect",[Jb]:"fire-rtdb-compat",[Zb]:"fire-fn",[eN]:"fire-fn-compat",[tN]:"fire-iid",[nN]:"fire-iid-compat",[rN]:"fire-fcm",[sN]:"fire-fcm-compat",[iN]:"fire-perf",[oN]:"fire-perf-compat",[aN]:"fire-rc",[lN]:"fire-rc-compat",[uN]:"fire-gcs",[cN]:"fire-gcs-compat",[dN]:"fire-fst",[fN]:"fire-fst-compat",[hN]:"fire-vertex","fire-js":"fire-js",[pN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,yN=new Map,op=new Map;function N0(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fi(t){const e=t.name;if(op.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,t);for(const n of lc.values())N0(n,t);for(const n of yN.values())N0(n,t);return!0}function Gm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Ya("app","Firebase",vN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=mN;function OT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ip,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Mr.create("bad-app-name",{appName:String(s)});if(n||(n=NT()),!n)throw Mr.create("no-options");const i=lc.get(s);if(i){if(ac(n,i.options)&&ac(r,i.config))return i;throw Mr.create("duplicate-app",{appName:s})}const o=new Ib(s);for(const l of op.values())o.addComponent(l);const a=new _N(n,r,o);return lc.set(s,a),a}function LT(t=ip){const e=lc.get(t);if(!e&&t===ip&&NT())return OT();if(!e)throw Mr.create("no-app",{appName:t});return e}function Fr(t,e,n){var r;let s=(r=gN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(a.join(" "));return}Fi(new Ns(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",xN=1,Ra="firebase-heartbeat-store";let jh=null;function MT(){return jh||(jh=Mb(wN,xN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),jh}async function EN(t){try{const n=(await MT()).transaction(Ra),r=await n.objectStore(Ra).get(FT(t));return await n.done,r}catch(e){if(e instanceof ar)er.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function j0(t,e){try{const r=(await MT()).transaction(Ra,"readwrite");await r.objectStore(Ra).put(e,FT(t)),await r.done}catch(n){if(n instanceof ar)er.warn(n.message);else{const r=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(r.message)}}}function FT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1024,SN=30*24*60*60*1e3;class IN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=SN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D0(),{heartbeatsToSend:r,unsentEntries:s}=PN(this._heartbeatsCache.heartbeats),i=oc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return er.warn(n),""}}}function D0(){return new Date().toISOString().substring(0,10)}function PN(t,e=TN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),V0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),V0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fb()?pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function V0(t){return oc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){Fi(new Ns("platform-logger",e=>new Bb(e),"PRIVATE")),Fi(new Ns("heartbeat",e=>new IN(e),"PRIVATE")),Fr(sp,b0,t),Fr(sp,b0,"esm2017"),Fr("fire-js","")}CN("");function Qm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RN=UT,BT=new Ya("auth","Firebase",UT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new qm("@firebase/auth");function kN(t,...e){uc.logLevel<=ae.WARN&&uc.warn(`Auth (${to}): ${t}`,...e)}function xu(t,...e){uc.logLevel<=ae.ERROR&&uc.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw Ym(t,...e)}function In(t,...e){return Ym(t,...e)}function zT(t,e,n){const r=Object.assign(Object.assign({},RN()),{[e]:n});return new Ya("auth","Firebase",r).create(e,{appName:t.name})}function Kn(t){return zT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BT.create(t,...e)}function Y(t,e,...n){if(!t)throw Ym(e,...n)}function Bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function tr(t,e){t||Bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bN(){return O0()==="http:"||O0()==="https:"}function O0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bN()||ub()||"connection"in navigator)?navigator.onLine:!0}function jN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=ob()||cb()}get(){return NN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e){tr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Ja(3e4,6e4);function es(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ts(t,e,n,r,s={}){return HT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Xa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return lb()||(c.referrerPolicy="no-referrer"),$T.fetch()(WT(t,t.config.apiHost,n,a),c)})}async function HT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DN),e);try{const s=new LN(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ql(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ql(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ql(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ql(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zT(t,d,c);gn(t,d)}}catch(s){if(s instanceof ar)throw s;gn(t,"network-request-failed",{message:String(s)})}}async function Za(t,e,n,r,s={}){const i=await ts(t,e,n,r,s);return"mfaPendingCredential"in i&&gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function WT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Xm(t.config,s):`${t.config.apiScheme}://${s}`}function ON(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),VN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=In(t,e,r);return s.customData._tokenResponse=n,s}function L0(t){return t!==void 0&&t.enterprise!==void 0}class MN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ON(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function FN(t,e){return ts(t,"GET","/v2/recaptchaConfig",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function qT(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BN(t,e=!1){const n=vt(t),r=await n.getIdToken(e),s=Jm(r);Y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ea(Dh(s.auth_time)),issuedAtTime:ea(Dh(s.iat)),expirationTime:ea(Dh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Dh(t){return Number(t)*1e3}function Jm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const s=kT(n);return s?JSON.parse(s):(xu("Failed to decode base64 JWT payload"),null)}catch(s){return xu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function M0(t){const e=Jm(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ar&&zN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ka(t,qT(n,{idToken:r}));Y(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?KT(i.providerUserInfo):[],a=WN(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new lp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function HN(t){const e=vt(t);await cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WN(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function KT(t){return t.map(e=>{var{providerId:n}=e,r=Qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e){const n=await HT(t,{},async()=>{const r=Xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=WT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$T.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KN(t,e){return ts(t,"POST","/v2/accounts:revokeToken",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=M0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await qN(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ci;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Y(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Y(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ci,this.toJSON())}_performRefresh(){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new lp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ka(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BN(this,e)}reload(){return HN(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(Kn(this.auth));const e=await this.getIdToken();return await ka(this,UN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:A,isAnonymous:V,providerData:M,stsTokenManager:P}=n;Y(_&&P,e,"internal-error");const T=Ci.fromJSON(this.name,P);Y(typeof _=="string",e,"internal-error"),hr(f,e.name),hr(m,e.name),Y(typeof A=="boolean",e,"internal-error"),Y(typeof V=="boolean",e,"internal-error"),hr(v,e.name),hr(x,e.name),hr(E,e.name),hr(I,e.name),hr(w,e.name),hr(y,e.name);const C=new zn({uid:_,auth:e,email:m,emailVerified:A,displayName:f,isAnonymous:V,photoURL:x,phoneNumber:v,tenantId:E,stsTokenManager:T,createdAt:w,lastLoginAt:y});return M&&Array.isArray(M)&&(C.providerData=M.map(R=>Object.assign({},R))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ci;s.updateFromServerResponse(n);const i=new zn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Y(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?KT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ci;a.updateFromIdToken(r);const l=new zn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new lp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function $n(t){tr(t instanceof Function,"Expected a class definition");let e=F0.get(t);return e?(tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GT.type="NONE";const U0=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ri{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Eu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Eu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ri($n(U0),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||$n(U0);const o=Eu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=zn._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ri(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ri(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eS(e))return"Blackberry";if(tS(e))return"Webos";if(YT(e))return"Safari";if((e.includes("chrome/")||XT(e))&&!e.includes("edge/"))return"Chrome";if(ZT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QT(t=yt()){return/firefox\//i.test(t)}function YT(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XT(t=yt()){return/crios\//i.test(t)}function JT(t=yt()){return/iemobile/i.test(t)}function ZT(t=yt()){return/android/i.test(t)}function eS(t=yt()){return/blackberry/i.test(t)}function tS(t=yt()){return/webos/i.test(t)}function Zm(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GN(t=yt()){var e;return Zm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QN(){return db()&&document.documentMode===10}function nS(t=yt()){return Zm(t)||ZT(t)||tS(t)||eS(t)||/windows phone/i.test(t)||JT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e=[]){let n;switch(t){case"Browser":n=B0(yt());break;case"Worker":n=`${B0(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e={}){return ts(t,"GET","/v2/passwordPolicy",es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=6;class ZN{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z0(this),this.idTokenSubscription=new z0(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ri.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qT(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(En(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(Kn(this));const n=e?vt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(Kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(Kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XN(this),n=new ZN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$n(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Ri.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $s(t){return vt(t)}class z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_b(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t2(t){ed=t}function sS(t){return ed.loadJS(t)}function n2(){return ed.recaptchaEnterpriseScript}function r2(){return ed.gapiScript}function s2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const i2="recaptcha-enterprise",o2="NO_RECAPTCHA";class a2{constructor(e){this.type=i2,this.auth=$s(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{FN(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new MN(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;L0(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(o2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&L0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n2();l.length!==0&&(l+=a),sS(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function $0(t,e,n,r=!1){const s=new a2(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function up(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await $0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){const n=Gm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ac(i,e??{}))return s;gn(s,"already-initialized")}return n.initialize({options:e})}function u2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c2(t,e,n){const r=$s(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=iS(e),{host:o,port:a}=d2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),h2()}function iS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d2(t){const e=iS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:H0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:H0(o)}}}function H0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,n){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}}async function f2(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e){return Za(t,"POST","/v1/accounts:signInWithPassword",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(t,e){return Za(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}async function g2(t,e){return Za(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends eg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ba(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ba(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,n,"signInWithPassword",p2);case"emailLink":return m2(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,r,"signUpPassword",f2);case"emailLink":return g2(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ki(t,e){return Za(t,"POST","/v1/accounts:signInWithIdp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="http://localhost";class js extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Qm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new js(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ki(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ki(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ki(e,n)}buildRequest(){const e={requestUri:y2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _2(t){const e=Fo(Uo(t)).link,n=e?Fo(Uo(e)).deep_link_id:null,r=Fo(Uo(t)).deep_link_id;return(r?Fo(Uo(r)).link:null)||r||n||e||t}class tg{constructor(e){var n,r,s,i,o,a;const l=Fo(Uo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=v2((s=l.mode)!==null&&s!==void 0?s:null);Y(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_2(e);try{return new tg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,n){return ba._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=tg.parseLink(n);return Y(r,"argument-error"),ba._fromEmailAndCode(e,r.code,r.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends oS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends el{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends el{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends el{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends el{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(t,e){return Za(t,"POST","/v1/accounts:signUp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await zn._fromIdTokenResponse(e,r,s),o=W0(r);return new Ds({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=W0(r);return new Ds({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function W0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends ar{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new dc(e,n,r,s)}}function aS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?dc._fromErrorAndOperation(t,i,e,r):i})}async function x2(t,e,n=!1){const r=await ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(t,e,n=!1){const{auth:r}=t;if(En(r.app))return Promise.reject(Kn(r));const s="reauthenticate";try{const i=await ka(t,aS(r,s,e,t),n);Y(i.idToken,r,"internal-error");const o=Jm(i.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),Ds._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(t,e,n=!1){if(En(t.app))return Promise.reject(Kn(t));const r="signIn",s=await aS(t,r,e),i=await Ds._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function T2(t,e){return lS($s(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(t){const e=$s(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S2(t,e,n){if(En(t.app))return Promise.reject(Kn(t));const r=$s(t),o=await up(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uS(t),l}),a=await Ds._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function I2(t,e,n){return En(t.app)?Promise.reject(Kn(t)):T2(vt(t),no.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uS(t),r})}function P2(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function A2(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function C2(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function R2(t){return vt(t).signOut()}const hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=1e3,b2=10;class dS extends cS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);QN()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,b2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dS.type="LOCAL";const N2=dS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends cS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hS.type="SESSION";const fS=hS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new td(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await j2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=ng("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function V2(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function O2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function M2(){return pS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebaseLocalStorageDb",F2=1,fc="firebaseLocalStorage",gS="fbase_key";class tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nd(t,e){return t.transaction([fc],e?"readwrite":"readonly").objectStore(fc)}function U2(){const t=indexedDB.deleteDatabase(mS);return new tl(t).toPromise()}function cp(){const t=indexedDB.open(mS,F2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fc,{keyPath:gS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fc)?e(r):(r.close(),await U2(),e(await cp()))})})}async function q0(t,e,n){const r=nd(t,!0).put({[gS]:e,value:n});return new tl(r).toPromise()}async function B2(t,e){const n=nd(t,!1).get(e),r=await new tl(n).toPromise();return r===void 0?null:r.value}function K0(t,e){const n=nd(t,!0).delete(e);return new tl(n).toPromise()}const z2=800,$2=3;class yS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(M2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await O2(),!this.activeServiceWorker)return;this.sender=new D2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await q0(e,hc,"1"),await K0(e,hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=nd(s,!1).getAll();return new tl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yS.type="LOCAL";const H2=yS;new Ja(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e){return e?$n(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ki(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ki(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ki(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function q2(t){return lS(t.auth,new rg(t),t.bypassAuthState)}function K2(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),E2(n,new rg(t),t.bypassAuthState)}async function G2(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),x2(n,new rg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q2;case"linkViaPopup":case"linkViaRedirect":return G2;case"reauthViaPopup":case"reauthViaRedirect":return K2;default:gn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Ja(2e3,1e4);class yi extends vS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,yi.currentPopupAction&&yi.currentPopupAction.cancel(),yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q2.get())};e()}}yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="pendingRedirect",Tu=new Map;class X2 extends vS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tu.get(this.auth._key());if(!e){try{const r=await J2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J2(t,e){const n=tj(e),r=ej(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Z2(t,e){Tu.set(t._key(),e)}function ej(t){return $n(t._redirectPersistence)}function tj(t){return Eu(Y2,t.config.apiKey,t.name)}async function nj(t,e,n=!1){if(En(t.app))return Promise.reject(Kn(t));const r=$s(t),s=W2(r,e),o=await new X2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=10*60*1e3;class sj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ij(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_S(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rj&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(e))}saveEventToCache(e){this.cachedEventUids.add(G0(e)),this.lastProcessedEventTime=Date.now()}}function G0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _S({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ij(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _S(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lj=/^https?/;async function uj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oj(t);for(const n of e)try{if(cj(n))return}catch{}gn(t,"unauthorized-domain")}function cj(t){const e=ap(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lj.test(n))return!1;if(aj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Ja(3e4,6e4);function Q0(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hj(t){return new Promise((e,n)=>{var r,s,i;function o(){Q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q0(),n(In(t,"network-request-failed"))},timeout:dj.get()})}if(!((s=(r=Pn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Pn().gapi)===null||i===void 0)&&i.load)o();else{const a=s2("iframefcb");return Pn()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},sS(`${r2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Su=null,e})}let Su=null;function fj(t){return Su=Su||hj(t),Su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Ja(5e3,15e3),mj="__/auth/iframe",gj="emulator/auth/iframe",yj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _j(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xm(e,gj):`https://${t.config.authDomain}/${mj}`,r={apiKey:e.apiKey,appName:t.name,v:to},s=vj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Xa(r).slice(1)}`}async function wj(t){const e=await fj(t),n=Pn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:_j(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),a=Pn().setTimeout(()=>{i(o)},pj.get());function l(){Pn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ej=500,Tj=600,Sj="_blank",Ij="http://localhost";class Y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pj(t,e,n,r=Ej,s=Tj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xj),{width:r.toString(),height:s.toString(),top:i,left:o}),c=yt().toLowerCase();n&&(a=XT(c)?Sj:n),QT(c)&&(e=e||Ij,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[v,x])=>`${m}${v}=${x},`,"");if(GN(c)&&a!=="_self")return Aj(e||"",a),new Y0(null);const f=window.open(e||"",a,d);Y(f,t,"popup-blocked");try{f.focus()}catch{}return new Y0(f)}function Aj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="__/auth/handler",Rj="emulator/auth/handler",kj=encodeURIComponent("fac");async function X0(t,e,n,r,s,i){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:to,eventId:s};if(e instanceof oS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof el){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${kj}=${encodeURIComponent(l)}`:"";return`${bj(t)}?${Xa(a).slice(1)}${c}`}function bj({config:t}){return t.emulator?Xm(t,Rj):`https://${t.authDomain}/${Cj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="webStorageSupport";class Nj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fS,this._completeRedirectFn=nj,this._overrideRedirectResult=Z2}async _openPopup(e,n,r,s){var i;tr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await X0(e,n,r,ap(),s);return Pj(e,o,ng())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await X0(e,n,r,ap(),s);return V2(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(tr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wj(e),r=new sj(e);return n.register("authEvent",s=>(Y(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vh,{type:Vh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Vh];o!==void 0&&n(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nS()||YT()||Zm()}}const jj=Nj;var J0="@firebase/auth",Z0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Oj(t){Fi(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rS(t)},c=new e2(r,s,i,l);return u2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fi(new Ns("auth-internal",e=>{const n=$s(e.getProvider("auth").getImmediate());return(r=>new Dj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(J0,Z0,Vj(t)),Fr(J0,Z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=5*60,Mj=jT("authIdTokenMaxAge")||Lj;let e_=null;const Fj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Mj)return;const s=n==null?void 0:n.token;e_!==s&&(e_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Uj(t=LT()){const e=Gm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l2(t,{popupRedirectResolver:jj,persistence:[H2,N2,fS]}),r=jT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Fj(i.toString());A2(n,o,()=>o(n.currentUser)),P2(n,a=>o(a))}}const s=bT("auth");return s&&c2(n,`http://${s}`),n}function Bj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=In("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Bj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Oj("Browser");var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,wS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function C(){}C.prototype=T.prototype,P.D=T.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(R,b,j){for(var k=Array(arguments.length-2),me=2;me<arguments.length;me++)k[me-2]=arguments[me];return T.prototype[b].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,T,C){C||(C=0);var R=Array(16);if(typeof T=="string")for(var b=0;16>b;++b)R[b]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(b=0;16>b;++b)R[b]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=P.g[0],C=P.g[1],b=P.g[2];var j=P.g[3],k=T+(j^C&(b^j))+R[0]+3614090360&4294967295;T=C+(k<<7&4294967295|k>>>25),k=j+(b^T&(C^b))+R[1]+3905402710&4294967295,j=T+(k<<12&4294967295|k>>>20),k=b+(C^j&(T^C))+R[2]+606105819&4294967295,b=j+(k<<17&4294967295|k>>>15),k=C+(T^b&(j^T))+R[3]+3250441966&4294967295,C=b+(k<<22&4294967295|k>>>10),k=T+(j^C&(b^j))+R[4]+4118548399&4294967295,T=C+(k<<7&4294967295|k>>>25),k=j+(b^T&(C^b))+R[5]+1200080426&4294967295,j=T+(k<<12&4294967295|k>>>20),k=b+(C^j&(T^C))+R[6]+2821735955&4294967295,b=j+(k<<17&4294967295|k>>>15),k=C+(T^b&(j^T))+R[7]+4249261313&4294967295,C=b+(k<<22&4294967295|k>>>10),k=T+(j^C&(b^j))+R[8]+1770035416&4294967295,T=C+(k<<7&4294967295|k>>>25),k=j+(b^T&(C^b))+R[9]+2336552879&4294967295,j=T+(k<<12&4294967295|k>>>20),k=b+(C^j&(T^C))+R[10]+4294925233&4294967295,b=j+(k<<17&4294967295|k>>>15),k=C+(T^b&(j^T))+R[11]+2304563134&4294967295,C=b+(k<<22&4294967295|k>>>10),k=T+(j^C&(b^j))+R[12]+1804603682&4294967295,T=C+(k<<7&4294967295|k>>>25),k=j+(b^T&(C^b))+R[13]+4254626195&4294967295,j=T+(k<<12&4294967295|k>>>20),k=b+(C^j&(T^C))+R[14]+2792965006&4294967295,b=j+(k<<17&4294967295|k>>>15),k=C+(T^b&(j^T))+R[15]+1236535329&4294967295,C=b+(k<<22&4294967295|k>>>10),k=T+(b^j&(C^b))+R[1]+4129170786&4294967295,T=C+(k<<5&4294967295|k>>>27),k=j+(C^b&(T^C))+R[6]+3225465664&4294967295,j=T+(k<<9&4294967295|k>>>23),k=b+(T^C&(j^T))+R[11]+643717713&4294967295,b=j+(k<<14&4294967295|k>>>18),k=C+(j^T&(b^j))+R[0]+3921069994&4294967295,C=b+(k<<20&4294967295|k>>>12),k=T+(b^j&(C^b))+R[5]+3593408605&4294967295,T=C+(k<<5&4294967295|k>>>27),k=j+(C^b&(T^C))+R[10]+38016083&4294967295,j=T+(k<<9&4294967295|k>>>23),k=b+(T^C&(j^T))+R[15]+3634488961&4294967295,b=j+(k<<14&4294967295|k>>>18),k=C+(j^T&(b^j))+R[4]+3889429448&4294967295,C=b+(k<<20&4294967295|k>>>12),k=T+(b^j&(C^b))+R[9]+568446438&4294967295,T=C+(k<<5&4294967295|k>>>27),k=j+(C^b&(T^C))+R[14]+3275163606&4294967295,j=T+(k<<9&4294967295|k>>>23),k=b+(T^C&(j^T))+R[3]+4107603335&4294967295,b=j+(k<<14&4294967295|k>>>18),k=C+(j^T&(b^j))+R[8]+1163531501&4294967295,C=b+(k<<20&4294967295|k>>>12),k=T+(b^j&(C^b))+R[13]+2850285829&4294967295,T=C+(k<<5&4294967295|k>>>27),k=j+(C^b&(T^C))+R[2]+4243563512&4294967295,j=T+(k<<9&4294967295|k>>>23),k=b+(T^C&(j^T))+R[7]+1735328473&4294967295,b=j+(k<<14&4294967295|k>>>18),k=C+(j^T&(b^j))+R[12]+2368359562&4294967295,C=b+(k<<20&4294967295|k>>>12),k=T+(C^b^j)+R[5]+4294588738&4294967295,T=C+(k<<4&4294967295|k>>>28),k=j+(T^C^b)+R[8]+2272392833&4294967295,j=T+(k<<11&4294967295|k>>>21),k=b+(j^T^C)+R[11]+1839030562&4294967295,b=j+(k<<16&4294967295|k>>>16),k=C+(b^j^T)+R[14]+4259657740&4294967295,C=b+(k<<23&4294967295|k>>>9),k=T+(C^b^j)+R[1]+2763975236&4294967295,T=C+(k<<4&4294967295|k>>>28),k=j+(T^C^b)+R[4]+1272893353&4294967295,j=T+(k<<11&4294967295|k>>>21),k=b+(j^T^C)+R[7]+4139469664&4294967295,b=j+(k<<16&4294967295|k>>>16),k=C+(b^j^T)+R[10]+3200236656&4294967295,C=b+(k<<23&4294967295|k>>>9),k=T+(C^b^j)+R[13]+681279174&4294967295,T=C+(k<<4&4294967295|k>>>28),k=j+(T^C^b)+R[0]+3936430074&4294967295,j=T+(k<<11&4294967295|k>>>21),k=b+(j^T^C)+R[3]+3572445317&4294967295,b=j+(k<<16&4294967295|k>>>16),k=C+(b^j^T)+R[6]+76029189&4294967295,C=b+(k<<23&4294967295|k>>>9),k=T+(C^b^j)+R[9]+3654602809&4294967295,T=C+(k<<4&4294967295|k>>>28),k=j+(T^C^b)+R[12]+3873151461&4294967295,j=T+(k<<11&4294967295|k>>>21),k=b+(j^T^C)+R[15]+530742520&4294967295,b=j+(k<<16&4294967295|k>>>16),k=C+(b^j^T)+R[2]+3299628645&4294967295,C=b+(k<<23&4294967295|k>>>9),k=T+(b^(C|~j))+R[0]+4096336452&4294967295,T=C+(k<<6&4294967295|k>>>26),k=j+(C^(T|~b))+R[7]+1126891415&4294967295,j=T+(k<<10&4294967295|k>>>22),k=b+(T^(j|~C))+R[14]+2878612391&4294967295,b=j+(k<<15&4294967295|k>>>17),k=C+(j^(b|~T))+R[5]+4237533241&4294967295,C=b+(k<<21&4294967295|k>>>11),k=T+(b^(C|~j))+R[12]+1700485571&4294967295,T=C+(k<<6&4294967295|k>>>26),k=j+(C^(T|~b))+R[3]+2399980690&4294967295,j=T+(k<<10&4294967295|k>>>22),k=b+(T^(j|~C))+R[10]+4293915773&4294967295,b=j+(k<<15&4294967295|k>>>17),k=C+(j^(b|~T))+R[1]+2240044497&4294967295,C=b+(k<<21&4294967295|k>>>11),k=T+(b^(C|~j))+R[8]+1873313359&4294967295,T=C+(k<<6&4294967295|k>>>26),k=j+(C^(T|~b))+R[15]+4264355552&4294967295,j=T+(k<<10&4294967295|k>>>22),k=b+(T^(j|~C))+R[6]+2734768916&4294967295,b=j+(k<<15&4294967295|k>>>17),k=C+(j^(b|~T))+R[13]+1309151649&4294967295,C=b+(k<<21&4294967295|k>>>11),k=T+(b^(C|~j))+R[4]+4149444226&4294967295,T=C+(k<<6&4294967295|k>>>26),k=j+(C^(T|~b))+R[11]+3174756917&4294967295,j=T+(k<<10&4294967295|k>>>22),k=b+(T^(j|~C))+R[2]+718787259&4294967295,b=j+(k<<15&4294967295|k>>>17),k=C+(j^(b|~T))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(b+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+b&4294967295,P.g[3]=P.g[3]+j&4294967295}r.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var C=T-this.blockSize,R=this.B,b=this.h,j=0;j<T;){if(b==0)for(;j<=C;)s(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<T;)if(R[b++]=P.charCodeAt(j++),b==this.blockSize){s(this,R),b=0;break}}else for(;j<T;)if(R[b++]=P[j++],b==this.blockSize){s(this,R),b=0;break}}this.h=b,this.o+=T},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var C=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=C&255,C/=256;for(this.u(P),P=Array(16),T=C=0;4>T;++T)for(var R=0;32>R;R+=8)P[C++]=this.g[T]>>>R&255;return P};function i(P,T){var C=a;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=T(P)}function o(P,T){this.h=T;for(var C=[],R=!0,b=P.length-1;0<=b;b--){var j=P[b]|0;R&&j==T||(C[b]=j,R=!1)}this.g=C}var a={};function l(P){return-128<=P&&128>P?i(P,function(T){return new o([T|0],0>T?-1:0)}):new o([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return I(c(-P));for(var T=[],C=1,R=0;P>=C;R++)T[R]=P/C|0,C*=4294967296;return new o(T,0)}function d(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return I(d(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(T,8)),R=f,b=0;b<P.length;b+=8){var j=Math.min(8,P.length-b),k=parseInt(P.substring(b,b+j),T);8>j?(j=c(Math.pow(T,j)),R=R.j(j).add(c(k))):(R=R.j(C),R=R.add(c(k)))}return R}var f=l(0),m=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-I(this).m();for(var P=0,T=1,C=0;C<this.g.length;C++){var R=this.i(C);P+=(0<=R?R:4294967296+R)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(E(this))return"-"+I(this).toString(P);for(var T=c(Math.pow(P,6)),C=this,R="";;){var b=A(C,T).g;C=w(C,b.j(T));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=b,x(C))return j+R;for(;6>j.length;)j="0"+j;R=j+R}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=w(this,P),E(P)?-1:x(P)?0:1};function I(P){for(var T=P.g.length,C=[],R=0;R<T;R++)C[R]=~P.g[R];return new o(C,~P.h).add(m)}t.abs=function(){return E(this)?I(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],R=0,b=0;b<=T;b++){var j=R+(this.i(b)&65535)+(P.i(b)&65535),k=(j>>>16)+(this.i(b)>>>16)+(P.i(b)>>>16);R=k>>>16,j&=65535,k&=65535,C[b]=k<<16|j}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(P,T){return P.add(I(T))}t.j=function(P){if(x(this)||x(P))return f;if(E(this))return E(P)?I(this).j(I(P)):I(I(this).j(P));if(E(P))return I(this.j(I(P)));if(0>this.l(v)&&0>P.l(v))return c(this.m()*P.m());for(var T=this.g.length+P.g.length,C=[],R=0;R<2*T;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var b=0;b<P.g.length;b++){var j=this.i(R)>>>16,k=this.i(R)&65535,me=P.i(b)>>>16,Rt=P.i(b)&65535;C[2*R+2*b]+=k*Rt,y(C,2*R+2*b),C[2*R+2*b+1]+=j*Rt,y(C,2*R+2*b+1),C[2*R+2*b+1]+=k*me,y(C,2*R+2*b+1),C[2*R+2*b+2]+=j*me,y(C,2*R+2*b+2)}for(R=0;R<T;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=T;R<2*T;R++)C[R]=0;return new o(C,0)};function y(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function _(P,T){this.g=P,this.h=T}function A(P,T){if(x(T))throw Error("division by zero");if(x(P))return new _(f,f);if(E(P))return T=A(I(P),T),new _(I(T.g),I(T.h));if(E(T))return T=A(P,I(T)),new _(I(T.g),T.h);if(30<P.g.length){if(E(P)||E(T))throw Error("slowDivide_ only works with positive integers.");for(var C=m,R=T;0>=R.l(P);)C=V(C),R=V(R);var b=M(C,1),j=M(R,1);for(R=M(R,2),C=M(C,2);!x(R);){var k=j.add(R);0>=k.l(P)&&(b=b.add(C),j=k),R=M(R,1),C=M(C,1)}return T=w(P,b.j(T)),new _(b,T)}for(b=f;0<=P.l(T);){for(C=Math.max(1,Math.floor(P.m()/T.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),j=c(C),k=j.j(T);E(k)||0<k.l(P);)C-=R,j=c(C),k=j.j(T);x(j)&&(j=m),b=b.add(j),P=w(P,k)}return new _(b,P)}t.A=function(P){return A(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)&P.i(R);return new o(C,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)|P.i(R);return new o(C,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)^P.i(R);return new o(C,this.h^P.h)};function V(P){for(var T=P.g.length+1,C=[],R=0;R<T;R++)C[R]=P.i(R)<<1|P.i(R-1)>>>31;return new o(C,P.h)}function M(P,T){var C=T>>5;T%=32;for(var R=P.g.length-C,b=[],j=0;j<R;j++)b[j]=0<T?P.i(j+C)>>>T|P.i(j+C+1)<<32-T:P.i(j+C);return new o(b,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ss=o}).apply(typeof t_<"u"?t_:typeof self<"u"?self:typeof window<"u"?window:{});var Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xS,Bo,ES,Iu,dp,TS,SS,IS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yl=="object"&&Yl];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var g=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var D=u[S];if(!(D in g))break e;g=g[D]}u=u[u.length-1],S=g[u],p=p(S),p!=S&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var g=0,S=!1,D={next:function(){if(!S&&g<u.length){var L=g++;return{value:p(L,u[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,g){return u.call.apply(u.bind,arguments)}function f(u,p,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,S),u.apply(p,D)}}return function(){return u.apply(p,arguments)}}function m(u,p,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function v(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function x(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,D,L){for(var z=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)z[ge-2]=arguments[ge];return p.prototype[D].apply(S,z)}}function E(u){const p=u.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=u[S];return g}return[]}function I(u,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const D=u.length||0,L=S.length||0;u.length=D+L;for(let z=0;z<L;z++)u[D+z]=S[z]}else u.push(S)}}class w{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var V=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function M(u,p,g){for(const S in u)p.call(g,u[S],S,u)}function P(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function T(u){const p={};for(const g in u)p[g]=u[g];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,p){let g,S;for(let D=1;D<arguments.length;D++){S=arguments[D];for(g in S)u[g]=S[g];for(let L=0;L<C.length;L++)g=C[L],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function b(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function j(u){a.setTimeout(()=>{throw u},0)}function k(){var u=q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class me{constructor(){this.h=this.g=null}add(p,g){const S=Rt.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var Rt=new w(()=>new Se,u=>u.reset());class Se{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let We,$=!1,q=new me,Z=()=>{const u=a.Promise.resolve(void 0);We=()=>{u.then(X)}};var X=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(g){j(g)}var p=Rt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}$=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Qt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function Yt(u,p){if(Ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(V){e:{try{A(p.nodeName);var D=!0;break e}catch{}D=!1}D||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Yt.aa.h.call(this)}}x(Yt,Ee);var _t={2:"touch",3:"pen",4:"mouse"};Yt.prototype.h=function(){Yt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),jd=0;function lo(u,p,g,S,D){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=D,this.key=++jd,this.da=this.fa=!1}function jn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Jt(u){this.src=u,this.g={},this.h=0}Jt.prototype.add=function(u,p,g,S,D){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var z=Dd(u,p,S,D);return-1<z?(p=u[z],g||(p.fa=!1)):(p=new lo(p,this.src,L,!!S,D),p.fa=g,u.push(p)),p};function ml(u,p){var g=p.type;if(g in u.g){var S=u.g[g],D=Array.prototype.indexOf.call(S,p,void 0),L;(L=0<=D)&&Array.prototype.splice.call(S,D,1),L&&(jn(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Dd(u,p,g,S){for(var D=0;D<u.length;++D){var L=u[D];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==S)return D}return-1}var Vd="closure_lm_"+(1e6*Math.random()|0),Od={};function cy(u,p,g,S,D){if(Array.isArray(p)){for(var L=0;L<p.length;L++)cy(u,p[L],g,S,D);return null}return g=fy(g),u&&u[Xt]?u.K(p,g,c(S)?!!S.capture:!1,D):WP(u,p,g,!1,S,D)}function WP(u,p,g,S,D,L){if(!p)throw Error("Invalid event type");var z=c(D)?!!D.capture:!!D,ge=Md(u);if(ge||(u[Vd]=ge=new Jt(u)),g=ge.add(p,g,S,z,L),g.proxy)return g;if(S=qP(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)Qt||(D=z),D===void 0&&(D=!1),u.addEventListener(p.toString(),S,D);else if(u.attachEvent)u.attachEvent(hy(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function qP(){function u(g){return p.call(u.src,u.listener,g)}const p=KP;return u}function dy(u,p,g,S,D){if(Array.isArray(p))for(var L=0;L<p.length;L++)dy(u,p[L],g,S,D);else S=c(S)?!!S.capture:!!S,g=fy(g),u&&u[Xt]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],g=Dd(L,g,S,D),-1<g&&(jn(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=Md(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Dd(p,g,S,D)),(g=-1<u?p[u]:null)&&Ld(g))}function Ld(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Xt])ml(p.i,u);else{var g=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(g,S,u.capture):p.detachEvent?p.detachEvent(hy(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=Md(p))?(ml(g,u),g.h==0&&(g.src=null,p[Vd]=null)):jn(u)}}}function hy(u){return u in Od?Od[u]:Od[u]="on"+u}function KP(u,p){if(u.da)u=!0;else{p=new Yt(p,this);var g=u.listener,S=u.ha||u.src;u.fa&&Ld(u),u=g.call(S,p)}return u}function Md(u){return u=u[Vd],u instanceof Jt?u:null}var Fd="__closure_events_fn_"+(1e9*Math.random()>>>0);function fy(u){return typeof u=="function"?u:(u[Fd]||(u[Fd]=function(p){return u.handleEvent(p)}),u[Fd])}function it(){ue.call(this),this.i=new Jt(this),this.M=this,this.F=null}x(it,ue),it.prototype[Xt]=!0,it.prototype.removeEventListener=function(u,p,g,S){dy(this,u,p,g,S)};function wt(u,p){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new Ee(p,u);else if(p instanceof Ee)p.target=p.target||u;else{var D=p;p=new Ee(S,u),R(p,D)}if(D=!0,g)for(var L=g.length-1;0<=L;L--){var z=p.g=g[L];D=gl(z,S,!0,p)&&D}if(z=p.g=u,D=gl(z,S,!0,p)&&D,D=gl(z,S,!1,p)&&D,g)for(L=0;L<g.length;L++)z=p.g=g[L],D=gl(z,S,!1,p)&&D}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],S=0;S<g.length;S++)jn(g[S]);delete u.g[p],u.h--}}this.F=null},it.prototype.K=function(u,p,g,S){return this.i.add(String(u),p,!1,g,S)},it.prototype.L=function(u,p,g,S){return this.i.add(String(u),p,!0,g,S)};function gl(u,p,g,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var D=!0,L=0;L<p.length;++L){var z=p[L];if(z&&!z.da&&z.capture==g){var ge=z.listener,Ye=z.ha||z.src;z.fa&&ml(u.i,z),D=ge.call(Ye,S)!==!1&&D}}return D&&!S.defaultPrevented}function py(u,p,g){if(typeof u=="function")g&&(u=m(u,g));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function my(u){u.g=py(()=>{u.g=null,u.i&&(u.i=!1,my(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class GP extends ue{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:my(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(u){ue.call(this),this.h=u,this.g={}}x(uo,ue);var gy=[];function yy(u){M(u.g,function(p,g){this.g.hasOwnProperty(g)&&Ld(p)},u),u.g={}}uo.prototype.N=function(){uo.aa.N.call(this),yy(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ud=a.JSON.stringify,QP=a.JSON.parse,YP=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Bd(){}Bd.prototype.h=null;function vy(u){return u.h||(u.h=u.i())}function _y(){}var co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zd(){Ee.call(this,"d")}x(zd,Ee);function $d(){Ee.call(this,"c")}x($d,Ee);var is={},wy=null;function yl(){return wy=wy||new it}is.La="serverreachability";function xy(u){Ee.call(this,is.La,u)}x(xy,Ee);function ho(u){const p=yl();wt(p,new xy(p))}is.STAT_EVENT="statevent";function Ey(u,p){Ee.call(this,is.STAT_EVENT,u),this.stat=p}x(Ey,Ee);function xt(u){const p=yl();wt(p,new Ey(p,u))}is.Ma="timingevent";function Ty(u,p){Ee.call(this,is.Ma,u),this.size=p}x(Ty,Ee);function fo(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function po(){this.g=!0}po.prototype.xa=function(){this.g=!1};function XP(u,p,g,S,D,L){u.info(function(){if(u.g)if(L)for(var z="",ge=L.split("&"),Ye=0;Ye<ge.length;Ye++){var de=ge[Ye].split("=");if(1<de.length){var ot=de[0];de=de[1];var at=ot.split("_");z=2<=at.length&&at[1]=="type"?z+(ot+"="+de+"&"):z+(ot+"=redacted&")}}else z=null;else z=L;return"XMLHTTP REQ ("+S+") [attempt "+D+"]: "+p+`
`+g+`
`+z})}function JP(u,p,g,S,D,L,z){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+D+"]: "+p+`
`+g+`
`+L+" "+z})}function Ys(u,p,g,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+eA(u,g)+(S?" "+S:"")})}function ZP(u,p){u.info(function(){return"TIMEOUT: "+p})}po.prototype.info=function(){};function eA(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var D=S[1];if(Array.isArray(D)&&!(1>D.length)){var L=D[0];if(L!="noop"&&L!="stop"&&L!="close")for(var z=1;z<D.length;z++)D[z]=""}}}}return Ud(g)}catch{return p}}var vl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hd;function _l(){}x(_l,Bd),_l.prototype.g=function(){return new XMLHttpRequest},_l.prototype.i=function(){return{}},Hd=new _l;function lr(u,p,g,S){this.j=u,this.i=p,this.l=g,this.R=S||1,this.U=new uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Iy}function Iy(){this.i=null,this.g="",this.h=!1}var Py={},Wd={};function qd(u,p,g){u.L=1,u.v=Tl(Dn(p)),u.m=g,u.P=!0,Ay(u,null)}function Ay(u,p){u.F=Date.now(),wl(u),u.A=Dn(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),By(g.i,"t",S),u.C=0,g=u.j.J,u.h=new Iy,u.g=iv(u.j,g?p:null,!u.m),0<u.O&&(u.M=new GP(m(u.Y,u,u.g),u.O)),p=u.U,g=u.g,S=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(gy[0]=D.toString()),D=gy);for(var L=0;L<D.length;L++){var z=cy(g,D[L],S||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ho(),XP(u.i,u.u,u.A,u.l,u.R,u.m)}lr.prototype.ca=function(u){u=u.target;const p=this.M;p&&Vn(u)==3?p.j():this.Y(u)},lr.prototype.Y=function(u){try{if(u==this.g)e:{const at=Vn(this.g);var p=this.g.Ba();const Zs=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||Gy(this.g)))){this.J||at!=4||p==7||(p==8||0>=Zs?ho(3):ho(2)),Kd(this);var g=this.g.Z();this.X=g;t:if(Cy(this)){var S=Gy(this.g);u="";var D=S.length,L=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),mo(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<D;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(L&&p==D-1)});S.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,JP(this.i,this.u,this.A,this.l,this.R,at,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,Ye=this.g;if((ge=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ge)){var de=ge;break t}}de=null}if(g=de)Ys(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gd(this,g);else{this.o=!1,this.s=3,xt(12),os(this),mo(this);break e}}if(this.P){g=!0;let ln;for(;!this.J&&this.C<z.length;)if(ln=tA(this,z),ln==Wd){at==4&&(this.s=4,xt(14),g=!1),Ys(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Py){this.s=4,xt(15),Ys(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else Ys(this.i,this.l,ln,null),Gd(this,ln);if(Cy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||z.length!=0||this.h.h||(this.s=1,xt(16),g=!1),this.o=this.o&&g,!g)Ys(this.i,this.l,z,"[Invalid Chunked Response]"),os(this),mo(this);else if(0<z.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),eh(ot),ot.M=!0,xt(11))}}else Ys(this.i,this.l,z,null),Gd(this,z);at==4&&os(this),this.o&&!this.J&&(at==4?tv(this.j,this):(this.o=!1,wl(this)))}else vA(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),os(this),mo(this)}}}catch{}finally{}};function Cy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tA(u,p){var g=u.C,S=p.indexOf(`
`,g);return S==-1?Wd:(g=Number(p.substring(g,S)),isNaN(g)?Py:(S+=1,S+g>p.length?Wd:(p=p.slice(S,S+g),u.C=S+g,p)))}lr.prototype.cancel=function(){this.J=!0,os(this)};function wl(u){u.S=Date.now()+u.I,Ry(u,u.I)}function Ry(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fo(m(u.ba,u),p)}function Kd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}lr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ZP(this.i,this.A),this.L!=2&&(ho(),xt(17)),os(this),this.s=2,mo(this)):Ry(this,this.S-u)};function mo(u){u.j.G==0||u.J||tv(u.j,u)}function os(u){Kd(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,yy(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Gd(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||Qd(g.h,u))){if(!u.K&&Qd(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var D=S;if(D[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Rl(g),Al(g);else break e;Zd(g),xt(18)}}else g.za=D[1],0<g.za-g.T&&37500>D[2]&&g.F&&g.v==0&&!g.C&&(g.C=fo(m(g.Za,g),6e3));if(1>=Ny(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ls(g,11)}else if((u.K||g.g==u)&&Rl(g),!y(p))for(D=g.Da.g.parse(p),p=0;p<D.length;p++){let de=D[p];if(g.T=de[0],de=de[1],g.G==2)if(de[0]=="c"){g.K=de[1],g.ia=de[2];const ot=de[3];ot!=null&&(g.la=ot,g.j.info("VER="+g.la));const at=de[4];at!=null&&(g.Aa=at,g.j.info("SVER="+g.Aa));const Zs=de[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(S=1.5*Zs,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const ln=u.g;if(ln){const bl=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bl){var L=S.h;L.g||bl.indexOf("spdy")==-1&&bl.indexOf("quic")==-1&&bl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Yd(L,L.h),L.h=null))}if(S.D){const th=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;th&&(S.ya=th,ve(S.I,S.D,th))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var z=u;if(S.qa=sv(S,S.J?S.ia:null,S.W),z.K){jy(S.h,z);var ge=z,Ye=S.L;Ye&&(ge.I=Ye),ge.B&&(Kd(ge),wl(ge)),S.g=z}else Zy(S);0<g.i.length&&Cl(g)}else de[0]!="stop"&&de[0]!="close"||ls(g,7);else g.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?ls(g,7):Jd(g):de[0]!="noop"&&g.l&&g.l.ta(de),g.v=0)}}ho(4)}catch{}}var nA=class{constructor(u,p){this.g=u,this.map=p}};function ky(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function by(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ny(u){return u.h?1:u.g?u.g.size:0}function Qd(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Yd(u,p){u.g?u.g.add(p):u.h=p}function jy(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ky.prototype.cancel=function(){if(this.i=Dy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dy(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return E(u.i)}function rA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,S=0;S<g;S++)p.push(u[S]);return p}p=[],g=0;for(S in u)p[g++]=u[S];return p}function sA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const S in u)p[g++]=S;return p}}}function Vy(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=sA(u),S=rA(u),D=S.length,L=0;L<D;L++)p.call(void 0,S[L],g&&g[L],u)}var Oy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iA(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),D=null;if(0<=S){var L=u[g].substring(0,S);D=u[g].substring(S+1)}else L=u[g];p(L,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function as(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof as){this.h=u.h,xl(this,u.j),this.o=u.o,this.g=u.g,El(this,u.s),this.l=u.l;var p=u.i,g=new vo;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),Ly(this,g),this.m=u.m}else u&&(p=String(u).match(Oy))?(this.h=!1,xl(this,p[1]||"",!0),this.o=go(p[2]||""),this.g=go(p[3]||"",!0),El(this,p[4]),this.l=go(p[5]||"",!0),Ly(this,p[6]||"",!0),this.m=go(p[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}as.prototype.toString=function(){var u=[],p=this.j;p&&u.push(yo(p,My,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(yo(p,My,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(yo(g,g.charAt(0)=="/"?lA:aA,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",yo(g,cA)),u.join("")};function Dn(u){return new as(u)}function xl(u,p,g){u.j=g?go(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function El(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ly(u,p,g){p instanceof vo?(u.i=p,dA(u.i,u.h)):(g||(p=yo(p,uA)),u.i=new vo(p,u.h))}function ve(u,p,g){u.i.set(p,g)}function Tl(u){return ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function go(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yo(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,oA),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function oA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var My=/[#\/\?@]/g,aA=/[#\?:]/g,lA=/[#\?]/g,uA=/[#\?@]/g,cA=/#/g;function vo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ur(u){u.g||(u.g=new Map,u.h=0,u.i&&iA(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=vo.prototype,t.add=function(u,p){ur(this),this.i=null,u=Xs(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function Fy(u,p){ur(u),p=Xs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Uy(u,p){return ur(u),p=Xs(u,p),u.g.has(p)}t.forEach=function(u,p){ur(this),this.g.forEach(function(g,S){g.forEach(function(D){u.call(p,D,S,this)},this)},this)},t.na=function(){ur(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const D=u[S];for(let L=0;L<D.length;L++)g.push(p[S])}return g},t.V=function(u){ur(this);let p=[];if(typeof u=="string")Uy(this,u)&&(p=p.concat(this.g.get(Xs(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return ur(this),this.i=null,u=Xs(this,u),Uy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function By(u,p,g){Fy(u,p),0<g.length&&(u.i=null,u.g.set(Xs(u,p),E(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const L=encodeURIComponent(String(S)),z=this.V(S);for(S=0;S<z.length;S++){var D=L;z[S]!==""&&(D+="="+encodeURIComponent(String(z[S]))),u.push(D)}}return this.i=u.join("&")};function Xs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function dA(u,p){p&&!u.j&&(ur(u),u.i=null,u.g.forEach(function(g,S){var D=S.toLowerCase();S!=D&&(Fy(this,S),By(this,D,g))},u)),u.j=p}function hA(u,p){const g=new po;if(a.Image){const S=new Image;S.onload=v(cr,g,"TestLoadImage: loaded",!0,p,S),S.onerror=v(cr,g,"TestLoadImage: error",!1,p,S),S.onabort=v(cr,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=v(cr,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function fA(u,p){const g=new po,S=new AbortController,D=setTimeout(()=>{S.abort(),cr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(L=>{clearTimeout(D),L.ok?cr(g,"TestPingServer: ok",!0,p):cr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),cr(g,"TestPingServer: error",!1,p)})}function cr(u,p,g,S,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),S(g)}catch{}}function pA(){this.g=new YP}function mA(u,p,g){const S=g||"";try{Vy(u,function(D,L){let z=D;c(D)&&(z=Ud(D)),p.push(S+L+"="+encodeURIComponent(z))})}catch(D){throw p.push(S+"type="+encodeURIComponent("_badmap")),D}}function Sl(u){this.l=u.Ub||null,this.j=u.eb||!1}x(Sl,Bd),Sl.prototype.g=function(){return new Il(this.l,this.j)},Sl.prototype.i=function(u){return function(){return u}}({});function Il(u,p){it.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Il,it),t=Il.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,wo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wo(this)),this.g&&(this.readyState=3,wo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function zy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?_o(this):wo(this),this.readyState==3&&zy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,_o(this))},t.Qa=function(u){this.g&&(this.response=u,_o(this))},t.ga=function(){this.g&&_o(this)};function _o(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wo(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function wo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $y(u){let p="";return M(u,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function Xd(u,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=$y(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):ve(u,p,g))}function ke(u){it.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ke,it);var gA=/^https?$/i,yA=["POST","PUT"];t=ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hd.g(),this.v=this.o?vy(this.o):vy(Hd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){Hy(this,L);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var D in S)g.set(D,S[D]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())g.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),D=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yA,p,void 0))||S||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of g)this.g.setRequestHeader(L,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ky(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){Hy(this,L)}};function Hy(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Wy(u),Pl(u)}function Wy(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,wt(this,"complete"),wt(this,"abort"),Pl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pl(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qy(this):this.bb())},t.bb=function(){qy(this)};function qy(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Vn(u)!=4||u.Z()!=2)){if(u.u&&Vn(u)==4)py(u.Ea,0,u);else if(wt(u,"readystatechange"),Vn(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=z===0){var D=String(u.D).match(Oy)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),S=!gA.test(D?D.toLowerCase():"")}g=S}if(g)wt(u,"complete"),wt(u,"success");else{u.m=6;try{var L=2<Vn(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",Wy(u)}}finally{Pl(u)}}}}function Pl(u,p){if(u.g){Ky(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||wt(u,"ready");try{g.onreadystatechange=S}catch{}}}function Ky(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Vn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),QP(p)}};function Gy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vA(u){const p={};u=(u.g&&2<=Vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(y(u[S]))continue;var g=b(u[S]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[D]||[];p[D]=L,L.push(g)}P(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xo(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function Qy(u){this.Aa=0,this.i=[],this.j=new po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xo("baseRetryDelayMs",5e3,u),this.cb=xo("retryDelaySeedMs",1e4,u),this.Wa=xo("forwardChannelMaxRetries",2,u),this.wa=xo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ky(u&&u.concurrentRequestLimit),this.Da=new pA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qy.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,S){xt(0),this.W=u,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=sv(this,null,this.W),Cl(this)};function Jd(u){if(Yy(u),u.G==3){var p=u.U++,g=Dn(u.I);if(ve(g,"SID",u.K),ve(g,"RID",p),ve(g,"TYPE","terminate"),Eo(u,g),p=new lr(u,u.j,p),p.L=2,p.v=Tl(Dn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=iv(p.j,null),p.g.ea(p.v)),p.F=Date.now(),wl(p)}rv(u)}function Al(u){u.g&&(eh(u),u.g.cancel(),u.g=null)}function Yy(u){Al(u),u.u&&(a.clearTimeout(u.u),u.u=null),Rl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Cl(u){if(!by(u.h)&&!u.s){u.s=!0;var p=u.Ga;We||Z(),$||(We(),$=!0),q.add(p,u),u.B=0}}function _A(u,p){return Ny(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fo(m(u.Ga,u,p),nv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const D=new lr(this,this.j,u);let L=this.o;if(this.S&&(L?(L=T(L),R(L,this.S)):L=this.S),this.m!==null||this.O||(D.H=L,L=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Jy(this,D,p),g=Dn(this.I),ve(g,"RID",u),ve(g,"CVER",22),this.D&&ve(g,"X-HTTP-Session-Id",this.D),Eo(this,g),L&&(this.O?p="headers="+encodeURIComponent(String($y(L)))+"&"+p:this.m&&Xd(g,this.m,L)),Yd(this.h,D),this.Ua&&ve(g,"TYPE","init"),this.P?(ve(g,"$req",p),ve(g,"SID","null"),D.T=!0,qd(D,g,null)):qd(D,g,p),this.G=2}}else this.G==3&&(u?Xy(this,u):this.i.length==0||by(this.h)||Xy(this))};function Xy(u,p){var g;p?g=p.l:g=u.U++;const S=Dn(u.I);ve(S,"SID",u.K),ve(S,"RID",g),ve(S,"AID",u.T),Eo(u,S),u.m&&u.o&&Xd(S,u.m,u.o),g=new lr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Jy(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Yd(u.h,g),qd(g,S,p)}function Eo(u,p){u.H&&M(u.H,function(g,S){ve(p,S,g)}),u.l&&Vy({},function(g,S){ve(p,S,g)})}function Jy(u,p,g){g=Math.min(u.i.length,g);var S=u.l?m(u.l.Na,u.l,u):null;e:{var D=u.i;let L=-1;for(;;){const z=["count="+g];L==-1?0<g?(L=D[0].g,z.push("ofs="+L)):L=0:z.push("ofs="+L);let ge=!0;for(let Ye=0;Ye<g;Ye++){let de=D[Ye].g;const ot=D[Ye].map;if(de-=L,0>de)L=Math.max(0,D[Ye].g-100),ge=!1;else try{mA(ot,z,"req"+de+"_")}catch{S&&S(ot)}}if(ge){S=z.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,S}function Zy(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;We||Z(),$||(We(),$=!0),q.add(p,u),u.v=0}}function Zd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fo(m(u.Fa,u),nv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ev(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fo(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Al(this),ev(this))};function eh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ev(u){u.g=new lr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Dn(u.qa);ve(p,"RID","rpc"),ve(p,"SID",u.K),ve(p,"AID",u.T),ve(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ve(p,"TO",u.ja),ve(p,"TYPE","xmlhttp"),Eo(u,p),u.m&&u.o&&Xd(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Tl(Dn(p)),g.m=null,g.P=!0,Ay(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Al(this),Zd(this),xt(19))};function Rl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function tv(u,p){var g=null;if(u.g==p){Rl(u),eh(u),u.g=null;var S=2}else if(Qd(u.h,p))g=p.D,jy(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var D=u.B;S=yl(),wt(S,new Ty(S,g)),Cl(u)}else Zy(u);else if(D=p.s,D==3||D==0&&0<p.X||!(S==1&&_A(u,p)||S==2&&Zd(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),D){case 1:ls(u,5);break;case 4:ls(u,10);break;case 3:ls(u,6);break;default:ls(u,2)}}}function nv(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function ls(u,p){if(u.j.info("Error code "+p),p==2){var g=m(u.fb,u),S=u.Xa;const D=!S;S=new as(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xl(S,"https"),Tl(S),D?hA(S.toString(),g):fA(S.toString(),g)}else xt(2);u.G=0,u.l&&u.l.sa(p),rv(u),Yy(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function rv(u){if(u.G=0,u.ka=[],u.l){const p=Dy(u.h);(p.length!=0||u.i.length!=0)&&(I(u.ka,p),I(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function sv(u,p,g){var S=g instanceof as?Dn(g):new as(g);if(S.g!="")p&&(S.g=p+"."+S.g),El(S,S.s);else{var D=a.location;S=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;var L=new as(null);S&&xl(L,S),p&&(L.g=p),D&&El(L,D),g&&(L.l=g),S=L}return g=u.D,p=u.ya,g&&p&&ve(S,g,p),ve(S,"VER",u.la),Eo(u,S),S}function iv(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ke(new Sl({eb:g})):new ke(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ov(){}t=ov.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kl(){}kl.prototype.g=function(u,p){return new Ft(u,p)};function Ft(u,p){it.call(this),this.g=new Qy(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Js(this)}x(Ft,it),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Jd(this.g)},Ft.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Ud(u),u=g);p.i.push(new nA(p.Ya++,u)),p.G==3&&Cl(p)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Jd(this.g),delete this.g,Ft.aa.N.call(this)};function av(u){zd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}x(av,zd);function lv(){$d.call(this),this.status=1}x(lv,$d);function Js(u){this.g=u}x(Js,ov),Js.prototype.ua=function(){wt(this.g,"a")},Js.prototype.ta=function(u){wt(this.g,new av(u))},Js.prototype.sa=function(u){wt(this.g,new lv)},Js.prototype.ra=function(){wt(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,IS=function(){return new kl},SS=function(){return yl()},TS=is,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vl.NO_ERROR=0,vl.TIMEOUT=8,vl.HTTP_ERROR=6,Iu=vl,Sy.COMPLETE="complete",ES=Sy,_y.EventType=co,co.OPEN="a",co.CLOSE="b",co.ERROR="c",co.MESSAGE="d",it.prototype.listen=it.prototype.K,Bo=_y,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,xS=ke}).apply(typeof Yl<"u"?Yl:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new qm("@firebase/firestore");function bo(){return Vs.logLevel}function W(t,...e){if(Vs.logLevel<=ae.DEBUG){const n=e.map(sg);Vs.debug(`Firestore (${ro}): ${t}`,...n)}}function nr(t,...e){if(Vs.logLevel<=ae.ERROR){const n=e.map(sg);Vs.error(`Firestore (${ro}): ${t}`,...n)}}function Ui(t,...e){if(Vs.logLevel<=ae.WARN){const n=e.map(sg);Vs.warn(`Firestore (${ro}): ${t}`,...n)}}function sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function pe(t,e){t||J()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class $j{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Hj{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ur,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new PS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new ht(e)}}class Wj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){pe(this.o===void 0);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new Kj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Qj(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Bi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new He(0,0))}static max(){return new ee(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Na.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Na?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends Na{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const Yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Na{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return Yj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ne.fromString(e))}static fromName(e){return new G(Ne.fromString(e).popFirst(5))}static empty(){return new G(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ne(e.slice()))}}function Xj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new Hr(s,G.empty(),e)}function Jj(t){return new Hr(t.readTime,t.key,-1)}class Hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hr(ee.min(),G.empty(),-1)}static max(){return new Hr(ee.max(),G.empty(),-1)}}function Zj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==eD)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function nD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ig.oe=-1;function rd(t){return t==null}function pc(t){return t===0&&1/t==-1/0}function rD(t){return typeof t=="number"&&Number.isInteger(t)&&!pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Je.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xl(this.root,e,this.comparator,!0)}}class Xl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Je.RED,this.left=s??Je.EMPTY,this.right=i??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Je(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Je.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Je(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new zt([])}unionWith(e){let n=new nt(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RS("Invalid base64 string: "+i):i}}(e);return new st(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const sD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(pe(!!t),typeof t=="string"){let e=0;const n=sD.exec(t);if(pe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Os(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ag(t){const e=t.mapValue.fields.__previous_value__;return og(e)?ag(e):e}function ja(t){const e=Wr(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Da{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Da("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl={mapValue:{}};function Ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?og(t)?4:aD(t)?9007199254740991:oD(t)?10:11:J()}function bn(t,e){if(t===e)return!0;const n=Ls(t);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ja(t).isEqual(ja(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Wr(s.timestampValue),a=Wr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Os(s.bytesValue).isEqual(Os(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return je(s.geoPointValue.latitude)===je(i.geoPointValue.latitude)&&je(s.geoPointValue.longitude)===je(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return je(s.integerValue)===je(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=je(s.doubleValue),a=je(i.doubleValue);return o===a?pc(o)===pc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bi(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(r_(o)!==r_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!bn(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function Va(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function zi(t,e){if(t===e)return 0;const n=Ls(t),r=Ls(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=je(i.integerValue||i.doubleValue),l=je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return i_(t.timestampValue,e.timestampValue);case 4:return i_(ja(t),ja(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Os(i),l=Os(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=he(a[c],l[c]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=he(je(i.latitude),je(o.latitude));return a!==0?a:he(je(i.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return o_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},m=o.fields||{},v=(a=f.value)===null||a===void 0?void 0:a.arrayValue,x=(l=m.value)===null||l===void 0?void 0:l.arrayValue,E=he(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:o_(v,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Jl.mapValue&&o===Jl.mapValue)return 0;if(i===Jl.mapValue)return 1;if(o===Jl.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=he(l[f],d[f]);if(m!==0)return m;const v=zi(a[l[f]],c[d[f]]);if(v!==0)return v}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw J()}}function i_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Wr(t),r=Wr(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function o_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=zi(n[s],r[s]);if(i)return i}return he(n.length,r.length)}function $i(t){return hp(t)}function hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Os(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=hp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${hp(n.fields[o])}`;return s+"}"}(t.mapValue):J()}function fp(t){return!!t&&"integerValue"in t}function lg(t){return!!t&&"arrayValue"in t}function a_(t){return!!t&&"nullValue"in t}function l_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pu(t){return!!t&&"mapValue"in t}function oD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ta(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ta(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ta(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ta(n)}setAll(e){let n=Ze.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ta(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new bt(ta(this.value))}}function kS(t){const e=[];return Hs(t.fields,(n,r)=>{const s=new Ze([n]);if(Pu(r)){const i=kS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,ee.min(),ee.min(),ee.min(),bt.empty(),0)}static newFoundDocument(e,n,r,s){return new pt(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new pt(e,2,n,ee.min(),ee.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,ee.min(),ee.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.position=e,this.inclusive=n}}function u_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=zi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function c_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function lD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class ze extends bS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cD(e,n,r):n==="array-contains"?new fD(e,r):n==="in"?new pD(e,r):n==="not-in"?new mD(e,r):n==="array-contains-any"?new gD(e,r):new ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dD(e,r):new hD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zi(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nn(e,n)}matches(e){return NS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function NS(t){return t.op==="and"}function jS(t){return uD(t)&&NS(t)}function uD(t){for(const e of t.filters)if(e instanceof Nn)return!1;return!0}function pp(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+$i(t.value);if(jS(t))return t.filters.map(e=>pp(e)).join(",");{const e=t.filters.map(n=>pp(n)).join(",");return`${t.op}(${e})`}}function DS(t,e){return t instanceof ze?function(r,s){return s instanceof ze&&r.op===s.op&&r.field.isEqual(s.field)&&bn(r.value,s.value)}(t,e):t instanceof Nn?function(r,s){return s instanceof Nn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&DS(o,s.filters[a]),!0):!1}(t,e):void J()}function VS(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${$i(n.value)}`}(t):t instanceof Nn?function(n){return n.op.toString()+" {"+n.getFilters().map(VS).join(" ,")+"}"}(t):"Filter"}class cD extends ze{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class dD extends ze{constructor(e,n){super(e,"in",n),this.keys=OS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hD extends ze{constructor(e,n){super(e,"not-in",n),this.keys=OS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class fD extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&Va(n.arrayValue,this.value)}}class pD extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Va(this.value.arrayValue,n)}}class mD extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Va(this.value.arrayValue,n)}}class gD extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Va(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function d_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new yD(t,e,n,r,s,i,o)}function ug(t){const e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$i(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$i(r)).join(",")),e.ue=n}return e.ue}function cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c_(t.startAt,e.startAt)&&c_(t.endAt,e.endAt)}function mp(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vD(t,e,n,r,s,i,o,a){return new sd(t,e,n,r,s,i,o,a)}function dg(t){return new sd(t)}function h_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _D(t){return t.collectionGroup!==null}function na(t){const e=te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(Ze.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new gc(i,r))}),n.has(Ze.keyField().canonicalString())||e.ce.push(new gc(Ze.keyField(),r))}return e.ce}function An(t){const e=te(t);return e.le||(e.le=wD(e,na(t))),e.le}function wD(t,e){if(t.limitType==="F")return d_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new gc(s.field,i)});const n=t.endAt?new mc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mc(t.startAt.position,t.startAt.inclusive):null;return d_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gp(t,e,n){return new sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function id(t,e){return cg(An(t),An(e))&&t.limitType===e.limitType}function LS(t){return`${ug(An(t))}|lt:${t.limitType}`}function ni(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>VS(s)).join(", ")}]`),rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>$i(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>$i(s)).join(",")),`Target(${r})`}(An(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):G.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of na(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=u_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,na(r),s)||r.endAt&&!function(o,a,l){const c=u_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,na(r),s))}(t,e)}function xD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MS(t){return(e,n)=>{let r=!1;for(const s of na(t)){const i=ED(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function ED(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?zi(l,c):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return CS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Re(G.comparator);function rr(){return TD}const FS=new Re(G.comparator);function zo(...t){let e=FS;for(const n of t)e=e.insert(n.key,n);return e}function US(t){let e=FS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vs(){return ra()}function BS(){return ra()}function ra(){return new so(t=>t.toString(),(t,e)=>t.isEqual(e))}const SD=new Re(G.comparator),ID=new nt(G.comparator);function oe(...t){let e=ID;for(const n of t)e=e.add(n);return e}const PD=new nt(he);function AD(){return PD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function zS(t){return{integerValue:""+t}}function CD(t,e){return rD(e)?zS(e):hg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function RD(t,e,n){return t instanceof yc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&og(i)&&(i=ag(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Oa?HS(t,e):t instanceof La?WS(t,e):function(s,i){const o=$S(s,i),a=f_(o)+f_(s.Pe);return fp(o)&&fp(s.Pe)?zS(a):hg(s.serializer,a)}(t,e)}function kD(t,e,n){return t instanceof Oa?HS(t,e):t instanceof La?WS(t,e):n}function $S(t,e){return t instanceof vc?function(r){return fp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class yc extends ad{}class Oa extends ad{constructor(e){super(),this.elements=e}}function HS(t,e){const n=qS(e);for(const r of t.elements)n.some(s=>bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class La extends ad{constructor(e){super(),this.elements=e}}function WS(t,e){let n=qS(e);for(const r of t.elements)n=n.filter(s=>!bn(s,r));return{arrayValue:{values:n}}}class vc extends ad{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function f_(t){return je(t.integerValue||t.doubleValue)}function qS(t){return lg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Oa&&s instanceof Oa||r instanceof La&&s instanceof La?Bi(r.elements,s.elements,bn):r instanceof vc&&s instanceof vc?bn(r.Pe,s.Pe):r instanceof yc&&s instanceof yc}(t.transform,e.transform)}class ND{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function KS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QS(t.key,Cn.none()):new sl(t.key,t.data,Cn.none());{const n=t.data,r=bt.empty();let s=new nt(Ze.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ns(t.key,r,new zt(s.toArray()),Cn.none())}}function jD(t,e,n){t instanceof sl?function(s,i,o){const a=s.value.clone(),l=m_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(s,i,o){if(!Au(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=m_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(GS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sa(t,e,n,r){return t instanceof sl?function(i,o,a,l){if(!Au(i.precondition,o))return a;const c=i.value.clone(),d=g_(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(i,o,a,l){if(!Au(i.precondition,o))return a;const c=g_(i.fieldTransforms,l,o),d=o.data;return d.setAll(GS(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Au(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function DD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=$S(r.transform,s||null);i!=null&&(n===null&&(n=bt.empty()),n.set(r.field,i))}return n||null}function p_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Bi(r,s,(i,o)=>bD(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sl extends ld{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ns extends ld{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function GS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function m_(t,e,n){const r=new Map;pe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,kD(o,a,n[s]))}return r}function g_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,RD(i,o,e))}return r}class QS extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&jD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=KS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Bi(this.mutations,e.mutations,(n,r)=>p_(n,r))&&Bi(this.baseMutations,e.baseMutations,(n,r)=>p_(n,r))}}class fg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){pe(e.mutations.length===r.length);let s=function(){return SD}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new fg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,le;function FD(t){switch(t){default:return J();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function YS(t){if(t===void 0)return nr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Me.OK:return U.OK;case Me.CANCELLED:return U.CANCELLED;case Me.UNKNOWN:return U.UNKNOWN;case Me.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Me.INTERNAL:return U.INTERNAL;case Me.UNAVAILABLE:return U.UNAVAILABLE;case Me.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Me.NOT_FOUND:return U.NOT_FOUND;case Me.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Me.ABORTED:return U.ABORTED;case Me.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Me.DATA_LOSS:return U.DATA_LOSS;default:return J()}}(le=Me||(Me={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Ss([4294967295,4294967295],0);function y_(t){const e=UD().encode(t),n=new wS;return n.update(e),new Uint8Array(n.digest())}function v_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ss([n,r],0),new Ss([s,i],0)]}class pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(r<0)throw new $o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ss.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ss.fromNumber(r)));return s.compare(BD)===1&&(s=new Ss([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=y_(e),[r,s]=v_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new pg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=y_(e),[r,s]=v_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,il.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(ee.min(),s,new Re(he),rr(),oe())}}class il{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new il(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class XS{constructor(e,n){this.targetId=e,this.me=n}}class JS{constructor(e,n,r=st.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class __{constructor(){this.fe=0,this.ge=x_(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:J()}}),new il(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=x_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zD{constructor(e){this.Le=e,this.Be=new Map,this.ke=rr(),this.qe=w_(),this.Qe=new Re(he)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(mp(i))if(r===0){const o=new G(i.path);this.Ue(n,o,pt.newNoDocument(o,ee.min()))}else pe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Os(r).toUint8Array()}catch(l){if(l instanceof RS)return Ui("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pg(o,s,i)}catch(l){return Ui(l instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&mp(a.target)){const l=new G(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,pt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=oe();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new ud(e,n,this.Qe,this.ke,r);return this.ke=rr(),this.qe=w_(),this.Qe=new Re(he),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new __,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nt(he),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new __),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function w_(){return new Re(G.comparator)}function x_(){return new Re(G.comparator)}const $D={asc:"ASCENDING",desc:"DESCENDING"},HD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WD={and:"AND",or:"OR"};class qD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yp(t,e){return t.useProto3Json||rd(e)?e:{value:e}}function _c(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KD(t,e){return _c(t,e.toTimestamp())}function Rn(t){return pe(!!t),ee.fromTimestamp(function(n){const r=Wr(n);return new He(r.seconds,r.nanos)}(t))}function mg(t,e){return vp(t,e).canonicalString()}function vp(t,e){const n=function(s){return new Ne(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function e1(t){const e=Ne.fromString(t);return pe(i1(e)),e}function _p(t,e){return mg(t.databaseId,e.path)}function Oh(t,e){const n=e1(e);if(n.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(n1(n))}function t1(t,e){return mg(t.databaseId,e)}function GD(t){const e=e1(t);return e.length===4?Ne.emptyPath():n1(e)}function wp(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function n1(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function E_(t,e,n){return{name:_p(t,e),fields:n.value.mapValue.fields}}function QD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(pe(d===void 0||typeof d=="string"),st.fromBase64String(d||"")):(pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),st.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:YS(c.code);return new K(d,c.message||"")}(o);n=new JS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Oh(t,r.document.name),i=Rn(r.document.updateTime),o=r.document.createTime?Rn(r.document.createTime):ee.min(),a=new bt({mapValue:{fields:r.document.fields}}),l=pt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Cu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Oh(t,r.document),i=r.readTime?Rn(r.readTime):ee.min(),o=pt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Cu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Oh(t,r.document),i=r.removedTargetIds||[];n=new Cu([],i,s,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new MD(s,i),a=r.targetId;n=new XS(a,o)}}return n}function YD(t,e){let n;if(e instanceof sl)n={update:E_(t,e.key,e.value)};else if(e instanceof QS)n={delete:_p(t,e.key)};else if(e instanceof ns)n={update:E_(t,e.key,e.data),updateMask:iV(e.fieldMask)};else{if(!(e instanceof VD))return J();n={verify:_p(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof yc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof La)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:KD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(t,e.precondition)),n}function XD(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Rn(s.updateTime):Rn(i);return o.isEqual(ee.min())&&(o=Rn(i)),new ND(o,s.transformResults||[])}(n,e))):[]}function JD(t,e){return{documents:[t1(t,e.path)]}}function ZD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=t1(t,s);const i=function(c){if(c.length!==0)return s1(Nn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:ri(m.field),direction:nV(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=yp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function eV(t){let e=GD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){pe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=r1(f);return m instanceof Nn&&jS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(x){return new gc(si(x.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,rd(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,v=f.values||[];return new mc(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,v=f.values||[];return new mc(v,m)}(n.endAt)),vD(e,s,o,i,a,"F",l,c)}function tV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=si(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=si(n.unaryFilter.field);return ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=si(n.unaryFilter.field);return ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=si(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(si(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nn.create(n.compositeFilter.filters.map(r=>r1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function nV(t){return $D[t]}function rV(t){return HD[t]}function sV(t){return WD[t]}function ri(t){return{fieldPath:t.canonicalString()}}function si(t){return Ze.fromServerFormat(t.fieldPath)}function s1(t){return t instanceof ze?function(n){if(n.op==="=="){if(l_(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NAN"}};if(a_(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l_(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NOT_NAN"}};if(a_(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ri(n.field),op:rV(n.op),value:n.value}}}(t):t instanceof Nn?function(n){const r=n.getFilters().map(s=>s1(s));return r.length===1?r[0]:{compositeFilter:{op:sV(n.op),filters:r}}}(t):J()}function iV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function i1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,r,s,i=ee.min(),o=ee.min(),a=st.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.ct=e}}function aV(t){const e=eV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.un=new uV}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Hr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class uV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(Ne.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Hi(0)}static kn(){return new Hi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.changes=new so(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&sa(r.mutation,s,zt.empty(),He.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const s=vs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=zo();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=rr();const o=ra(),a=function(){return ra()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof ns)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),sa(d.mutation,c,d.mutation.getFieldMask(),He.now())):o.set(c.key,zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new dV(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ra();let s=new Re((o,a)=>o-a),i=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||zt.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||oe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=BS();d.forEach(m=>{if(!i.has(m)){const v=KS(n.get(m),r.get(m));v!==null&&f.set(m,v),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_D(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(vs());let a=-1,l=i;return o.next(c=>F.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,oe())).next(d=>({batchId:a,changes:US(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let s=zo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=zo();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,l=>{const c=function(f,m){return new sd(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,pt.newInvalidDocument(d)))});let a=zo();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&sa(d.mutation,c,zt.empty(),He.now()),od(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Rn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:aV(s.bundledQuery),readTime:Rn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new Re(G.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vs();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=vs(),i=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Re((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=vs(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=vs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return F.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LD(n,r));let i=this.Ir.get(n);i===void 0&&(i=oe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Tr=new nt(qe.Er),this.dr=new nt(qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new G(new Ne([])),r=new qe(n,e),s=new qe(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new G(new Ne([])),r=new qe(n,e),s=new qe(n,e+1);let i=oe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qe{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nt(qe.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OD(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new qe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qe(n,0),s=new qe(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(he);return n.forEach(s=>{const i=new qe(s,0),o=new qe(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;G.isDocumentKey(i)||(i=i.child(""));const o=new qe(new G(i),0);let a=new nt(he);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,s=>{const i=new qe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new qe(n,0),s=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.Mr=e,this.docs=function(){return new Re(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=rr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():pt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=rr();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Zj(Jj(d),r)<=0||(s.has(d.key)||od(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){J()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vV(this)}getSize(e){return F.resolve(this.size)}}class vV extends cV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.persistence=e,this.Nr=new so(n=>ug(n),cg),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gg,this.targetCount=0,this.kr=Hi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Hi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ig(0),this.Kr=!1,this.Kr=!0,this.$r=new mV,this.referenceDelegate=e(this),this.Ur=new _V(this),this.indexManager=new lV,this.remoteDocumentCache=function(s){return new yV(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new oV(n),this.Gr=new fV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new xV(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class xV extends tD{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Jr=new gg,this.Yr=null}static Zr(e){return new yg(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const s=G.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=oe(),s=oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new vg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hb()?8:nD(yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new EV;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(bo()<=ae.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ni(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(bo()<=ae.DEBUG&&W("QueryEngine","Query:",ni(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(bo()<=ae.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ni(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):F.resolve())}Yi(e,n){if(h_(n))return F.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=gp(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=oe(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,gp(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return h_(n)||s.isEqual(ee.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?F.resolve(null):(bo()<=ae.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ni(n)),this.rs(e,o,n,Xj(s,-1)).next(a=>a))})}ts(e,n){let r=new nt(MS(e));return n.forEach((s,i)=>{od(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return bo()<=ae.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ni(n)),this.Ji.getDocumentsMatchingQuery(e,n,Hr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Re(he),this._s=new so(i=>ug(i),cg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function IV(t,e,n,r){return new SV(t,e,n,r)}async function o1(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=oe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function PV(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,m=f.keys();let v=F.resolve();return m.forEach(x=>{v=v.next(()=>d.getEntry(l,x)).next(E=>{const I=c.docVersions.get(x);pe(I!==null),E.version.compareTo(I)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function a1(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AV(t,e){const n=te(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(st.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(f,v),function(E,I,w){return E.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,v,d)&&a.push(n.Ur.updateTargetData(i,v))});let l=rr(),c=oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(CV(i,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ee.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function CV(t,e,n){let r=oe(),s=oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=rr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function RV(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kV(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Ar(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function xp(t,e,n){const r=te(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!rl(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function T_(t,e,n){const r=te(t);let s=ee.min(),i=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=te(l),m=f._s.get(d);return m!==void 0?F.resolve(f.os.get(m)):f.Ur.getTargetData(c,d)}(r,o,An(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ee.min(),n?i:oe())).next(a=>(bV(r,xD(e),a),{documents:a,Ts:i})))}function bV(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class S_{constructor(){this.activeTargetIds=AD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NV{constructor(){this.so=new S_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new S_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=null;function Lh(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="WebChannelConnection";class OV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Lh(),l=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(d=>(W("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ui("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=DV[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Lh();return new Promise((o,a)=>{const l=new xS;l.setWithCredentials(!0),l.listenOnce(ES.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Iu.NO_ERROR:const d=l.getResponseJson();W(ct,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Iu.TIMEOUT:W(ct,`RPC '${e}' ${i} timed out`),a(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const f=l.getStatus();if(W(ct,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const x=function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(v.status);a(new K(x,v.message))}else a(new K(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(U.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{W(ct,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);W(ct,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Lh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IS(),a=SS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");W(ct,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let m=!1,v=!1;const x=new VV({Io:I=>{v?W(ct,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(m||(W(ct,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),W(ct,`RPC '${e}' stream ${s} sending:`,I),f.send(I))},To:()=>f.close()}),E=(I,w,y)=>{I.listen(w,_=>{try{y(_)}catch(A){setTimeout(()=>{throw A},0)}})};return E(f,Bo.EventType.OPEN,()=>{v||(W(ct,`RPC '${e}' stream ${s} transport opened.`),x.yo())}),E(f,Bo.EventType.CLOSE,()=>{v||(v=!0,W(ct,`RPC '${e}' stream ${s} transport closed`),x.So())}),E(f,Bo.EventType.ERROR,I=>{v||(v=!0,Ui(ct,`RPC '${e}' stream ${s} transport errored:`,I),x.So(new K(U.UNAVAILABLE,"The operation could not be completed")))}),E(f,Bo.EventType.MESSAGE,I=>{var w;if(!v){const y=I.data[0];pe(!!y);const _=y,A=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(A){W(ct,`RPC '${e}' stream ${s} received error:`,A);const V=A.status;let M=function(C){const R=Me[C];if(R!==void 0)return YS(R)}(V),P=A.message;M===void 0&&(M=U.INTERNAL,P="Unknown error status: "+V+" with message "+A.message),v=!0,x.So(new K(M,P)),f.close()}else W(ct,`RPC '${e}' stream ${s} received:`,y),x.bo(y)}}),E(a,TS.STAT_EVENT,I=>{I.stat===dp.PROXY?W(ct,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===dp.NOPROXY&&W(ct,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return new qD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new l1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LV extends u1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=QD(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Rn(o.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wp(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=mp(l)?{documents:JD(i,l)}:{query:ZD(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ZS(i,o.resumeToken);const c=yp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=_c(i,o.snapshotVersion.toTimestamp());const c=yp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=tV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wp(this.serializer),n.removeTarget=e,this.a_(n)}}class MV extends u1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return pe(!!e.streamToken),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=XD(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,vp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(U.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,vp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class UV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(nr(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ws(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=te(l);c.L_.add(4),await ol(c),c.q_.set("Unknown"),c.L_.delete(4),await dd(c)}(this))})}),this.q_=new UV(r,s)}}async function dd(t){if(Ws(t))for(const e of t.B_)await e(!0)}async function ol(t){for(const e of t.B_)await e(!1)}function c1(t,e){const n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Eg(n)?xg(n):io(n).r_()&&wg(n,e))}function _g(t,e){const n=te(t),r=io(n);n.N_.delete(e),r.r_()&&d1(n,e),n.N_.size===0&&(r.r_()?r.o_():Ws(n)&&n.q_.set("Unknown"))}function wg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}io(t).A_(e)}function d1(t,e){t.Q_.xe(e),io(t).R_(e)}function xg(t){t.Q_=new zD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),io(t).start(),t.q_.v_()}function Eg(t){return Ws(t)&&!io(t).n_()&&t.N_.size>0}function Ws(t){return te(t).L_.size===0}function h1(t){t.Q_=void 0}async function zV(t){t.q_.set("Online")}async function $V(t){t.N_.forEach((e,n)=>{wg(t,e)})}async function HV(t,e){h1(t),Eg(t)?(t.q_.M_(e),xg(t)):t.q_.set("Unknown")}async function WV(t,e,n){if(t.q_.set("Online"),e instanceof JS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wc(t,r)}else if(e instanceof Cu?t.Q_.Ke(e):e instanceof XS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{const r=await a1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(st.EMPTY_BYTE_STRING,d.snapshotVersion)),d1(i,l);const f=new Ar(d.target,l,c,d.sequenceNumber);wg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await wc(t,r)}}async function wc(t,e,n){if(!rl(e))throw e;t.L_.add(1),await ol(t),t.q_.set("Offline"),n||(n=()=>a1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await dd(t)})}function f1(t,e){return e().catch(n=>wc(t,n,e))}async function hd(t){const e=te(t),n=qr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qV(e);)try{const s=await RV(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,KV(e,s)}catch(s){await wc(e,s)}p1(e)&&m1(e)}function qV(t){return Ws(t)&&t.O_.length<10}function KV(t,e){t.O_.push(e);const n=qr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function p1(t){return Ws(t)&&!qr(t).n_()&&t.O_.length>0}function m1(t){qr(t).start()}async function GV(t){qr(t).p_()}async function QV(t){const e=qr(t);for(const n of t.O_)e.m_(n.mutations)}async function YV(t,e,n){const r=t.O_.shift(),s=fg.from(r,e,n);await f1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hd(t)}async function XV(t,e){e&&qr(t).V_&&await async function(r,s){if(function(o){return FD(o)&&o!==U.ABORTED}(s.code)){const i=r.O_.shift();qr(r).s_(),await f1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await hd(r)}}(t,e),p1(t)&&m1(t)}async function P_(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Ws(n);n.L_.add(3),await ol(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await dd(n)}async function JV(t,e){const n=te(t);e?(n.L_.delete(2),await dd(n)):e||(n.L_.add(2),await ol(n),n.q_.set("Unknown"))}function io(t){return t.K_||(t.K_=function(n,r,s){const i=te(n);return i.w_(),new LV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:zV.bind(null,t),Ro:$V.bind(null,t),mo:HV.bind(null,t),d_:WV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Eg(t)?xg(t):t.q_.set("Unknown")):(await t.K_.stop(),h1(t))})),t.K_}function qr(t){return t.U_||(t.U_=function(n,r,s){const i=te(n);return i.w_(),new MV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:GV.bind(null,t),mo:XV.bind(null,t),f_:QV.bind(null,t),g_:YV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await hd(t)):(await t.U_.stop(),t.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Tg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(t,e){if(nr("AsyncQueue",`${e}: ${t}`),rl(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=zo(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new bi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.W_=new Re(G.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wi{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wi(e,n,bi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class eO{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=te(n),i=s.queries;s.queries=C_(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function C_(){return new so(t=>LS(t),id)}async function tO(t,e){const n=te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new ZV,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Sg(o,`Initialization of query '${ni(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Ig(n)}async function nO(t,e){const n=te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rO(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Ig(n)}function sO(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Ig(t){t.Y_.forEach(e=>{e.next()})}var Ep,R_;(R_=Ep||(Ep={})).ea="default",R_.Cache="cache";class iO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Wi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.key=e}}class y1{constructor(e){this.key=e}}class oO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=MS(e),this.Ra=new bi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new A_,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),v=od(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),E=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;m&&v?m.data.isEqual(v.data)?x!==E&&(r.track({type:3,doc:v}),I=!0):this.ga(m,v)||(r.track({type:2,doc:v}),I=!0,(l&&this.Aa(v,l)>0||c&&this.Aa(v,c)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),I=!0):m&&!v&&(r.track({type:1,doc:m}),I=!0,(l||c)&&(a=!0)),I&&(v?(o=o.add(v),i=E?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(v,x){const E=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return E(v)-E(x)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Wi(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new A_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new y1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new g1(r))}),n}ba(e){this.Ta=e.Ts,this.da=oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Wi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class aO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lO{constructor(e){this.key=e,this.va=!1}}class uO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new so(a=>LS(a),id),this.Ma=new Map,this.xa=new Set,this.Oa=new Re(G.comparator),this.Na=new Map,this.La=new gg,this.Ba={},this.ka=new Map,this.qa=Hi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cO(t,e,n=!0){const r=T1(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await v1(r,e,n,!0),s}async function dO(t,e){const n=T1(t);await v1(n,e,!0,!1)}async function v1(t,e,n,r){const s=await kV(t.localStore,An(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await hO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&c1(t.remoteStore,s),a}async function hO(t,e,n,r,s){t.Ka=(f,m,v)=>async function(E,I,w,y){let _=I.view.ma(w);_.ns&&(_=await T_(E.localStore,I.query,!1).then(({documents:P})=>I.view.ma(P,_)));const A=y&&y.targetChanges.get(I.targetId),V=y&&y.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(_,E.isPrimaryClient,A,V);return b_(E,I.targetId,M.wa),M.snapshot}(t,f,m,v);const i=await T_(t.localStore,e,!0),o=new oO(e,i.Ts),a=o.ma(i.documents),l=il.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);b_(t,n,c.wa);const d=new aO(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function fO(t,e,n){const r=te(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!id(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await xp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_g(r.remoteStore,s.targetId),Tp(r,s.targetId)}).catch(nl)):(Tp(r,s.targetId),await xp(r.localStore,s.targetId,!0))}async function pO(t,e){const n=te(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_g(n.remoteStore,r.targetId))}async function mO(t,e,n){const r=EO(t);try{const s=await function(o,a){const l=te(o),c=He.now(),d=a.reduce((v,x)=>v.add(x.key),oe());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=rr(),E=oe();return l.cs.getEntries(v,d).next(I=>{x=I,x.forEach((w,y)=>{y.isValidDocument()||(E=E.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,x)).next(I=>{f=I;const w=[];for(const y of a){const _=DD(y,f.get(y.key).overlayedDocument);_!=null&&w.push(new ns(y.key,_,kS(_.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,w,a)}).next(I=>{m=I;const w=I.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(v,I.batchId,w)})}).then(()=>({batchId:m.batchId,changes:US(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Re(he)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await al(r,s.changes),await hd(r.remoteStore)}catch(s){const i=Sg(s,"Failed to persist write");n.reject(i)}}async function _1(t,e){const n=te(t);try{const r=await AV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?pe(o.va):s.removedDocuments.size>0&&(pe(o.va),o.va=!1))}),await al(n,r,e)}catch(r){await nl(r)}}function k_(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const m of f.j_)m.Z_(a)&&(c=!0)}),c&&Ig(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gO(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Re(G.comparator);o=o.insert(i,pt.newNoDocument(i,ee.min()));const a=oe().add(i),l=new ud(ee.min(),new Map,new Re(he),o,a);await _1(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Pg(r)}else await xp(r.localStore,e,!1).then(()=>Tp(r,e,n)).catch(nl)}async function yO(t,e){const n=te(t),r=e.batch.batchId;try{const s=await PV(n.localStore,e);x1(n,r,null),w1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await al(n,s)}catch(s){await nl(s)}}async function vO(t,e,n){const r=te(t);try{const s=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(pe(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);x1(r,e,n),w1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await al(r,s)}catch(s){await nl(s)}}function w1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function x1(t,e,n){const r=te(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Tp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||E1(t,r)})}function E1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(_g(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Pg(t))}function b_(t,e,n){for(const r of n)r instanceof g1?(t.La.addReference(r.key,e),_O(t,r)):r instanceof y1?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||E1(t,r.key)):J()}function _O(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),Pg(t))}function Pg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new G(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new lO(n)),t.Oa=t.Oa.insert(n,r),c1(t.remoteStore,new Ar(An(dg(n.path)),r,"TargetPurposeLimboResolution",ig.oe))}}async function al(t,e,n){const r=te(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=vg.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const d=te(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,m=>F.forEach(m.$i,v=>d.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>F.forEach(m.Ui,v=>d.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!rl(f))throw f;W("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const v=d.os.get(m),x=v.snapshotVersion,E=v.withLastLimboFreeSnapshotVersion(x);d.os=d.os.insert(m,E)}}}(r.localStore,i))}async function wO(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await o1(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new K(U.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await al(n,r.hs)}}function xO(t,e){const n=te(t),r=n.Na.get(e);if(r&&r.va)return oe().add(r.key);{let s=oe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function T1(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gO.bind(null,e),e.Ca.d_=rO.bind(null,e.eventManager),e.Ca.$a=sO.bind(null,e.eventManager),e}function EO(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vO.bind(null,e),e}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return IV(this.persistence,new TV,e.initialUser,this.serializer)}Ga(e){return new wV(yg.Zr,this.serializer)}Wa(e){return new NV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class Sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wO.bind(null,this.syncEngine),await JV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eO}()}createDatastore(e){const n=cd(e.databaseInfo.databaseId),r=function(i){return new OV(i)}(e.databaseInfo);return function(i,o,a,l){return new FV(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new BV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>k_(this.syncEngine,n,0),function(){return I_.D()?new I_:new jV}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new uO(s,i,o,a,l,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=te(s);W("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ol(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sp.provider={build:()=>new Sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ht.UNAUTHENTICATED,this.clientId=AS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fh(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await o1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IO(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>P_(e.remoteStore,s)),t._onlineComponents=e}async function IO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ui("Error using user provided cache. Falling back to memory cache: "+n),await Fh(t,new xc)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await Fh(t,new xc);return t._offlineComponents}async function S1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await N_(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await N_(t,new Sp))),t._onlineComponents}function PO(t){return S1(t).then(e=>e.syncEngine)}async function AO(t){const e=await S1(t),n=e.eventManager;return n.onListen=cO.bind(null,e.syncEngine),n.onUnlisten=fO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pO.bind(null,e.syncEngine),n}function CO(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new TO({next:m=>{d.Za(),o.enqueueAndForget(()=>nO(i,f));const v=m.docs.has(a);!v&&m.fromCache?c.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?c.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new iO(dg(a.path),d,{includeMetadataChanges:!0,_a:!0});return tO(i,f)}(await AO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e,n){if(!n)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kO(t,e,n,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D_(t){if(!G.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Ms(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ag(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zj;switch(r.type){case"firstParty":return new qj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=j_.get(n);r&&(W("ComponentProvider","Removing Datastore"),j_.delete(n),r.terminate())}(this),Promise.resolve()}}function bO(t,e,n,r={}){var s;const i=(t=Ms(t,Cg))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ht.MOCK_USER;else{a=ib(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ht(c)}t._authCredentials=new $j(new PS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rg(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class Ma extends Rg{constructor(e,n,r){super(e,n,dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new G(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function eu(t,e,...n){if(t=vt(t),arguments.length===1&&(e=AS.newId()),RO("doc","path",e),t instanceof Cg){const r=Ne.fromString(e,...n);return D_(r),new Ht(t,null,new G(r))}{if(!(t instanceof Ht||t instanceof Ma))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return D_(r),new Ht(t.firestore,t instanceof Ma?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new l1(this,"async_queue_retry"),this.Vu=()=>{const r=Mh();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Mh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!rl(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw nr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Tg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&J()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class fd extends Cg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new O_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function NO(t,e){const n=typeof t=="object"?t:LT(),r=typeof t=="string"?t:"(default)",s=Gm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=rb("firestore");i&&bO(s,...i)}return s}function P1(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jO(t),t._firestoreClient}function jO(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new iD(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,I1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new SO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(st.fromBase64String(e))}catch(n){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qi(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=/^__.*__$/;class VO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new sl(e,this.data,n,this.fieldTransforms)}}class A1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function C1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class jg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new jg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ec(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(C1(this.Cu)&&DO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class OO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}Qu(e,n,r,s=!1){return new jg({Cu:e,methodName:n,qu:r,path:Ze.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R1(t){const e=t._freezeSettings(),n=cd(t._databaseId);return new OO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LO(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Dg("Data must be an object, but it was:",o,r);const a=k1(r,o);let l,c;if(i.merge)l=new zt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=Ip(e,f,n);if(!o.contains(m))throw new K(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);N1(d,m)||d.push(m)}l=new zt(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new VO(new bt(a),l,c)}class md extends kg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function MO(t,e,n,r){const s=t.Qu(1,e,n);Dg("Data must be an object, but it was:",s,r);const i=[],o=bt.empty();Hs(r,(l,c)=>{const d=Vg(e,l,n);c=vt(c);const f=s.Nu(d);if(c instanceof md)i.push(d);else{const m=gd(c,f);m!=null&&(i.push(d),o.set(d,m))}});const a=new zt(i);return new A1(o,a,s.fieldTransforms)}function FO(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[Ip(e,r,n)],l=[s];if(i.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Ip(e,i[m])),l.push(i[m+1]);const c=[],d=bt.empty();for(let m=a.length-1;m>=0;--m)if(!N1(c,a[m])){const v=a[m];let x=l[m];x=vt(x);const E=o.Nu(v);if(x instanceof md)c.push(v);else{const I=gd(x,E);I!=null&&(c.push(v),d.set(v,I))}}const f=new zt(c);return new A1(d,f,o.fieldTransforms)}function gd(t,e){if(b1(t=vt(t)))return Dg("Unsupported field value:",e,t),k1(t,e);if(t instanceof kg)return function(r,s){if(!C1(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=gd(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=He.fromDate(r);return{timestampValue:_c(s.serializer,i)}}if(r instanceof He){const i=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_c(s.serializer,i)}}if(r instanceof bg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qi)return{bytesValue:ZS(s.serializer,r._byteString)};if(r instanceof Ht){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ng)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return hg(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Ag(r)}`)}(t,e)}function k1(t,e){const n={};return CS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,s)=>{const i=gd(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function b1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof bg||t instanceof qi||t instanceof Ht||t instanceof kg||t instanceof Ng)}function Dg(t,e,n){if(!b1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ag(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ip(t,e,n){if((e=vt(e))instanceof pd)return e._internalPath;if(typeof e=="string")return Vg(t,e);throw Ec("Field path arguments must be of type string or ",t,!1,void 0,n)}const UO=new RegExp("[~\\*/\\[\\]]");function Vg(t,e,n){if(e.search(UO)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pd(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ec(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new K(U.INVALID_ARGUMENT,a+t+l)}function N1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BO extends j1{data(){return super.data()}}function D1(t,e){return typeof e=="string"?Vg(t,e):e instanceof pd?e._internalPath:e._delegate._internalPath}class zO{convertValue(e,n="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>je(o.doubleValue));return new Ng(i)}convertGeoPoint(e){return new bg(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ag(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);pe(i1(r));const s=new Da(r.get(1),r.get(3)),i=new G(r.popFirst(5));return s.isEqual(n)||nr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class V1 extends j1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new WO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class WO extends V1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){t=Ms(t,Ht);const e=Ms(t.firestore,fd);return CO(P1(e),t._key).then(n=>QO(e,t,n))}class KO extends zO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function L_(t,e,n){t=Ms(t,Ht);const r=Ms(t.firestore,fd),s=$O(t.converter,e);return O1(r,[LO(R1(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Cn.none())])}function GO(t,e,n,...r){t=Ms(t,Ht);const s=Ms(t.firestore,fd),i=R1(s);let o;return o=typeof(e=vt(e))=="string"||e instanceof pd?FO(i,"updateDoc",t._key,e,n,r):MO(i,"updateDoc",t._key,e),O1(s,[o.toMutation(t._key,Cn.exists(!0))])}function O1(t,e){return function(r,s){const i=new Ur;return r.asyncQueue.enqueueAndForget(async()=>mO(await PO(r),s,i)),i.promise}(P1(t),e)}function QO(t,e,n){const r=n.docs.get(e._key),s=new KO(t);return new V1(t,s,e._key,r,new HO(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ro=s})(to),Fi(new Ns("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new fd(new Hj(r.getProvider("auth-internal")),new Gj(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Fr(n_,"4.7.3",e),Fr(n_,"4.7.3","esm2017")})();var YO="firebase",XO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(YO,XO,"app");const JO={apiKey:"AIzaSyD2QdLSfYX587yackaTTUtx_D_MLoLcvS4",authDomain:"bfsi-fraud-detection-app.firebaseapp.com",projectId:"bfsi-fraud-detection-app",storageBucket:"bfsi-fraud-detection-app.firebasestorage.app",messagingSenderId:"73965566370",appId:"1:73965566370:web:7326e3529b30a08cde5afb",measurementId:"G-HJ3HSCNXMN"},L1=OT(JO),tu=Uj(L1),nu=NO(L1);let ZO={data:""},eL=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ZO,tL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nL=/\/\*[^]*?\*\/|  +/g,M_=/\n+/g,Tr=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Tr(o,i):i+"{"+Tr(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Tr(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Tr.p?Tr.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},On={},M1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+M1(t[n]);return e}return t},rL=(t,e,n,r,s)=>{let i=M1(t),o=On[i]||(On[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!On[o]){let l=i!==t?t:(c=>{let d,f,m=[{}];for(;d=tL.exec(c.replace(nL,""));)d[4]?m.shift():d[3]?(f=d[3].replace(M_," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(M_," ").trim();return m[0]})(t);On[o]=Tr(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&On.g?On.g:null;return n&&(On.g=On[o]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(On[o],e,r,a),o},sL=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Tr(a,""):a===!1?"":a}return r+s+(o??"")},"");function yd(t){let e=this||{},n=t.call?t(e.p):t;return rL(n.unshift?n.raw?sL(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,eL(e.target),e.g,e.o,e.k)}let F1,Pp,Ap;yd.bind({g:1});let sr=yd.bind({k:1});function iL(t,e,n,r){Tr.p=e,F1=t,Pp=n,Ap=r}function rs(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Pp&&Pp()},a),n.o=/ *go\d+/.test(l),a.className=yd.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Ap&&c[0]&&Ap(a),F1(c,a)}return s}}var oL=t=>typeof t=="function",Tc=(t,e)=>oL(t)?t(e):t,aL=(()=>{let t=0;return()=>(++t).toString()})(),U1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),lL=20,B1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,lL)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return B1(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Ru=[],_s={toasts:[],pausedAt:void 0},qs=t=>{_s=B1(_s,t),Ru.forEach(e=>{e(_s)})},uL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cL=(t={})=>{let[e,n]=N.useState(_s),r=N.useRef(_s);N.useEffect(()=>(r.current!==_s&&n(_s),Ru.push(n),()=>{let i=Ru.indexOf(n);i>-1&&Ru.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||uL[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},dL=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||aL()}),ll=t=>(e,n)=>{let r=dL(e,t,n);return qs({type:2,toast:r}),r.id},It=(t,e)=>ll("blank")(t,e);It.error=ll("error");It.success=ll("success");It.loading=ll("loading");It.custom=ll("custom");It.dismiss=t=>{qs({type:3,toastId:t})};It.remove=t=>qs({type:4,toastId:t});It.promise=(t,e,n)=>{let r=It.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Tc(e.success,s):void 0;return i?It.success(i,{id:r,...n,...n==null?void 0:n.success}):It.dismiss(r),s}).catch(s=>{let i=e.error?Tc(e.error,s):void 0;i?It.error(i,{id:r,...n,...n==null?void 0:n.error}):It.dismiss(r)}),t};var hL=(t,e)=>{qs({type:1,toast:{id:t,height:e}})},fL=()=>{qs({type:5,time:Date.now()})},ia=new Map,pL=1e3,mL=(t,e=pL)=>{if(ia.has(t))return;let n=setTimeout(()=>{ia.delete(t),qs({type:4,toastId:t})},e);ia.set(t,n)},gL=t=>{let{toasts:e,pausedAt:n}=cL(t);N.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&It.dismiss(a.id);return}return setTimeout(()=>It.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=N.useCallback(()=>{n&&qs({type:6,time:Date.now()})},[n]),s=N.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=e.filter(v=>(v.position||c)===(i.position||c)&&v.height),f=d.findIndex(v=>v.id===i.id),m=d.filter((v,x)=>x<f&&v.visible).length;return d.filter(v=>v.visible).slice(...a?[m+1]:[0,m]).reduce((v,x)=>v+(x.height||0)+l,0)},[e]);return N.useEffect(()=>{e.forEach(i=>{if(i.dismissed)mL(i.id,i.removeDelay);else{let o=ia.get(i.id);o&&(clearTimeout(o),ia.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:hL,startPause:fL,endPause:r,calculateOffset:s}}},yL=sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vL=sr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_L=sr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wL=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_L} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,xL=sr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,EL=rs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${xL} 1s linear infinite;
`,TL=sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SL=sr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IL=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,PL=rs("div")`
  position: absolute;
`,AL=rs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CL=sr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RL=rs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kL=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?N.createElement(RL,null,e):e:n==="blank"?null:N.createElement(AL,null,N.createElement(EL,{...r}),n!=="loading"&&N.createElement(PL,null,n==="error"?N.createElement(wL,{...r}):N.createElement(IL,{...r})))},bL=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,NL=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,jL="0%{opacity:0;} 100%{opacity:1;}",DL="0%{opacity:1;} 100%{opacity:0;}",VL=rs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,OL=rs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LL=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=U1()?[jL,DL]:[bL(n),NL(n)];return{animation:e?`${sr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ML=N.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?LL(t.position||e||"top-center",t.visible):{opacity:0},i=N.createElement(kL,{toast:t}),o=N.createElement(OL,{...t.ariaProps},Tc(t.message,t));return N.createElement(VL,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):N.createElement(N.Fragment,null,i,o))});iL(N.createElement);var FL=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=N.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return N.createElement("div",{ref:i,className:e,style:n},s)},UL=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:U1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},BL=yd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ru=16,zL=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=gL(n);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ru,left:ru,right:ru,bottom:ru,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),m=UL(d,f);return N.createElement(FL,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?BL:"",style:m},c.type==="custom"?Tc(c.message,c):s?s(c):N.createElement(ML,{toast:c,position:d}))}))},Et=It;const z1=N.createContext(),Ks=()=>{const t=N.useContext(z1);if(!t)throw new Error("useAuth must be used within a UserProvider");return t},$L=({children:t})=>{const[e,n]=N.useState(null),[r,s]=N.useState(!1),[i,o]=N.useState(!0),[a,l]=N.useState(null),[c,d]=N.useState(!0),[f,m]=N.useState(!1);N.useEffect(()=>{const y=localStorage.getItem("testUser");if(y){const A=JSON.parse(y);n({uid:A.uid,email:A.email}),l(A),s(A.profileComplete||!1),m(!0),o(!1);return}return C2(tu,async A=>{if(n(A),A)try{const V=await qO(eu(nu,"users",A.uid));if(V.exists()){const M=V.data();l(M),s(M.profileComplete||!1)}else try{await L_(eu(nu,"users",A.uid),{email:A.email,createdAt:new Date,profileComplete:!1}),s(!1)}catch{console.warn("Firestore not available, using local storage fallback"),d(!1);const P=localStorage.getItem(`userProfile_${A.uid}`);if(P){const T=JSON.parse(P);l(T),s(T.profileComplete||!1)}else s(!1)}}catch(V){console.error("Error checking user profile:",V),d(!1);const M=localStorage.getItem(`userProfile_${A.uid}`);if(M){const P=JSON.parse(M);l(P),s(P.profileComplete||!1)}else s(!1)}else s(!1),l(null);o(!1)})},[]);const w={user:e,profileComplete:r,loading:i,userProfile:a,firestoreAvailable:c,isTestMode:f,signup:async(y,_)=>{try{const V=(await S2(tu,y,_)).user;try{await L_(eu(nu,"users",V.uid),{email:V.email,createdAt:new Date,profileComplete:!1})}catch{console.warn("Firestore not available, using local storage fallback"),d(!1),localStorage.setItem(`userProfile_${V.uid}`,JSON.stringify({email:V.email,createdAt:new Date,profileComplete:!1}))}return Et.success("Account created successfully!"),V}catch(A){throw console.error("Signup error:",A),A.code==="auth/email-already-in-use"?Et.error("An account with this email already exists. Please try logging in."):A.code==="auth/weak-password"?Et.error("Password should be at least 6 characters long."):Et.error("Failed to create account. Please try again."),A}},login:async(y,_)=>{try{const A=await I2(tu,y,_);return Et.success("Logged in successfully!"),A.user}catch(A){throw console.error("Login error:",A),A.code==="auth/invalid-credential"?Et.error("Invalid email or password. Please try again."):A.code==="auth/user-not-found"?Et.error("No account found with this email. Please sign up first."):A.code==="auth/wrong-password"?Et.error("Incorrect password. Please try again."):Et.error("Login failed. Please try again."),A}},logout:async()=>{try{if(f){localStorage.removeItem("testUser"),n(null),s(!1),l(null),m(!1),Et.success("Logged out successfully!");return}await R2(tu),Et.success("Logged out successfully!")}catch(y){console.error("Logout error:",y),Et.error("Failed to logout. Please try again.")}},saveProfile:async y=>{try{if(!e)throw new Error("No user logged in");if(f){const _={...y,profileComplete:!0,updatedAt:new Date};localStorage.setItem("testUser",JSON.stringify({uid:e.uid,email:e.email,..._})),l(_),s(!0),Et.success("Profile saved successfully!");return}if(c){const _=eu(nu,"users",e.uid);await GO(_,{...y,profileComplete:!0,updatedAt:new Date})}else localStorage.setItem(`userProfile_${e.uid}`,JSON.stringify({...y,profileComplete:!0,updatedAt:new Date}));l(y),s(!0),Et.success("Profile saved successfully!")}catch(_){throw console.error("Error saving profile:",_),Et.error("Failed to save profile. Please try again."),_}}};return h.jsx(z1.Provider,{value:w,children:t})},$1=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),vd=N.createContext({}),Og=N.createContext(null),_d=typeof document<"u",HL=_d?N.useLayoutEffect:N.useEffect,H1=N.createContext({strict:!1}),Lg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),WL="framerAppearId",W1="data-"+Lg(WL);function qL(t,e,n,r){const{visualElement:s}=N.useContext(vd),i=N.useContext(H1),o=N.useContext(Og),a=N.useContext($1).reducedMotion,l=N.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;N.useInsertionEffect(()=>{c&&c.update(n,o)});const d=N.useRef(!!(n[W1]&&!window.HandoffComplete));return HL(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),N.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function vi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KL(t,e,n){return N.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):vi(n)&&(n.current=r))},[e])}function Fa(t){return typeof t=="string"||Array.isArray(t)}function wd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Mg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fg=["initial",...Mg];function xd(t){return wd(t.animate)||Fg.some(e=>Fa(t[e]))}function q1(t){return!!(xd(t)||t.variants)}function GL(t,e){if(xd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Fa(n)?n:void 0,animate:Fa(r)?r:void 0}}return t.inherit!==!1?e:{}}function QL(t){const{initial:e,animate:n}=GL(t,N.useContext(vd));return N.useMemo(()=>({initial:e,animate:n}),[F_(e),F_(n)])}function F_(t){return Array.isArray(t)?t.join(" "):t}const U_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ua={};for(const t in U_)Ua[t]={isEnabled:e=>U_[t].some(n=>!!e[n])};function YL(t){for(const e in t)Ua[e]={...Ua[e],...t[e]}}const K1=N.createContext({}),G1=N.createContext({}),XL=Symbol.for("motionComponentSymbol");function JL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&YL(t);function i(a,l){let c;const d={...N.useContext($1),...a,layoutId:ZL(a)},{isStatic:f}=d,m=QL(a),v=r(a,f);if(!f&&_d){m.visualElement=qL(s,v,d,e);const x=N.useContext(G1),E=N.useContext(H1).strict;m.visualElement&&(c=m.visualElement.loadFeatures(d,E,t,x))}return N.createElement(vd.Provider,{value:m},c&&m.visualElement?N.createElement(c,{visualElement:m.visualElement,...d}):null,n(s,a,KL(v,m.visualElement,l),v,f,m.visualElement))}const o=N.forwardRef(i);return o[XL]=s,o}function ZL({layoutId:t}){const e=N.useContext(K1).id;return e&&t!==void 0?e+"-"+t:t}function eM(t){function e(r,s={}){return JL(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const tM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ug(t){return typeof t!="string"||t.includes("-")?!1:!!(tM.indexOf(t)>-1||/[A-Z]/.test(t))}const Sc={};function nM(t){Object.assign(Sc,t)}const ul=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gs=new Set(ul);function Q1(t,{layout:e,layoutId:n}){return Gs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sc[t]||t==="opacity")}const Mt=t=>!!(t&&t.getVelocity),rM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sM=ul.length;function iM(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<sM;o++){const a=ul[o];if(t[a]!==void 0){const l=rM[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const Y1=t=>e=>typeof e=="string"&&e.startsWith(t),X1=Y1("--"),Cp=Y1("var(--"),oM=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,aM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Kr=(t,e,n)=>Math.min(Math.max(n,t),e),Qs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},oa={...Qs,transform:t=>Kr(0,1,t)},su={...Qs,default:1},aa=t=>Math.round(t*1e5)/1e5,Ed=/(-)?([\d]*\.?[\d])+/g,J1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lM=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cl(t){return typeof t=="string"}const dl=t=>({test:e=>cl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fr=dl("deg"),kn=dl("%"),Q=dl("px"),uM=dl("vh"),cM=dl("vw"),B_={...kn,parse:t=>kn.parse(t)/100,transform:t=>kn.transform(t*100)},z_={...Qs,transform:Math.round},Z1={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scale:su,scaleX:su,scaleY:su,scaleZ:su,skew:fr,skewX:fr,skewY:fr,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:oa,originX:B_,originY:B_,originZ:Q,zIndex:z_,fillOpacity:oa,strokeOpacity:oa,numOctaves:z_};function Bg(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const f in e){const m=e[f];if(X1(f)){i[f]=m;continue}const v=Z1[f],x=aM(m,v);if(Gs.has(f)){if(l=!0,o[f]=x,!d)continue;m!==(v.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,a[f]=x):s[f]=x}if(e.transform||(l||r?s.transform=iM(t.transform,n,d,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:m="50%",originZ:v=0}=a;s.transformOrigin=`${f} ${m} ${v}`}}const zg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eI(t,e,n){for(const r in e)!Mt(e[r])&&!Q1(r,n)&&(t[r]=e[r])}function dM({transformTemplate:t},e,n){return N.useMemo(()=>{const r=zg();return Bg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function hM(t,e,n){const r=t.style||{},s={};return eI(s,r,t),Object.assign(s,dM(t,e,n)),t.transformValues?t.transformValues(s):s}function fM(t,e,n){const r={},s=hM(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const pM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ic(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pM.has(t)}let tI=t=>!Ic(t);function mM(t){t&&(tI=e=>e.startsWith("on")?!Ic(e):t(e))}try{mM(require("@emotion/is-prop-valid").default)}catch{}function gM(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(tI(s)||n===!0&&Ic(s)||!e&&!Ic(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function $_(t,e,n){return typeof t=="string"?t:Q.transform(e+n*t)}function yM(t,e,n){const r=$_(e,t.x,t.width),s=$_(n,t.y,t.height);return`${r} ${s}`}const vM={offset:"stroke-dashoffset",array:"stroke-dasharray"},_M={offset:"strokeDashoffset",array:"strokeDasharray"};function wM(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?vM:_M;t[i.offset]=Q.transform(-r);const o=Q.transform(e),a=Q.transform(n);t[i.array]=`${o} ${a}`}function $g(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f,m){if(Bg(t,c,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x,dimensions:E}=t;v.transform&&(E&&(x.transform=v.transform),delete v.transform),E&&(s!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=yM(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),o!==void 0&&wM(v,o,a,l,!1)}const nI=()=>({...zg(),attrs:{}}),Hg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xM(t,e,n,r){const s=N.useMemo(()=>{const i=nI();return $g(i,e,{enableHardwareAcceleration:!1},Hg(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};eI(i,t.style,t),s.style={...i,...s.style}}return s}function EM(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Ug(n)?xM:fM)(r,i,o,n),d={...gM(r,typeof n=="string",t),...l,ref:s},{children:f}=r,m=N.useMemo(()=>Mt(f)?f.get():f,[f]);return N.createElement(n,{...d,children:m})}}function rI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const sI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iI(t,e,n,r){rI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(sI.has(s)?s:Lg(s),e.attrs[s])}function Wg(t,e){const{style:n}=t,r={};for(const s in n)(Mt(n[s])||e.style&&Mt(e.style[s])||Q1(s,t))&&(r[s]=n[s]);return r}function oI(t,e){const n=Wg(t,e);for(const r in t)if(Mt(t[r])||Mt(e[r])){const s=ul.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function qg(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function TM(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const Pc=t=>Array.isArray(t),SM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),IM=t=>Pc(t)?t[t.length-1]||0:t;function ku(t){const e=Mt(t)?t.get():t;return SM(e)?e.toValue():e}function PM({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:AM(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const aI=t=>(e,n)=>{const r=N.useContext(vd),s=N.useContext(Og),i=()=>PM(t,e,r,s);return n?i():TM(i)};function AM(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=ku(i[m]);let{initial:o,animate:a}=t;const l=xd(t),c=q1(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!wd(f)&&(Array.isArray(f)?f:[f]).forEach(v=>{const x=qg(t,v);if(!x)return;const{transitionEnd:E,transition:I,...w}=x;for(const y in w){let _=w[y];if(Array.isArray(_)){const A=d?_.length-1:0;_=_[A]}_!==null&&(s[y]=_)}for(const y in E)s[y]=E[y]}),s}const Ve=t=>t;class H_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function CM(t){let e=new H_,n=new H_,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const f=d&&s,m=f?e:n;return c&&o.add(l),m.add(l)&&f&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const iu=["prepare","read","update","preRender","render","postRender"],RM=40;function kM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=iu.reduce((f,m)=>(f[m]=CM(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,RM),1),s.timestamp=f,s.isProcessing=!0,iu.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:iu.reduce((f,m)=>{const v=i[m];return f[m]=(x,E=!1,I=!1)=>(n||l(),v.schedule(x,E,I)),f},{}),cancel:f=>iu.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:xe,cancel:ir,state:dt,steps:Uh}=kM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ve,!0),bM={useVisualState:aI({scrapeMotionValuesFromProps:oI,createRenderState:nI,onMount:(t,e,{renderState:n,latestValues:r})=>{xe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),xe.render(()=>{$g(n,r,{enableHardwareAcceleration:!1},Hg(e.tagName),t.transformTemplate),iI(e,n)})}})},NM={useVisualState:aI({scrapeMotionValuesFromProps:Wg,createRenderState:zg})};function jM(t,{forwardMotionProps:e=!1},n,r){return{...Ug(t)?bM:NM,preloadedFeatures:n,useRender:EM(e),createVisualElement:r,Component:t}}function Hn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const lI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Td(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const DM=t=>e=>lI(e)&&t(e,Td(e));function Gn(t,e,n,r){return Hn(t,e,DM(n),r)}const VM=(t,e)=>n=>e(t(n)),Br=(...t)=>t.reduce(VM);function uI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const W_=uI("dragHorizontal"),q_=uI("dragVertical");function cI(t){let e=!1;if(t==="y")e=q_();else if(t==="x")e=W_();else{const n=W_(),r=q_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function dI(){const t=cI(!0);return t?(t(),!1):!0}class ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}function K_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||dI())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&xe.update(()=>a[r](i,o))};return Gn(t.current,n,s,{passive:!t.getProps()[r]})}class OM extends ss{mount(){this.unmount=Br(K_(this.node,!0),K_(this.node,!1))}unmount(){}}class LM extends ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Br(Hn(this.node.current,"focus",()=>this.onFocus()),Hn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const hI=(t,e)=>e?t===e?!0:hI(t,e.parentElement):!1;function Bh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Td(n))}class MM extends ss{constructor(){super(...arguments),this.removeStartListeners=Ve,this.removeEndListeners=Ve,this.removeAccessibleListeners=Ve,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Gn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();xe.update(()=>{!f&&!hI(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Gn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Br(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Bh("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&xe.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Hn(this.node.current,"keyup",o),Bh("down",(a,l)=>{this.startPress(a,l)})},n=Hn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Bh("cancel",(i,o)=>this.cancelPress(i,o))},s=Hn(this.node.current,"blur",r);this.removeAccessibleListeners=Br(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&xe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&xe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Gn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Hn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Br(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Rp=new WeakMap,zh=new WeakMap,FM=t=>{const e=Rp.get(t.target);e&&e(t)},UM=t=>{t.forEach(FM)};function BM({root:t,...e}){const n=t||document;zh.has(n)||zh.set(n,{});const r=zh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(UM,{root:t,...e})),r[s]}function zM(t,e,n){const r=BM(e);return Rp.set(t,n),r.observe(t),()=>{Rp.delete(t),r.unobserve(t)}}const $M={some:0,all:1};class HM extends ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:$M[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=c?d:f;m&&m(l)};return zM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WM(e,n))&&this.startObserver()}unmount(){}}function WM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const qM={inView:{Feature:HM},tap:{Feature:MM},focus:{Feature:LM},hover:{Feature:OM}};function fI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function KM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function GM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Sd(t,e,n){const r=t.getProps();return qg(r,e,n!==void 0?n:r.custom,KM(t),GM(t))}let Kg=Ve;const Is=t=>t*1e3,Qn=t=>t/1e3,QM={current:!1},pI=t=>Array.isArray(t)&&typeof t[0]=="number";function mI(t){return!!(!t||typeof t=="string"&&gI[t]||pI(t)||Array.isArray(t)&&t.every(mI))}const Ho=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ho([0,.65,.55,1]),circOut:Ho([.55,0,1,.45]),backIn:Ho([.31,.01,.66,-.59]),backOut:Ho([.33,1.53,.69,.99])};function yI(t){if(t)return pI(t)?Ho(t):Array.isArray(t)?t.map(yI):gI[t]}function YM(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=yI(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function XM(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const vI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,JM=1e-7,ZM=12;function e4(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=vI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>JM&&++a<ZM);return o}function hl(t,e,n,r){if(t===e&&n===r)return Ve;const s=i=>e4(i,0,1,t,n);return i=>i===0||i===1?i:vI(s(i),e,r)}const t4=hl(.42,0,1,1),n4=hl(0,0,.58,1),_I=hl(.42,0,.58,1),r4=t=>Array.isArray(t)&&typeof t[0]!="number",wI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xI=t=>e=>1-t(1-e),Gg=t=>1-Math.sin(Math.acos(t)),EI=xI(Gg),s4=wI(Gg),TI=hl(.33,1.53,.69,.99),Qg=xI(TI),i4=wI(Qg),o4=t=>(t*=2)<1?.5*Qg(t):.5*(2-Math.pow(2,-10*(t-1))),a4={linear:Ve,easeIn:t4,easeInOut:_I,easeOut:n4,circIn:Gg,circInOut:s4,circOut:EI,backIn:Qg,backInOut:i4,backOut:TI,anticipate:o4},G_=t=>{if(Array.isArray(t)){Kg(t.length===4);const[e,n,r,s]=t;return hl(e,n,r,s)}else if(typeof t=="string")return a4[t];return t},Yg=(t,e)=>n=>!!(cl(n)&&lM.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),SI=(t,e,n)=>r=>{if(!cl(r))return r;const[s,i,o,a]=r.match(Ed);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},l4=t=>Kr(0,255,t),$h={...Qs,transform:t=>Math.round(l4(t))},ws={test:Yg("rgb","red"),parse:SI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$h.transform(t)+", "+$h.transform(e)+", "+$h.transform(n)+", "+aa(oa.transform(r))+")"};function u4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const kp={test:Yg("#"),parse:u4,transform:ws.transform},_i={test:Yg("hsl","hue"),parse:SI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+kn.transform(aa(e))+", "+kn.transform(aa(n))+", "+aa(oa.transform(r))+")"},Tt={test:t=>ws.test(t)||kp.test(t)||_i.test(t),parse:t=>ws.test(t)?ws.parse(t):_i.test(t)?_i.parse(t):kp.parse(t),transform:t=>cl(t)?t:t.hasOwnProperty("red")?ws.transform(t):_i.transform(t)},Pe=(t,e,n)=>-n*t+n*e+t;function Hh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function c4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Hh(l,a,t+1/3),i=Hh(l,a,t),o=Hh(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Wh=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},d4=[kp,ws,_i],h4=t=>d4.find(e=>e.test(t));function Q_(t){const e=h4(t);let n=e.parse(t);return e===_i&&(n=c4(n)),n}const II=(t,e)=>{const n=Q_(t),r=Q_(e),s={...n};return i=>(s.red=Wh(n.red,r.red,i),s.green=Wh(n.green,r.green,i),s.blue=Wh(n.blue,r.blue,i),s.alpha=Pe(n.alpha,r.alpha,i),ws.transform(s))};function f4(t){var e,n;return isNaN(t)&&cl(t)&&(((e=t.match(Ed))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(J1))===null||n===void 0?void 0:n.length)||0)>0}const PI={regex:oM,countKey:"Vars",token:"${v}",parse:Ve},AI={regex:J1,countKey:"Colors",token:"${c}",parse:Tt.parse},CI={regex:Ed,countKey:"Numbers",token:"${n}",parse:Qs.parse};function qh(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Ac(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&qh(n,PI),qh(n,AI),qh(n,CI),n}function RI(t){return Ac(t).values}function kI(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Ac(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(PI.token,o[l]):l<r+n?a=a.replace(AI.token,Tt.transform(o[l])):a=a.replace(CI.token,aa(o[l]));return a}}const p4=t=>typeof t=="number"?0:t;function m4(t){const e=RI(t);return kI(t)(e.map(p4))}const Gr={test:f4,parse:RI,createTransformer:kI,getAnimatableNone:m4},bI=(t,e)=>n=>`${n>0?e:t}`;function NI(t,e){return typeof t=="number"?n=>Pe(t,e,n):Tt.test(t)?II(t,e):t.startsWith("var(")?bI(t,e):DI(t,e)}const jI=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>NI(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},g4=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=NI(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},DI=(t,e)=>{const n=Gr.createTransformer(e),r=Ac(t),s=Ac(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Br(jI(r.values,s.values),n):bI(t,e)},Ba=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Y_=(t,e)=>n=>Pe(t,e,n);function y4(t){return typeof t=="number"?Y_:typeof t=="string"?Tt.test(t)?II:DI:Array.isArray(t)?jI:typeof t=="object"?g4:Y_}function v4(t,e,n){const r=[],s=n||y4(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ve:e;a=Br(l,a)}r.push(a)}return r}function VI(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Kg(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=v4(e,r,s),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=Ba(t[d],t[d+1],c);return o[d](f)};return n?c=>l(Kr(t[0],t[i-1],c)):l}function _4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ba(0,e,r);t.push(Pe(n,1,s))}}function w4(t){const e=[0];return _4(e,t.length-1),e}function x4(t,e){return t.map(n=>n*e)}function E4(t,e){return t.map(()=>e||_I).splice(0,t.length-1)}function Cc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=r4(r)?r.map(G_):G_(r),i={done:!1,value:e[0]},o=x4(n&&n.length===e.length?n:w4(e),t),a=VI(o,e,{ease:Array.isArray(s)?s:E4(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function OI(t,e){return e?t*(1e3/e):0}const T4=5;function LI(t,e,n){const r=Math.max(e-T4,0);return OI(n-t(r),e-r)}const Kh=.001,S4=.01,I4=10,P4=.05,A4=1;function C4({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Kr(P4,A4,o),t=Kr(S4,I4,Qn(t)),o<1?(s=c=>{const d=c*o,f=d*t,m=d-n,v=bp(c,o),x=Math.exp(-f);return Kh-m/v*x},i=c=>{const f=c*o*t,m=f*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,x=Math.exp(-f),E=bp(Math.pow(c,2),o);return(-s(c)+Kh>0?-1:1)*((m-v)*x)/E}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-Kh+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=k4(s,i,a);if(t=Is(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const R4=12;function k4(t,e,n){let r=n;for(let s=1;s<R4;s++)r=r-t(r)/e(r);return r}function bp(t,e){return t*Math.sqrt(1-e*e)}const b4=["duration","bounce"],N4=["stiffness","damping","mass"];function X_(t,e){return e.some(n=>t[n]!==void 0)}function j4(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!X_(t,N4)&&X_(t,b4)){const n=C4(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function MI({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:m}=j4({...r,velocity:-Qn(r.velocity||0)}),v=f||0,x=l/(2*Math.sqrt(a*c)),E=i-s,I=Qn(Math.sqrt(a/c)),w=Math.abs(E)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let y;if(x<1){const _=bp(I,x);y=A=>{const V=Math.exp(-x*I*A);return i-V*((v+x*I*E)/_*Math.sin(_*A)+E*Math.cos(_*A))}}else if(x===1)y=_=>i-Math.exp(-I*_)*(E+(v+I*E)*_);else{const _=I*Math.sqrt(x*x-1);y=A=>{const V=Math.exp(-x*I*A),M=Math.min(_*A,300);return i-V*((v+x*I*E)*Math.sinh(M)+_*E*Math.cosh(M))/_}}return{calculatedDuration:m&&d||null,next:_=>{const A=y(_);if(m)o.done=_>=d;else{let V=v;_!==0&&(x<1?V=LI(y,_,A):V=0);const M=Math.abs(V)<=n,P=Math.abs(i-A)<=e;o.done=M&&P}return o.value=o.done?i:A,o}}}function J_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},v=T=>a!==void 0&&T<a||l!==void 0&&T>l,x=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let E=n*e;const I=f+E,w=o===void 0?I:o(I);w!==I&&(E=w-f);const y=T=>-E*Math.exp(-T/r),_=T=>w+y(T),A=T=>{const C=y(T),R=_(T);m.done=Math.abs(C)<=c,m.value=m.done?w:R};let V,M;const P=T=>{v(m.value)&&(V=T,M=MI({keyframes:[m.value,x(m.value)],velocity:LI(_,T,m.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return P(0),{calculatedDuration:null,next:T=>{let C=!1;return!M&&V===void 0&&(C=!0,A(T),P(T)),V!==void 0&&T>V?M.next(T-V):(!C&&A(T),m)}}}const D4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>xe.update(e,!0),stop:()=>ir(e),now:()=>dt.isProcessing?dt.timestamp:performance.now()}},Z_=2e4;function ew(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Z_;)e+=n,r=t.next(e);return e>=Z_?1/0:e}const V4={decay:J_,inertia:J_,tween:Cc,keyframes:Cc,spring:MI};function Rc({autoplay:t=!0,delay:e=0,driver:n=D4,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...m}){let v=1,x=!1,E,I;const w=()=>{I=new Promise(X=>{E=X})};w();let y;const _=V4[s]||Cc;let A;_!==Cc&&typeof r[0]!="number"&&(A=VI([0,100],r,{clamp:!1}),r=[0,100]);const V=_({...m,keyframes:r});let M;a==="mirror"&&(M=_({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let P="idle",T=null,C=null,R=null;V.calculatedDuration===null&&i&&(V.calculatedDuration=ew(V));const{calculatedDuration:b}=V;let j=1/0,k=1/0;b!==null&&(j=b+o,k=j*(i+1)-o);let me=0;const Rt=X=>{if(C===null)return;v>0&&(C=Math.min(C,X)),v<0&&(C=Math.min(X-k/v,C)),T!==null?me=T:me=Math.round(X-C)*v;const ue=me-e*(v>=0?1:-1),Ee=v>=0?ue<0:ue>k;me=Math.max(ue,0),P==="finished"&&T===null&&(me=k);let Qt=me,Yt=V;if(i){const lo=Math.min(me,k)/j;let jn=Math.floor(lo),Jt=lo%1;!Jt&&lo>=1&&(Jt=1),Jt===1&&jn--,jn=Math.min(jn,i+1),!!(jn%2)&&(a==="reverse"?(Jt=1-Jt,o&&(Jt-=o/j)):a==="mirror"&&(Yt=M)),Qt=Kr(0,1,Jt)*j}const _t=Ee?{done:!1,value:r[0]}:Yt.next(Qt);A&&(_t.value=A(_t.value));let{done:Xt}=_t;!Ee&&b!==null&&(Xt=v>=0?me>=k:me<=0);const jd=T===null&&(P==="finished"||P==="running"&&Xt);return f&&f(_t.value),jd&&$(),_t},Se=()=>{y&&y.stop(),y=void 0},We=()=>{P="idle",Se(),E(),w(),C=R=null},$=()=>{P="finished",d&&d(),Se(),E()},q=()=>{if(x)return;y||(y=n(Rt));const X=y.now();l&&l(),T!==null?C=X-T:(!C||P==="finished")&&(C=X),P==="finished"&&w(),R=C,T=null,P="running",y.start()};t&&q();const Z={then(X,ue){return I.then(X,ue)},get time(){return Qn(me)},set time(X){X=Is(X),me=X,T!==null||!y||v===0?T=X:C=y.now()-X/v},get duration(){const X=V.calculatedDuration===null?ew(V):V.calculatedDuration;return Qn(X)},get speed(){return v},set speed(X){X===v||!y||(v=X,Z.time=Qn(me))},get state(){return P},play:q,pause:()=>{P="paused",T=me},stop:()=>{x=!0,P!=="idle"&&(P="idle",c&&c(),We())},cancel:()=>{R!==null&&Rt(R),We()},complete:()=>{P="finished"},sample:X=>(C=0,Rt(X))};return Z}function O4(t){let e;return()=>(e===void 0&&(e=t()),e)}const L4=O4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),M4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ou=10,F4=2e4,U4=(t,e)=>e.type==="spring"||t==="backgroundColor"||!mI(e.ease);function B4(t,e,{onUpdate:n,onComplete:r,...s}){if(!(L4()&&M4.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(_=>{a=_})};d();let{keyframes:f,duration:m=300,ease:v,times:x}=s;if(U4(e,s)){const _=Rc({...s,repeat:0,delay:0});let A={done:!1,value:f[0]};const V=[];let M=0;for(;!A.done&&M<F4;)A=_.sample(M),V.push(A.value),M+=ou;x=void 0,f=V,m=M-ou,v="linear"}const E=YM(t.owner.current,e,f,{...s,duration:m,ease:v,times:x}),I=()=>{c=!1,E.cancel()},w=()=>{c=!0,xe.update(I),a(),d()};return E.onfinish=()=>{c||(t.set(XM(f,s)),r&&r(),w())},{then(_,A){return l.then(_,A)},attachTimeline(_){return E.timeline=_,E.onfinish=null,Ve},get time(){return Qn(E.currentTime||0)},set time(_){E.currentTime=Is(_)},get speed(){return E.playbackRate},set speed(_){E.playbackRate=_},get duration(){return Qn(m)},play:()=>{o||(E.play(),ir(I))},pause:()=>E.pause(),stop:()=>{if(o=!0,E.playState==="idle")return;const{currentTime:_}=E;if(_){const A=Rc({...s,autoplay:!1});t.setWithVelocity(A.sample(_-ou).value,A.sample(_).value,ou)}w()},complete:()=>{c||E.finish()},cancel:w}}function z4({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ve,pause:Ve,stop:Ve,then:i=>(i(),Promise.resolve()),cancel:Ve,complete:Ve});return e?Rc({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const $4={type:"spring",stiffness:500,damping:25,restSpeed:10},H4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),W4={type:"keyframes",duration:.8},q4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},K4=(t,{keyframes:e})=>e.length>2?W4:Gs.has(t)?t.startsWith("scale")?H4(e[1]):$4:q4,Np=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gr.test(e)||e==="0")&&!e.startsWith("url(")),G4=new Set(["brightness","contrast","saturate","opacity"]);function Q4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ed)||[];if(!r)return t;const s=n.replace(r,"");let i=G4.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Y4=/([a-z-]*)\(.*?\)/g,jp={...Gr,getAnimatableNone:t=>{const e=t.match(Y4);return e?e.map(Q4).join(" "):t}},X4={...Z1,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:jp,WebkitFilter:jp},Xg=t=>X4[t];function FI(t,e){let n=Xg(t);return n!==jp&&(n=Gr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const UI=t=>/^0[^.\s]+$/.test(t);function J4(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||UI(t)}function Z4(t,e,n,r){const s=Np(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),J4(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];i[d]=FI(e,a)}return i}function eF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function Jg(t,e){return t[e]||t.default||t}const tF={skipAnimations:!1},Zg=(t,e,n,r={})=>s=>{const i=Jg(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Is(o);const l=Z4(e,t,n,i),c=l[0],d=l[l.length-1],f=Np(t,c),m=Np(t,d);let v={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:x=>{e.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(eF(i)||(v={...v,...K4(t,v)}),v.duration&&(v.duration=Is(v.duration)),v.repeatDelay&&(v.repeatDelay=Is(v.repeatDelay)),!f||!m||QM.current||i.type===!1||tF.skipAnimations)return z4(v);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=B4(e,t,v);if(x)return x}return Rc(v)};function kc(t){return!!(Mt(t)&&t.add)}const BI=t=>/^\-?\d*\.?\d+$/.test(t);function ey(t,e){t.indexOf(e)===-1&&t.push(e)}function ty(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ny{constructor(){this.subscriptions=[]}add(e){return ey(this.subscriptions,e),()=>ty(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nF=t=>!isNaN(parseFloat(t));class rF{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=dt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=nF(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ny);const r=this.events[e].add(n);return e==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?OI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ki(t,e){return new rF(t,e)}const zI=t=>e=>e.test(t),sF={test:t=>t==="auto",parse:t=>t},$I=[Qs,Q,kn,fr,cM,uM,sF],No=t=>$I.find(zI(t)),iF=[...$I,Tt,Gr],oF=t=>iF.find(zI(t));function aF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ki(n))}function lF(t,e){const n=Sd(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=IM(i[o]);aF(t,o,a)}}function uF(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),d!=null&&(typeof d=="string"&&(BI(d)||UI(d))?d=parseFloat(d):!oF(d)&&Gr.test(c)&&(d=FI(l,c)),t.addValue(l,Ki(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function cF(t,e){return e?(e[t]||e.default||e).from:void 0}function dF(t,e,n){const r={};for(const s in t){const i=cF(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function hF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fF(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function HI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const m=t.getValue(f),v=a[f];if(!m||v===void 0||d&&hF(d,f))continue;const x={delay:n,elapsed:0,...Jg(i||{},f)};if(window.HandoffAppearAnimations){const w=t.getProps()[W1];if(w){const y=window.HandoffAppearAnimations(w,f,m,xe);y!==null&&(x.elapsed=y,x.isHandoff=!0)}}let E=!x.isHandoff&&!fF(m,v);if(x.type==="spring"&&(m.getVelocity()||x.velocity)&&(E=!1),m.animation&&(E=!1),E)continue;m.start(Zg(f,m,v,t.shouldReduceMotion&&Gs.has(f)?{type:!1}:x));const I=m.animation;kc(l)&&(l.add(f),I.then(()=>l.remove(f))),c.push(I)}return o&&Promise.all(c).then(()=>{o&&lF(t,o)}),c}function Dp(t,e,n={}){const r=Sd(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(HI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return pF(t,e,c+l,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function pF(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(mF).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Dp(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function mF(t,e){return t.sortNodePosition(e)}function gF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Dp(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Dp(t,e,n);else{const s=typeof e=="function"?Sd(t,e,n.custom):e;r=Promise.all(HI(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const yF=[...Mg].reverse(),vF=Mg.length;function _F(t){return e=>Promise.all(e.map(({animation:n,options:r})=>gF(t,n,r)))}function wF(t){let e=_F(t);const n=EF();let r=!0;const s=(l,c)=>{const d=Sd(t,c);if(d){const{transition:f,transitionEnd:m,...v}=d;l={...l,...v,...m}}return l};function i(l){e=l(t)}function o(l,c){const d=t.getProps(),f=t.getVariantContext(!0)||{},m=[],v=new Set;let x={},E=1/0;for(let w=0;w<vF;w++){const y=yF[w],_=n[y],A=d[y]!==void 0?d[y]:f[y],V=Fa(A),M=y===c?_.isActive:null;M===!1&&(E=w);let P=A===f[y]&&A!==d[y]&&V;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),_.protectedKeys={...x},!_.isActive&&M===null||!A&&!_.prevProp||wd(A)||typeof A=="boolean")continue;let C=xF(_.prevProp,A)||y===c&&_.isActive&&!P&&V||w>E&&V,R=!1;const b=Array.isArray(A)?A:[A];let j=b.reduce(s,{});M===!1&&(j={});const{prevResolvedValues:k={}}=_,me={...k,...j},Rt=Se=>{C=!0,v.has(Se)&&(R=!0,v.delete(Se)),_.needsAnimating[Se]=!0};for(const Se in me){const We=j[Se],$=k[Se];if(x.hasOwnProperty(Se))continue;let q=!1;Pc(We)&&Pc($)?q=!fI(We,$):q=We!==$,q?We!==void 0?Rt(Se):v.add(Se):We!==void 0&&v.has(Se)?Rt(Se):_.protectedKeys[Se]=!0}_.prevProp=A,_.prevResolvedValues=j,_.isActive&&(x={...x,...j}),r&&t.blockInitialAnimation&&(C=!1),C&&(!P||R)&&m.push(...b.map(Se=>({animation:Se,options:{type:y,...l}})))}if(v.size){const w={};v.forEach(y=>{const _=t.getBaseTarget(y);_!==void 0&&(w[y]=_)}),m.push({animation:w})}let I=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(m):Promise.resolve()}function a(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(l,c)}),n[l].isActive=c;const m=o(d,l);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function xF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fI(e,t):!1}function us(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EF(){return{animate:us(!0),whileInView:us(),whileHover:us(),whileTap:us(),whileDrag:us(),whileFocus:us(),exit:us()}}class TF extends ss{constructor(e){super(e),e.animationState||(e.animationState=wF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),wd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let SF=0;class IF extends ss{constructor(){super(...arguments),this.id=SF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PF={animation:{Feature:TF},exit:{Feature:IF}},tw=(t,e)=>Math.abs(t-e);function AF(t,e){const n=tw(t.x,e.x),r=tw(t.y,e.y);return Math.sqrt(n**2+r**2)}class WI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qh(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=AF(f.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:x}=f,{timestamp:E}=dt;this.history.push({...x,timestamp:E});const{onStart:I,onMove:w}=this.handlers;m||(I&&I(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Gh(m,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Qh(f.type==="pointercancel"?this.lastMoveEventInfo:Gh(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,I),x&&x(f,I)},!lI(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Td(e),a=Gh(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=dt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Qh(a,this.history)),this.removeListeners=Br(Gn(this.contextWindow,"pointermove",this.handlePointerMove),Gn(this.contextWindow,"pointerup",this.handlePointerUp),Gn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ir(this.updatePoint)}}function Gh(t,e){return e?{point:e(t.point)}:t}function nw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qh({point:t},e){return{point:t,delta:nw(t,qI(e)),offset:nw(t,CF(e)),velocity:RF(e,.1)}}function CF(t){return t[0]}function qI(t){return t[t.length-1]}function RF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=qI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Is(e)));)n--;if(!r)return{x:0,y:0};const i=Qn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function qt(t){return t.max-t.min}function Vp(t,e=0,n=.01){return Math.abs(t-e)<=n}function rw(t,e,n,r=.5){t.origin=r,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=qt(n)/qt(e),(Vp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(Vp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function la(t,e,n,r){rw(t.x,e.x,n.x,r?r.originX:void 0),rw(t.y,e.y,n.y,r?r.originY:void 0)}function sw(t,e,n){t.min=n.min+e.min,t.max=t.min+qt(e)}function kF(t,e,n){sw(t.x,e.x,n.x),sw(t.y,e.y,n.y)}function iw(t,e,n){t.min=e.min-n.min,t.max=t.min+qt(e)}function ua(t,e,n){iw(t.x,e.x,n.x),iw(t.y,e.y,n.y)}function bF(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pe(n,t,r.max):Math.min(t,n)),t}function ow(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function NF(t,{top:e,left:n,bottom:r,right:s}){return{x:ow(t.x,n,s),y:ow(t.y,e,r)}}function aw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function jF(t,e){return{x:aw(t.x,e.x),y:aw(t.y,e.y)}}function DF(t,e){let n=.5;const r=qt(t),s=qt(e);return s>r?n=Ba(e.min,e.max-r,t.min):r>s&&(n=Ba(t.min,t.max-s,e.min)),Kr(0,1,n)}function VF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Op=.35;function OF(t=Op){return t===!1?t=0:t===!0&&(t=Op),{x:lw(t,"left","right"),y:lw(t,"top","bottom")}}function lw(t,e,n){return{min:uw(t,e),max:uw(t,n)}}function uw(t,e){return typeof t=="number"?t:t[e]||0}const cw=()=>({translate:0,scale:1,origin:0,originPoint:0}),wi=()=>({x:cw(),y:cw()}),dw=()=>({min:0,max:0}),Fe=()=>({x:dw(),y:dw()});function en(t){return[t("x"),t("y")]}function KI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function LF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yh(t){return t===void 0||t===1}function Lp({scale:t,scaleX:e,scaleY:n}){return!Yh(t)||!Yh(e)||!Yh(n)}function fs(t){return Lp(t)||GI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function GI(t){return hw(t.x)||hw(t.y)}function hw(t){return t&&t!=="0%"}function bc(t,e,n){const r=t-n,s=e*r;return n+s}function fw(t,e,n,r,s){return s!==void 0&&(t=bc(t,s,r)),bc(t,n,r)+e}function Mp(t,e=0,n=1,r,s){t.min=fw(t.min,e,n,r,s),t.max=fw(t.max,e,n,r,s)}function QI(t,{x:e,y:n}){Mp(t.x,e.translate,e.scale,e.originPoint),Mp(t.y,n.translate,n.scale,n.originPoint)}function FF(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&xi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,QI(t,o)),r&&fs(i.latestValues)&&xi(t,i.latestValues))}e.x=pw(e.x),e.y=pw(e.y)}function pw(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function gr(t,e){t.min=t.min+e,t.max=t.max+e}function mw(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Pe(t.min,t.max,i);Mp(t,e[n],e[r],o,e.scale)}const UF=["x","scaleX","originX"],BF=["y","scaleY","originY"];function xi(t,e){mw(t.x,e,UF),mw(t.y,e,BF)}function YI(t,e){return KI(MF(t.getBoundingClientRect(),e))}function zF(t,e,n){const r=YI(t,n),{scroll:s}=e;return s&&(gr(r.x,s.offset.x),gr(r.y,s.offset.y)),r}const XI=({current:t})=>t?t.ownerDocument.defaultView:null,$F=new WeakMap;class HF{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Td(d,"page").point)},i=(d,f)=>{const{drag:m,dragPropagation:v,onDragStart:x}=this.getProps();if(m&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cI(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(I=>{let w=this.getAxisMotionValue(I).get()||0;if(kn.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[I];_&&(w=qt(_)*(parseFloat(w)/100))}}this.originPoint[I]=w}),x&&xe.update(()=>x(d,f),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:x,onDrag:E}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:I}=f;if(v&&this.currentDirection===null){this.currentDirection=WF(I),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,I),this.updateAxis("y",f.point,I),this.visualElement.render(),E&&E(d,f)},a=(d,f)=>this.stop(d,f),l=()=>en(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new WI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:XI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&xe.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!au(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=bF(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&vi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=NF(s.layoutBox,n):this.constraints=!1,this.elastic=OF(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&en(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=VF(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!vi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=zF(r,s.root,this.visualElement.getTransformPagePoint());let o=jF(s.layout.layoutBox,i);if(n){const a=n(LF(o));this.hasMutatedConstraints=!!a,a&&(o=KI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=en(d=>{if(!au(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const m=s?200:1e6,v=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Zg(e,r,0,n))}stopAnimation(){en(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){en(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){en(n=>{const{drag:r}=this.getProps();if(!au(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Pe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};en(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=DF({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),en(o=>{if(!au(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Pe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;$F.set(this.visualElement,this);const e=this.visualElement.current,n=Gn(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();vi(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Hn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(en(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Op,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function au(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function WF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qF extends ss{constructor(e){super(e),this.removeGroupControls=Ve,this.removeListeners=Ve,this.controls=new HF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ve}unmount(){this.removeGroupControls(),this.removeListeners()}}const gw=t=>(e,n)=>{t&&xe.update(()=>t(e,n))};class KF extends ss{constructor(){super(...arguments),this.removePointerDownListener=Ve}onPointerDown(e){this.session=new WI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:gw(e),onStart:gw(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&xe.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Gn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GF(){const t=N.useContext(Og);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=N.useId();return N.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const bu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Q.test(t))t=parseFloat(t);else return t;const n=yw(t,e.target.x),r=yw(t,e.target.y);return`${n}% ${r}%`}},QF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Gr.parse(t);if(s.length>5)return r;const i=Gr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Pe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class YF extends Oc.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;nM(XF),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),bu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||xe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JI(t){const[e,n]=GF(),r=N.useContext(K1);return Oc.createElement(YF,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(G1),isPresent:e,safeToRemove:n})}const XF={borderRadius:{...jo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jo,borderTopRightRadius:jo,borderBottomLeftRadius:jo,borderBottomRightRadius:jo,boxShadow:QF},ZI=["TopLeft","TopRight","BottomLeft","BottomRight"],JF=ZI.length,vw=t=>typeof t=="string"?parseFloat(t):t,_w=t=>typeof t=="number"||Q.test(t);function ZF(t,e,n,r,s,i){s?(t.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,eU(r)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,tU(r))):i&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<JF;o++){const a=`border${ZI[o]}Radius`;let l=ww(e,a),c=ww(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||_w(l)===_w(c)?(t[a]=Math.max(Pe(vw(l),vw(c),r),0),(kn.test(c)||kn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,r))}function ww(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eU=eP(0,.5,EI),tU=eP(.5,.95,Ve);function eP(t,e,n){return r=>r<t?0:r>e?1:n(Ba(t,e,r))}function xw(t,e){t.min=e.min,t.max=e.max}function Zt(t,e){xw(t.x,e.x),xw(t.y,e.y)}function Ew(t,e,n,r,s){return t-=e,t=bc(t,1/n,r),s!==void 0&&(t=bc(t,1/s,r)),t}function nU(t,e=0,n=1,r=.5,s,i=t,o=t){if(kn.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pe(i.min,i.max,r);t===i&&(a-=e),t.min=Ew(t.min,e,n,a,s),t.max=Ew(t.max,e,n,a,s)}function Tw(t,e,[n,r,s],i,o){nU(t,e[n],e[r],e[s],e.scale,i,o)}const rU=["x","scaleX","originX"],sU=["y","scaleY","originY"];function Sw(t,e,n,r){Tw(t.x,e,rU,n?n.x:void 0,r?r.x:void 0),Tw(t.y,e,sU,n?n.y:void 0,r?r.y:void 0)}function Iw(t){return t.translate===0&&t.scale===1}function tP(t){return Iw(t.x)&&Iw(t.y)}function iU(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function nP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Pw(t){return qt(t.x)/qt(t.y)}class oU{constructor(){this.members=[]}add(e){ey(this.members,e),e.scheduleRender()}remove(e){if(ty(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Aw(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const aU=(t,e)=>t.depth-e.depth;class lU{constructor(){this.children=[],this.isDirty=!1}add(e){ey(this.children,e),this.isDirty=!0}remove(e){ty(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aU),this.isDirty=!1,this.children.forEach(e)}}function uU(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ir(r),t(i-e))};return xe.read(r,!0),()=>ir(r)}function cU(t){window.MotionDebug&&window.MotionDebug.record(t)}function dU(t){return t instanceof SVGElement&&t.tagName!=="svg"}function hU(t,e,n){const r=Mt(t)?t:Ki(t);return r.start(Zg("",r,e,n)),r.animation}const Cw=["","X","Y","Z"],fU={visibility:"hidden"},Rw=1e3;let pU=0;const ps={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=pU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ps.totalNodes=ps.resolvedTargetDeltas=ps.recalculatedProjection=0,this.nodes.forEach(yU),this.nodes.forEach(EU),this.nodes.forEach(TU),this.nodes.forEach(vU),cU(ps)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lU)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ny),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=dU(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=uU(m,250),bu.hasAnimatedSinceResize&&(bu.hasAnimatedSinceResize=!1,this.nodes.forEach(bw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||CU,{onLayoutAnimationStart:I,onLayoutAnimationComplete:w}=d.getProps(),y=!this.targetLayout||!nP(this.targetLayout,x)||v,_=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const A={...Jg(E,"layout"),onPlay:I,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else m||bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kw);return}this.isUpdating||this.nodes.forEach(wU),this.isUpdating=!1,this.nodes.forEach(xU),this.nodes.forEach(mU),this.nodes.forEach(gU),this.clearAllSnapshots();const a=performance.now();dt.delta=Kr(0,1e3/60,a-dt.timestamp),dt.timestamp=a,dt.isProcessing=!0,Uh.update.process(dt),Uh.preRender.process(dt),Uh.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(_U),this.sharedNodes.forEach(IU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!tP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||fs(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),RU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Fe();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(gr(a.x,l.offset.x),gr(a.y,l.offset.y)),a}removeElementScroll(o){const a=Fe();Zt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Zt(a,o);const{scroll:m}=this.root;m&&(gr(a.x,-m.offset.x),gr(a.y,-m.offset.y))}gr(a.x,d.offset.x),gr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Fe();Zt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xi(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fs(d.latestValues)&&xi(l,d.latestValues)}return fs(this.latestValues)&&xi(l,this.latestValues),l}removeTransform(o){const a=Fe();Zt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fs(c.latestValues))continue;Lp(c.latestValues)&&c.updateSnapshot();const d=Fe(),f=c.measurePageBox();Zt(d,f),Sw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return fs(this.latestValues)&&Sw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ua(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zt(this.target,this.layout.layoutBox),QI(this.target,this.targetDelta)):Zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ua(this.relativeTargetOrigin,this.target,v.target),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ps.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lp(this.parent.latestValues)||GI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Zt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;FF(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:x}=a;if(!x){this.projectionTransform&&(this.projectionDelta=wi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=wi(),this.projectionDeltaWithTransform=wi());const E=this.projectionTransform;la(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=Aw(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ps.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=wi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Fe(),v=l?l.source:void 0,x=this.layout?this.layout.source:void 0,E=v!==x,I=this.getStack(),w=!I||I.members.length<=1,y=!!(E&&!w&&this.options.crossfade===!0&&!this.path.some(AU));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const V=A/1e3;Nw(f.x,o.x,V),Nw(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ua(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PU(this.relativeTarget,this.relativeTargetOrigin,m,V),_&&iU(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Fe()),Zt(_,this.relativeTarget)),E&&(this.animationValues=d,ZF(d,c,this.latestValues,V,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{bu.hasAnimatedSinceResize=!0,this.currentAnimation=hU(0,Rw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&sP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Fe();const f=qt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=qt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}Zt(a,l),xi(a,d),la(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new oU),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<Cw.length;d++){const f="rotate"+Cw[d];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fU;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ku(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=ku(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(E.transform=d?d({},""):"none",this.hasProjected=!1),E}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Aw(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:v,y:x}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const E in Sc){if(m[E]===void 0)continue;const{correct:I,applyTo:w}=Sc[E],y=c.transform==="none"?m[E]:I(m[E],f);if(w){const _=w.length;for(let A=0;A<_;A++)c[w[A]]=y}else c[E]=y}return this.options.layoutId&&(c.pointerEvents=f===this?ku(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(kw),this.root.sharedNodes.clear()}}}function mU(t){t.updateLayout()}function gU(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?en(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],v=qt(m);m.min=r[f].min,m.max=m.min+v}):sP(i,n.layoutBox,r)&&en(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],v=qt(r[f]);m.max=m.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const a=wi();la(a,r,n.layoutBox);const l=wi();o?la(l,t.applyTransform(s,!0),n.measuredBox):la(l,r,n.layoutBox);const c=!tP(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:v}=f;if(m&&v){const x=Fe();ua(x,n.layoutBox,m.layoutBox);const E=Fe();ua(E,r,v.layoutBox),nP(x,E)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function yU(t){ps.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _U(t){t.clearSnapshot()}function kw(t){t.clearMeasurements()}function wU(t){t.isLayoutDirty=!1}function xU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EU(t){t.resolveTargetDelta()}function TU(t){t.calcProjection()}function SU(t){t.resetRotation()}function IU(t){t.removeLeadSnapshot()}function Nw(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jw(t,e,n,r){t.min=Pe(e.min,n.min,r),t.max=Pe(e.max,n.max,r)}function PU(t,e,n,r){jw(t.x,e.x,n.x,r),jw(t.y,e.y,n.y,r)}function AU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CU={duration:.45,ease:[.4,0,.1,1]},Dw=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Vw=Dw("applewebkit/")&&!Dw("chrome/")?Math.round:Ve;function Ow(t){t.min=Vw(t.min),t.max=Vw(t.max)}function RU(t){Ow(t.x),Ow(t.y)}function sP(t,e,n){return t==="position"||t==="preserve-aspect"&&!Vp(Pw(e),Pw(n),.2)}const kU=rP({attachResizeListener:(t,e)=>Hn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xh={current:void 0},iP=rP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xh.current){const t=new kU({});t.mount(window),t.setOptions({layoutScroll:!0}),Xh.current=t}return Xh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bU={pan:{Feature:KF},drag:{Feature:qF,ProjectionNode:iP,MeasureLayout:JI}},NU=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jU(t){const e=NU.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Fp(t,e,n=1){const[r,s]=jU(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return BI(o)?parseFloat(o):o}else return Cp(s)?Fp(s,e,n+1):s}function DU(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Cp(i))return;const o=Fp(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Cp(i))continue;const o=Fp(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const VU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),oP=t=>VU.has(t),OU=t=>Object.keys(t).some(oP),Lw=t=>t===Qs||t===Q,Mw=(t,e)=>parseFloat(t.split(", ")[e]),Fw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Mw(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Mw(i[1],t):0}},LU=new Set(["x","y","z"]),MU=ul.filter(t=>!LU.has(t));function FU(t){const e=[];return MU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Gi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Fw(4,13),y:Fw(5,14)};Gi.translateX=Gi.x;Gi.translateY=Gi.y;const UU=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Gi[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=Gi[c](l,i)}),t},BU=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(oP);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],f=No(d);const m=e[l];let v;if(Pc(m)){const x=m.length,E=m[0]===null?1:0;d=m[E],f=No(d);for(let I=E;I<x&&m[I]!==null;I++)v?Kg(No(m[I])===v):v=No(m[I])}else v=No(m);if(f!==v)if(Lw(f)&&Lw(v)){const x=c.get();typeof x=="string"&&c.set(parseFloat(x)),typeof m=="string"?e[l]=parseFloat(m):Array.isArray(m)&&v===Q&&(e[l]=m.map(parseFloat))}else f!=null&&f.transform&&(v!=null&&v.transform)&&(d===0||m===0)?d===0?c.set(v.transform(d)):e[l]=f.transform(m):(o||(i=FU(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(m))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=UU(e,t,a);return i.length&&i.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),_d&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function zU(t,e,n,r){return OU(e)?BU(t,e,n,r):{target:e,transitionEnd:r}}const $U=(t,e,n,r)=>{const s=DU(t,e,r);return e=s.target,r=s.transitionEnd,zU(t,e,n,r)},Up={current:null},aP={current:!1};function HU(){if(aP.current=!0,!!_d)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Up.current=t.matches;t.addListener(e),e()}else Up.current=!1}function WU(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Mt(i))t.addValue(s,i),kc(r)&&r.add(s);else if(Mt(o))t.addValue(s,Ki(i,{owner:t})),kc(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Ki(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Uw=new WeakMap,lP=Object.keys(Ua),qU=lP.length,Bw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],KU=Fg.length;class GU{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=xd(n),this.isVariantNode=q1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const m=d[f];a[f]!==void 0&&Mt(m)&&(m.set(a[f],!1),kc(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Uw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aP.current||HU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Up.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uw.delete(this.current),this.projection&&this.projection.unmount(),ir(this.notifyUpdate),ir(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Gs.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<qU;l++){const c=lP[l],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:v}=Ua[c];m&&(o=m),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),v&&(a=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:v}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&vi(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:v})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Bw.length;r++){const s=Bw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=WU(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<KU;r++){const s=Fg[r],i=this.props[s];(Fa(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ki(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=qg(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Mt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ny),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class uP extends GU{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=dF(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){uF(this,r,o);const a=$U(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function QU(t){return window.getComputedStyle(t)}class YU extends uP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Gs.has(n)){const r=Xg(n);return r&&r.default||0}else{const r=QU(e),s=(X1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YI(e,n)}build(e,n,r,s){Bg(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Wg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){rI(e,n,r,s)}}class XU extends uP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gs.has(n)){const r=Xg(n);return r&&r.default||0}return n=sI.has(n)?n:Lg(n),e.getAttribute(n)}measureInstanceViewportBox(){return Fe()}scrapeMotionValuesFromProps(e,n){return oI(e,n)}build(e,n,r,s){$g(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){iI(e,n,r,s)}mount(e){this.isSVGTag=Hg(e.tagName),super.mount(e)}}const JU=(t,e)=>Ug(t)?new XU(e,{enableHardwareAcceleration:!1}):new YU(e,{enableHardwareAcceleration:!0}),ZU={layout:{ProjectionNode:iP,MeasureLayout:JI}},e5={...PF,...qM,...bU,...ZU},re=eM((t,e)=>jM(t,e,e5,JU));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>N.createElement("svg",{ref:d,...t5,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${n5(t)}`,a].join(" "),...c},[...e.map(([f,m])=>N.createElement(f,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ie("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ie("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=ie("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ie("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=ie("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=ie("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ie("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=ie("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=ie("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=ie("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),p5=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),m5=t=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{6,}$/.test(t),g5=t=>{let e=0;return t.length>=6&&e++,t.match(/[a-z]/)&&e++,t.match(/[A-Z]/)&&e++,t.match(/[0-9]/)&&e++,t.match(/[^a-zA-Z0-9]/)&&e++,e<2?{level:"weak",color:"red"}:e<4?{level:"medium",color:"yellow"}:{level:"strong",color:"green"}},_P=({mode:t="login",onSubmit:e,loading:n=!1})=>{const[r,s]=N.useState({email:"",password:"",confirmPassword:"",name:""}),[i,o]=N.useState(!1),[a,l]=N.useState(!1),[c,d]=N.useState({}),f=E=>{const{name:I,value:w}=E.target;s(y=>({...y,[I]:w})),c[I]&&d(y=>({...y,[I]:""}))},m=()=>{const E={};return r.email?p5(r.email)||(E.email="Please enter a valid email"):E.email="Email is required",r.password?m5(r.password)||(E.password="Password must be at least 6 characters with uppercase, lowercase, and number"):E.password="Password is required",t==="signup"&&(r.name||(E.name="Name is required"),r.confirmPassword?r.password!==r.confirmPassword&&(E.confirmPassword="Passwords do not match"):E.confirmPassword="Please confirm your password"),d(E),Object.keys(E).length===0},v=E=>{E.preventDefault(),m()&&e(r)},x=g5(r.password);return h.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto",children:h.jsxs("form",{onSubmit:v,className:"space-y-6",children:[t==="signup"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(Id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"text",name:"name",value:r.name,onChange:f,className:`input-field pl-10 ${c.name?"border-red-500":""}`,placeholder:"Enter your full name"})]}),c.name&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(a5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"email",name:"email",value:r.email,onChange:f,className:`input-field pl-10 ${c.email?"border-red-500":""}`,placeholder:"Enter your email"})]}),c.email&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(gP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:i?"text":"password",name:"password",value:r.password,onChange:f,className:`input-field pl-10 pr-10 ${c.password?"border-red-500":""}`,placeholder:"Enter your password"}),h.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?h.jsx($w,{className:"h-5 w-5"}):h.jsx(Hw,{className:"h-5 w-5"})})]}),t==="signup"&&r.password&&h.jsx("div",{className:"mt-2",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:`w-2 h-2 rounded-full bg-${x.color}-500`}),h.jsxs("span",{className:"text-xs text-gray-600",children:["Password strength: ",x.level]})]})}),c.password&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password})]}),t==="signup"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:a?"text":"password",name:"confirmPassword",value:r.confirmPassword,onChange:f,className:`input-field pl-10 pr-10 ${c.confirmPassword?"border-red-500":""}`,placeholder:"Confirm your password"}),h.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?h.jsx($w,{className:"h-5 w-5"}):h.jsx(Hw,{className:"h-5 w-5"})})]}),c.confirmPassword&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.confirmPassword})]}),h.jsxs(re.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-primary w-full flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):null,h.jsx("span",{children:n?"Processing...":t==="login"?"Sign In":"Create Account"})]})]})})},y5=()=>{const[t,e]=N.useState(!1),{login:n}=Ks(),r=Qa(),s=async o=>{e(!0);try{await n(o.email,o.password),r("/profile-setup")}catch(a){console.error("Login error:",a)}finally{e(!1)}},i=[{icon:h.jsx(Qe,{className:"h-6 w-6"}),title:"Fraud Detection",description:"AI-powered fraud detection to keep your finances safe"},{icon:h.jsx(Wn,{className:"h-6 w-6"}),title:"Smart Recommendations",description:"Personalized financial product recommendations"},{icon:h.jsx(vP,{className:"h-6 w-6"}),title:"24/7 Support",description:"AI chatbot available round the clock for assistance"},{icon:h.jsx(oy,{className:"h-6 w-6"}),title:"Learning Modules",description:"Bite-sized lessons on financial literacy"}];return h.jsxs("div",{className:"min-h-screen flex",children:[h.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary-600 to-primary-800 text-white p-12",children:h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs(re.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[h.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Your Personal Financial Advisor"}),h.jsx("p",{className:"text-xl mb-12 text-primary-100",children:"Get personalized financial guidance, learn about investments, and protect yourself from fraud with AI-powered insights."}),h.jsx("div",{className:"space-y-8",children:i.map((o,a)=>h.jsxs(re.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,delay:a*.1},className:"flex items-start space-x-4",children:[h.jsx("div",{className:"flex-shrink-0 p-2 bg-white/20 rounded-lg",children:o.icon}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-lg mb-1",children:o.title}),h.jsx("p",{className:"text-primary-100",children:o.description})]})]},a))})]})})}),h.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-center mb-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),h.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue"})]}),h.jsx(_P,{mode:"login",onSubmit:s,loading:t}),!1,h.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},className:"mt-8 text-center",children:h.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",h.jsx(AT,{to:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up here"})]})}),h.jsxs("div",{className:"lg:hidden mt-12",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Why Choose BFSI Advisor?"}),h.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map((o,a)=>h.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5+a*.1},className:"text-center p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[h.jsx("div",{className:"flex justify-center mb-2",children:h.jsx("div",{className:"p-2 bg-primary-100 rounded-lg text-primary-600",children:o.icon})}),h.jsx("h4",{className:"font-medium text-sm text-gray-900 mb-1",children:o.title}),h.jsx("p",{className:"text-xs text-gray-600",children:o.description})]},a))})]})]})})]})},v5=()=>{const[t,e]=N.useState(!1),{signup:n}=Ks(),r=Qa(),s=async o=>{e(!0);try{await n(o.email,o.password),r("/profile-setup")}catch(a){console.error("Signup error:",a)}finally{e(!1)}},i=[{icon:h.jsx(Qe,{className:"h-5 w-5"}),text:"Secure & encrypted data protection"},{icon:h.jsx(Wn,{className:"h-5 w-5"}),text:"AI-powered financial insights"},{icon:h.jsx(vP,{className:"h-5 w-5"}),text:"24/7 AI chatbot support"},{icon:h.jsx(oy,{className:"h-5 w-5"}),text:"Personalized learning modules"}];return h.jsxs("div",{className:"min-h-screen flex",children:[h.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-secondary-600 to-secondary-800 text-white p-12",children:h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs(re.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[h.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Start Your Financial Journey"}),h.jsx("p",{className:"text-xl mb-12 text-secondary-100",children:"Join thousands of users who are taking control of their financial future with AI-powered guidance."}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"What you'll get:"}),i.map((o,a)=>h.jsxs(re.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,delay:a*.1},className:"flex items-center space-x-3",children:[h.jsx("div",{className:"flex-shrink-0 p-1 bg-white/20 rounded-full",children:o.icon}),h.jsx("span",{className:"text-secondary-100",children:o.text})]},a))]}),h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-12 p-6 bg-white/10 rounded-lg backdrop-blur-sm",children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Free Forever"}),h.jsx("p",{className:"text-secondary-100 text-sm",children:"No hidden fees, no premium tiers. Get access to all features completely free."})]})]})})}),h.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-center mb-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),h.jsx("p",{className:"text-gray-600",children:"Join us and start your financial education journey"})]}),h.jsx(_P,{mode:"signup",onSubmit:s,loading:t}),h.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},className:"mt-8 text-center",children:h.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",h.jsx(AT,{to:"/login",className:"text-secondary-600 hover:text-secondary-700 font-medium",children:"Sign in here"})]})}),h.jsxs("div",{className:"lg:hidden mt-12",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Why Join BFSI Advisor?"}),h.jsx("div",{className:"space-y-3",children:i.map((o,a)=>h.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5+a*.1},className:"flex items-center space-x-3 p-3 bg-white rounded-lg shadow-sm border border-gray-200",children:[h.jsx("div",{className:"flex-shrink-0 p-1 bg-secondary-100 rounded-full text-secondary-600",children:o.icon}),h.jsx("span",{className:"text-sm text-gray-700",children:o.text})]},a))})]})]})})]})},_5=({onComplete:t})=>{const[e,n]=N.useState(0),[r,s]=N.useState({name:"",age:"",occupation:"",city:"",monthlyIncome:"",monthlyExpenses:"",savings:"",existingInvestments:"",primaryGoal:"",riskTolerance:"",investmentHorizon:"",monthlyInvestmentCapacity:"",maritalStatus:"",dependents:"",existingInsurance:"",interestedProducts:[],loanRequirements:"",emergencyFund:"",existingPolicies:[]}),i=[{title:"Personal Information",icon:h.jsx(Id,{className:"h-5 w-5"}),fields:[{name:"name",label:"Full Name",type:"text",required:!0},{name:"age",label:"Age",type:"number",required:!0},{name:"occupation",label:"Occupation",type:"text",required:!0},{name:"city",label:"City",type:"text",required:!0}]},{title:"Financial Overview",icon:h.jsx(hP,{className:"h-5 w-5"}),fields:[{name:"monthlyIncome",label:"Monthly Income ()",type:"number",required:!0},{name:"monthlyExpenses",label:"Monthly Expenses ()",type:"number",required:!0},{name:"savings",label:"Current Savings ()",type:"number",required:!0},{name:"existingInvestments",label:"Existing Investments ()",type:"number",required:!1}]},{title:"Financial Goals",icon:h.jsx(Qi,{className:"h-5 w-5"}),fields:[{name:"primaryGoal",label:"Primary Financial Goal",type:"select",options:["Retirement Planning","Child Education","Home Purchase","Emergency Fund","Tax Saving","Wealth Creation","Insurance Coverage"],required:!0},{name:"riskTolerance",label:"Risk Tolerance",type:"select",options:["Conservative (Low risk, stable returns)","Moderate (Balanced risk and returns)","Aggressive (High risk, high potential returns)"],required:!0},{name:"investmentHorizon",label:"Investment Time Horizon",type:"select",options:["1-3 years (Short term)","3-7 years (Medium term)","7+ years (Long term)"],required:!0},{name:"monthlyInvestmentCapacity",label:"Monthly Investment Capacity ()",type:"number",required:!0}]},{title:"Family & Insurance",icon:h.jsx(Qe,{className:"h-5 w-5"}),fields:[{name:"maritalStatus",label:"Marital Status",type:"select",options:["Single","Married","Divorced","Widowed"],required:!0},{name:"dependents",label:"Number of Dependents",type:"number",required:!0},{name:"existingInsurance",label:"Existing Insurance Coverage",type:"select",options:["No insurance","Life insurance only","Health insurance only","Both life and health","Multiple policies"],required:!0}]},{title:"Existing Insurance Policies",icon:h.jsx(Qe,{className:"h-5 w-5"}),fields:[],customComponent:!0},{title:"Product Preferences",icon:h.jsx(mP,{className:"h-5 w-5"}),fields:[{name:"interestedProducts",label:"Products of Interest (Select all that apply)",type:"multiselect",options:["Term Insurance","Health Insurance","ULIP","Mutual Funds","Fixed Deposits","PPF","ELSS","Home Loan","Personal Loan","Credit Cards"],required:!0},{name:"loanRequirements",label:"Loan Requirements",type:"select",options:["No loan requirements","Home loan","Personal loan","Business loan","Education loan","Vehicle loan"],required:!0},{name:"emergencyFund",label:"Emergency Fund (months of expenses)",type:"number",required:!0}]}],o=(y,_)=>{s(A=>({...A,[y]:_}))},a=(y,_)=>{s(A=>({...A,[y]:A[y].includes(_)?A[y].filter(V=>V!==_):[...A[y],_]}))},l=()=>{const y={id:Date.now(),policyType:"",policyNumber:"",insuranceCompany:"",premiumAmount:"",coverageAmount:"",startDate:"",endDate:"",nominee:""};s(_=>({..._,existingPolicies:[..._.existingPolicies,y]}))},c=(y,_,A)=>{s(V=>({...V,existingPolicies:V.existingPolicies.map(M=>M.id===y?{...M,[_]:A}:M)}))},d=y=>{s(_=>({..._,existingPolicies:_.existingPolicies.filter(A=>A.id!==y)}))},f=y=>{const _=i[y].fields;for(const A of _)if(A.required&&!r[A.name])return!1;return!0},m=()=>{f(e)&&n(y=>Math.min(y+1,i.length-1))},v=()=>{n(y=>Math.max(y-1,0))},x=()=>{f(e)&&t(r)},E=y=>{const _=r[y.name];switch(y.type){case"text":case"number":return h.jsx("input",{type:y.type,value:_,onChange:A=>o(y.name,A.target.value),className:"input-field",placeholder:`Enter your ${y.label.toLowerCase()}`});case"select":return h.jsxs("select",{value:_,onChange:A=>o(y.name,A.target.value),className:"input-field",children:[h.jsxs("option",{value:"",children:["Select ",y.label]}),y.options.map((A,V)=>h.jsx("option",{value:A,children:A},V))]});case"multiselect":return h.jsx("div",{className:"space-y-2",children:y.options.map((A,V)=>h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:_.includes(A),onChange:()=>a(y.name,A),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:A})]},V))});default:return null}},I=()=>e===4?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Existing Insurance Policies"}),h.jsxs("button",{type:"button",onClick:l,className:"btn-primary flex items-center space-x-2",children:[h.jsx(u5,{className:"h-4 w-4"}),h.jsx("span",{children:"Add Policy"})]})]}),r.existingPolicies.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Qe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),h.jsx("p",{children:"No existing policies added yet."}),h.jsx("p",{className:"text-sm",children:'Click "Add Policy" to add your insurance details.'})]}):h.jsx("div",{className:"space-y-4",children:r.existingPolicies.map((y,_)=>h.jsxs("div",{className:"card border-2 border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h4",{className:"font-semibold text-gray-900",children:["Policy ",_+1]}),h.jsx("button",{type:"button",onClick:()=>d(y.id),className:"text-red-500 hover:text-red-700",children:h.jsx(f5,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Type *"}),h.jsxs("select",{value:y.policyType,onChange:A=>c(y.id,"policyType",A.target.value),className:"input-field",required:!0,children:[h.jsx("option",{value:"",children:"Select Policy Type"}),h.jsx("option",{value:"Health",children:"Health Insurance"}),h.jsx("option",{value:"Life",children:"Life Insurance"}),h.jsx("option",{value:"Motor",children:"Motor Insurance"}),h.jsx("option",{value:"Home",children:"Home Insurance"}),h.jsx("option",{value:"Travel",children:"Travel Insurance"}),h.jsx("option",{value:"Term",children:"Term Insurance"}),h.jsx("option",{value:"ULIP",children:"ULIP"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Number *"}),h.jsx("input",{type:"text",value:y.policyNumber,onChange:A=>c(y.id,"policyNumber",A.target.value),className:"input-field",placeholder:"Enter policy number",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance Company *"}),h.jsx("input",{type:"text",value:y.insuranceCompany,onChange:A=>c(y.id,"insuranceCompany",A.target.value),className:"input-field",placeholder:"Enter company name",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Premium Amount () *"}),h.jsx("input",{type:"number",value:y.premiumAmount,onChange:A=>c(y.id,"premiumAmount",A.target.value),className:"input-field",placeholder:"Enter premium amount",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Amount () *"}),h.jsx("input",{type:"number",value:y.coverageAmount,onChange:A=>c(y.id,"coverageAmount",A.target.value),className:"input-field",placeholder:"Enter coverage amount",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),h.jsx("input",{type:"date",value:y.startDate,onChange:A=>c(y.id,"startDate",A.target.value),className:"input-field",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),h.jsx("input",{type:"date",value:y.endDate,onChange:A=>c(y.id,"endDate",A.target.value),className:"input-field",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nominee Name"}),h.jsx("input",{type:"text",value:y.nominee,onChange:A=>c(y.id,"nominee",A.target.value),className:"input-field",placeholder:"Enter nominee name"})]})]})]},y.id))})]}):null,w=(e+1)/i.length*100;return h.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",e+1," of ",i.length]}),h.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(w),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:h.jsx(re.div,{className:"bg-primary-600 h-2 rounded-full",initial:{width:0},animate:{width:`${w}%`},transition:{duration:.3}})})]}),h.jsxs("div",{className:"text-center mb-8",children:[h.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[h.jsx("div",{className:"p-2 bg-primary-100 rounded-lg text-primary-600",children:i[e].icon}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i[e].title})]}),h.jsx("p",{className:"text-gray-600",children:"Please provide accurate information for personalized recommendations"})]}),h.jsx(re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:i[e].customComponent?I():i[e].fields.map((y,_)=>h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[y.label,y.required&&h.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),E(y)]},_))},e),h.jsxs("div",{className:"flex justify-between mt-8",children:[h.jsxs(re.button,{onClick:v,disabled:e===0,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-secondary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(i5,{className:"h-4 w-4"}),h.jsx("span",{children:"Previous"})]}),e===i.length-1?h.jsxs(re.button,{onClick:x,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-primary flex items-center space-x-2",children:[h.jsx(c5,{className:"h-4 w-4"}),h.jsx("span",{children:"Complete Setup"})]}):h.jsxs(re.button,{onClick:m,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-primary flex items-center space-x-2",children:[h.jsx("span",{children:"Next"}),h.jsx(o5,{className:"h-4 w-4"})]})]})]})},w5=()=>{const[t,e]=N.useState(!1),{saveProfile:n}=Ks(),r=Qa(),s=async i=>{try{await n(i),e(!0),setTimeout(()=>{r("/dashboard")},2e3)}catch(o){console.error("Error saving profile:",o)}};return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsxs(re.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center",children:[h.jsx("div",{className:"mb-6",children:h.jsx(Fs,{className:"h-16 w-16 text-green-500 mx-auto"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Setup Complete!"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Redirecting to your personalized dashboard..."}),h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:h.jsx(Id,{className:"h-6 w-6 text-primary-600"})}),h.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile Setup"})]}),h.jsx("div",{className:"text-sm text-gray-500",children:"Step 1 of 2"})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:h.jsx(_5,{onComplete:s})})}),h.jsx("div",{className:"lg:col-span-1",children:h.jsx("div",{className:"sticky top-8",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Why Profile Setup Matters"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"flex-shrink-0 p-2 bg-primary-100 rounded-lg",children:h.jsx(Qi,{className:"h-5 w-5 text-primary-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Personalized Recommendations"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Get financial products and advice tailored to your specific needs and goals."})]})]}),h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"flex-shrink-0 p-2 bg-secondary-100 rounded-lg",children:h.jsx(Qe,{className:"h-5 w-5 text-secondary-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Fraud Protection"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Our AI analyzes your profile to detect potential fraud risks and protect your finances."})]})]}),h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"flex-shrink-0 p-2 bg-green-100 rounded-lg",children:h.jsx(Wn,{className:"h-5 w-5 text-green-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Smart Learning"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Receive customized learning content based on your financial knowledge level."})]})]})]}),h.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Pro Tip"}),h.jsx("p",{className:"text-sm text-blue-800",children:"Be as accurate as possible with your financial information. This helps us provide the best recommendations and protect you from fraud."})]}),h.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:" Data Security"}),h.jsx("p",{className:"text-sm text-gray-700",children:"All your information is encrypted and stored securely. We never share your personal data with third parties."})]})]})})})]})})]})};function wP(t,e){return function(){return t.apply(e,arguments)}}const{toString:x5}=Object.prototype,{getPrototypeOf:ay}=Object,{iterator:Pd,toStringTag:xP}=Symbol,Ad=(t=>e=>{const n=x5.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=t=>(t=t.toLowerCase(),e=>Ad(e)===t),Cd=t=>e=>typeof e===t,{isArray:oo}=Array,za=Cd("undefined");function E5(t){return t!==null&&!za(t)&&t.constructor!==null&&!za(t.constructor)&&Ot(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const EP=yn("ArrayBuffer");function T5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&EP(t.buffer),e}const S5=Cd("string"),Ot=Cd("function"),TP=Cd("number"),Rd=t=>t!==null&&typeof t=="object",I5=t=>t===!0||t===!1,Nu=t=>{if(Ad(t)!=="object")return!1;const e=ay(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(xP in t)&&!(Pd in t)},P5=yn("Date"),A5=yn("File"),C5=yn("Blob"),R5=yn("FileList"),k5=t=>Rd(t)&&Ot(t.pipe),b5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ot(t.append)&&((e=Ad(t))==="formdata"||e==="object"&&Ot(t.toString)&&t.toString()==="[object FormData]"))},N5=yn("URLSearchParams"),[j5,D5,V5,O5]=["ReadableStream","Request","Response","Headers"].map(yn),L5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),oo(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function SP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const xs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IP=t=>!za(t)&&t!==xs;function zp(){const{caseless:t}=IP(this)&&this||{},e={},n=(r,s)=>{const i=t&&SP(e,s)||s;Nu(e[i])&&Nu(r)?e[i]=zp(e[i],r):Nu(r)?e[i]=zp({},r):oo(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&fl(arguments[r],n);return e}const M5=(t,e,n,{allOwnKeys:r}={})=>(fl(e,(s,i)=>{n&&Ot(s)?t[i]=wP(s,n):t[i]=s},{allOwnKeys:r}),t),F5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),U5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},B5=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&ay(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},z5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},$5=t=>{if(!t)return null;if(oo(t))return t;let e=t.length;if(!TP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},H5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ay(Uint8Array)),W5=(t,e)=>{const r=(t&&t[Pd]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},q5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},K5=yn("HTMLFormElement"),G5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Ww=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Q5=yn("RegExp"),PP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};fl(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},Y5=t=>{PP(t,(e,n)=>{if(Ot(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ot(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},X5=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return oo(t)?r(t):r(String(t).split(e)),n},J5=()=>{},Z5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function e6(t){return!!(t&&Ot(t.append)&&t[xP]==="FormData"&&t[Pd])}const t6=t=>{const e=new Array(10),n=(r,s)=>{if(Rd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=oo(r)?[]:{};return fl(r,(o,a)=>{const l=n(o,s+1);!za(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},n6=yn("AsyncFunction"),r6=t=>t&&(Rd(t)||Ot(t))&&Ot(t.then)&&Ot(t.catch),AP=((t,e)=>t?setImmediate:e?((n,r)=>(xs.addEventListener("message",({source:s,data:i})=>{s===xs&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),xs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ot(xs.postMessage)),s6=typeof queueMicrotask<"u"?queueMicrotask.bind(xs):typeof process<"u"&&process.nextTick||AP,i6=t=>t!=null&&Ot(t[Pd]),O={isArray:oo,isArrayBuffer:EP,isBuffer:E5,isFormData:b5,isArrayBufferView:T5,isString:S5,isNumber:TP,isBoolean:I5,isObject:Rd,isPlainObject:Nu,isReadableStream:j5,isRequest:D5,isResponse:V5,isHeaders:O5,isUndefined:za,isDate:P5,isFile:A5,isBlob:C5,isRegExp:Q5,isFunction:Ot,isStream:k5,isURLSearchParams:N5,isTypedArray:H5,isFileList:R5,forEach:fl,merge:zp,extend:M5,trim:L5,stripBOM:F5,inherits:U5,toFlatObject:B5,kindOf:Ad,kindOfTest:yn,endsWith:z5,toArray:$5,forEachEntry:W5,matchAll:q5,isHTMLForm:K5,hasOwnProperty:Ww,hasOwnProp:Ww,reduceDescriptors:PP,freezeMethods:Y5,toObjectSet:X5,toCamelCase:G5,noop:J5,toFiniteNumber:Z5,findKey:SP,global:xs,isContextDefined:IP,isSpecCompliantForm:e6,toJSONObject:t6,isAsyncFn:n6,isThenable:r6,setImmediate:AP,asap:s6,isIterable:i6};function ne(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}O.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const CP=ne.prototype,RP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{RP[t]={value:t}});Object.defineProperties(ne,RP);Object.defineProperty(CP,"isAxiosError",{value:!0});ne.from=(t,e,n,r,s,i)=>{const o=Object.create(CP);return O.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ne.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const o6=null;function $p(t){return O.isPlainObject(t)||O.isArray(t)}function kP(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function qw(t,e,n){return t?t.concat(e).map(function(s,i){return s=kP(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function a6(t){return O.isArray(t)&&!t.some($p)}const l6=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function kd(t,e,n){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,I){return!O.isUndefined(I[E])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(O.isDate(x))return x.toISOString();if(O.isBoolean(x))return x.toString();if(!l&&O.isBlob(x))throw new ne("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(x)||O.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,E,I){let w=x;if(x&&!I&&typeof x=="object"){if(O.endsWith(E,"{}"))E=r?E:E.slice(0,-2),x=JSON.stringify(x);else if(O.isArray(x)&&a6(x)||(O.isFileList(x)||O.endsWith(E,"[]"))&&(w=O.toArray(x)))return E=kP(E),w.forEach(function(_,A){!(O.isUndefined(_)||_===null)&&e.append(o===!0?qw([E],A,i):o===null?E:E+"[]",c(_))}),!1}return $p(x)?!0:(e.append(qw(I,E,i),c(x)),!1)}const f=[],m=Object.assign(l6,{defaultVisitor:d,convertValue:c,isVisitable:$p});function v(x,E){if(!O.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+E.join("."));f.push(x),O.forEach(x,function(w,y){(!(O.isUndefined(w)||w===null)&&s.call(e,w,O.isString(y)?y.trim():y,E,m))===!0&&v(w,E?E.concat(y):[y])}),f.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Kw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ly(t,e){this._pairs=[],t&&kd(t,this,e)}const bP=ly.prototype;bP.append=function(e,n){this._pairs.push([e,n])};bP.toString=function(e){const n=e?function(r){return e.call(this,r,Kw)}:Kw;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function u6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function NP(t,e,n){if(!e)return t;const r=n&&n.encode||u6;O.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=O.isURLSearchParams(e)?e.toString():new ly(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Gw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(r){r!==null&&e(r)})}}const jP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c6=typeof URLSearchParams<"u"?URLSearchParams:ly,d6=typeof FormData<"u"?FormData:null,h6=typeof Blob<"u"?Blob:null,f6={isBrowser:!0,classes:{URLSearchParams:c6,FormData:d6,Blob:h6},protocols:["http","https","file","blob","url","data"]},uy=typeof window<"u"&&typeof document<"u",Hp=typeof navigator=="object"&&navigator||void 0,p6=uy&&(!Hp||["ReactNative","NativeScript","NS"].indexOf(Hp.product)<0),m6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",g6=uy&&window.location.href||"http://localhost",y6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uy,hasStandardBrowserEnv:p6,hasStandardBrowserWebWorkerEnv:m6,navigator:Hp,origin:g6},Symbol.toStringTag,{value:"Module"})),mt={...y6,...f6};function v6(t,e){return kd(t,new mt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return mt.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function _6(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function w6(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function DP(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&O.isArray(s)?s.length:o,l?(O.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!O.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&O.isArray(s[o])&&(s[o]=w6(s[o])),!a)}if(O.isFormData(t)&&O.isFunction(t.entries)){const n={};return O.forEachEntry(t,(r,s)=>{e(_6(r),s,n,0)}),n}return null}function x6(t,e,n){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const pl={transitional:jP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=O.isObject(e);if(i&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return s?JSON.stringify(DP(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)||O.isReadableStream(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return v6(e,this.formSerializer).toString();if((a=O.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return kd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),x6(e)):e}],transformResponse:[function(e){const n=this.transitional||pl.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(O.isResponse(e)||O.isReadableStream(e))return e;if(e&&O.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ne.from(a,ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mt.classes.FormData,Blob:mt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{pl.headers[t]={}});const E6=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T6=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&E6[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Qw=Symbol("internals");function Do(t){return t&&String(t).trim().toLowerCase()}function ju(t){return t===!1||t==null?t:O.isArray(t)?t.map(ju):String(t)}function S6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const I6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ef(t,e,n,r,s){if(O.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!O.isString(e)){if(O.isString(r))return e.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(e)}}function P6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function A6(t,e){const n=O.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let Lt=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const d=Do(l);if(!d)throw new Error("header name must be a non-empty string");const f=O.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=ju(a))}const o=(a,l)=>O.forEach(a,(c,d)=>i(c,d,l));if(O.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(O.isString(e)&&(e=e.trim())&&!I6(e))o(T6(e),n);else if(O.isObject(e)&&O.isIterable(e)){let a={},l,c;for(const d of e){if(!O.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?O.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Do(e),e){const r=O.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return S6(s);if(O.isFunction(n))return n.call(this,s,r);if(O.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Do(e),e){const r=O.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ef(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Do(o),o){const a=O.findKey(r,o);a&&(!n||ef(r,r[a],a,n))&&(delete r[a],s=!0)}}return O.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||ef(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return O.forEach(this,(s,i)=>{const o=O.findKey(r,i);if(o){n[o]=ju(s),delete n[i];return}const a=e?P6(i):String(i).trim();a!==i&&delete n[i],n[a]=ju(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return O.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Qw]=this[Qw]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Do(o);r[a]||(A6(s,o),r[a]=!0)}return O.isArray(e)?e.forEach(i):i(e),this}};Lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Lt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});O.freezeMethods(Lt);function tf(t,e){const n=this||pl,r=e||n,s=Lt.from(r.headers);let i=r.data;return O.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function VP(t){return!!(t&&t.__CANCEL__)}function ao(t,e,n){ne.call(this,t??"canceled",ne.ERR_CANCELED,e,n),this.name="CanceledError"}O.inherits(ao,ne,{__CANCEL__:!0});function OP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function C6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function R6(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,m=0;for(;f!==s;)m+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const v=d&&c-d;return v?Math.round(m*1e3/v):void 0}}function k6(t,e){let n=0,r=1e3/e,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const jc=(t,e,n=3)=>{let r=0;const s=R6(50,250);return k6(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},Yw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Xw=t=>(...e)=>O.asap(()=>t(...e)),b6=mt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,mt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(mt.origin),mt.navigator&&/(msie|trident)/i.test(mt.navigator.userAgent)):()=>!0,N6=mt.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];O.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),O.isString(r)&&o.push("path="+r),O.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function j6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function D6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function LP(t,e,n){let r=!j6(e);return t&&(r||n==!1)?D6(t,e):e}const Jw=t=>t instanceof Lt?{...t}:t;function Us(t,e){e=e||{};const n={};function r(c,d,f,m){return O.isPlainObject(c)&&O.isPlainObject(d)?O.merge.call({caseless:m},c,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function s(c,d,f,m){if(O.isUndefined(d)){if(!O.isUndefined(c))return r(void 0,c,f,m)}else return r(c,d,f,m)}function i(c,d){if(!O.isUndefined(d))return r(void 0,d)}function o(c,d){if(O.isUndefined(d)){if(!O.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in e)return r(c,d);if(f in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>s(Jw(c),Jw(d),f,!0)};return O.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||s,m=f(t[d],e[d],d);O.isUndefined(m)&&f!==a||(n[d]=m)}),n}const MP=t=>{const e=Us({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Lt.from(o),e.url=NP(LP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(O.isFormData(n)){if(mt.hasStandardBrowserEnv||mt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(mt.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(e)),r||r!==!1&&b6(e.url))){const c=s&&i&&N6.read(i);c&&o.set(s,c)}return e},V6=typeof XMLHttpRequest<"u",O6=V6&&function(t){return new Promise(function(n,r){const s=MP(t);let i=s.data;const o=Lt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,d,f,m,v,x;function E(){v&&v(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let I=new XMLHttpRequest;I.open(s.method.toUpperCase(),s.url,!0),I.timeout=s.timeout;function w(){if(!I)return;const _=Lt.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:_,config:t,request:I};OP(function(P){n(P),E()},function(P){r(P),E()},V),I=null}"onloadend"in I?I.onloadend=w:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(w)},I.onabort=function(){I&&(r(new ne("Request aborted",ne.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new ne("Network Error",ne.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const V=s.transitional||jP;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),r(new ne(A,V.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,t,I)),I=null},i===void 0&&o.setContentType(null),"setRequestHeader"in I&&O.forEach(o.toJSON(),function(A,V){I.setRequestHeader(V,A)}),O.isUndefined(s.withCredentials)||(I.withCredentials=!!s.withCredentials),a&&a!=="json"&&(I.responseType=s.responseType),c&&([m,x]=jc(c,!0),I.addEventListener("progress",m)),l&&I.upload&&([f,v]=jc(l),I.upload.addEventListener("progress",f),I.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=_=>{I&&(r(!_||_.type?new ao(null,t,I):_),I.abort(),I=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=C6(s.url);if(y&&mt.protocols.indexOf(y)===-1){r(new ne("Unsupported protocol "+y+":",ne.ERR_BAD_REQUEST,t));return}I.send(i||null)})},L6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof ne?d:new ao(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new ne(`timeout ${e} of ms exceeded`,ne.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>O.asap(a),l}},M6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},F6=async function*(t,e){for await(const n of U6(t))yield*M6(n,e)},U6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Zw=(t,e,n,r)=>{const s=F6(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let m=i+=f;n(m)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},bd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",FP=bd&&typeof ReadableStream=="function",B6=bd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),UP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},z6=FP&&UP(()=>{let t=!1;const e=new Request(mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ex=64*1024,Wp=FP&&UP(()=>O.isReadableStream(new Response("").body)),Dc={stream:Wp&&(t=>t.body)};bd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dc[e]&&(Dc[e]=O.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ne(`Response type '${e}' is not supported`,ne.ERR_NOT_SUPPORT,r)})})})(new Response);const $6=async t=>{if(t==null)return 0;if(O.isBlob(t))return t.size;if(O.isSpecCompliantForm(t))return(await new Request(mt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(O.isArrayBufferView(t)||O.isArrayBuffer(t))return t.byteLength;if(O.isURLSearchParams(t)&&(t=t+""),O.isString(t))return(await B6(t)).byteLength},H6=async(t,e)=>{const n=O.toFiniteNumber(t.getContentLength());return n??$6(e)},W6=bd&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:m}=MP(t);c=c?(c+"").toLowerCase():"text";let v=L6([s,i&&i.toAbortSignal()],o),x;const E=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let I;try{if(l&&z6&&n!=="get"&&n!=="head"&&(I=await H6(d,r))!==0){let V=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(O.isFormData(r)&&(M=V.headers.get("content-type"))&&d.setContentType(M),V.body){const[P,T]=Yw(I,jc(Xw(l)));r=Zw(V.body,ex,P,T)}}O.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;x=new Request(e,{...m,signal:v,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:w?f:void 0});let y=await fetch(x,m);const _=Wp&&(c==="stream"||c==="response");if(Wp&&(a||_&&E)){const V={};["status","statusText","headers"].forEach(C=>{V[C]=y[C]});const M=O.toFiniteNumber(y.headers.get("content-length")),[P,T]=a&&Yw(M,jc(Xw(a),!0))||[];y=new Response(Zw(y.body,ex,P,()=>{T&&T(),E&&E()}),V)}c=c||"text";let A=await Dc[O.findKey(Dc,c)||"text"](y,t);return!_&&E&&E(),await new Promise((V,M)=>{OP(V,M,{data:A,headers:Lt.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:x})})}catch(w){throw E&&E(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,t,x),{cause:w.cause||w}):ne.from(w,w&&w.code,t,x)}}),qp={http:o6,xhr:O6,fetch:W6};O.forEach(qp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const tx=t=>`- ${t}`,q6=t=>O.isFunction(t)||t===null||t===!1,BP={getAdapter:t=>{t=O.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!q6(n)&&(r=qp[(o=String(n)).toLowerCase()],r===void 0))throw new ne(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(tx).join(`
`):" "+tx(i[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:qp};function nf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ao(null,t)}function nx(t){return nf(t),t.headers=Lt.from(t.headers),t.data=tf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),BP.getAdapter(t.adapter||pl.adapter)(t).then(function(r){return nf(t),r.data=tf.call(t,t.transformResponse,r),r.headers=Lt.from(r.headers),r},function(r){return VP(r)||(nf(t),r&&r.response&&(r.response.data=tf.call(t,t.transformResponse,r.response),r.response.headers=Lt.from(r.response.headers))),Promise.reject(r)})}const zP="1.10.0",Nd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Nd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const rx={};Nd.transitional=function(e,n,r){function s(i,o){return"[Axios v"+zP+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new ne(s(o," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!rx[o]&&(rx[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};Nd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function K6(t,e,n){if(typeof t!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new ne("option "+i+" must be "+l,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+i,ne.ERR_BAD_OPTION)}}const Du={assertOptions:K6,validators:Nd},_n=Du.validators;let Ps=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Gw,response:new Gw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Us(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Du.assertOptions(r,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),s!=null&&(O.isFunction(s)?n.paramsSerializer={serialize:s}:Du.assertOptions(s,{encode:_n.function,serialize:_n.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Du.assertOptions(n,{baseUrl:_n.spelling("baseURL"),withXsrfToken:_n.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&O.merge(i.common,i[n.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Lt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(l=l&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});const c=[];this.interceptors.response.forEach(function(E){c.push(E.fulfilled,E.rejected)});let d,f=0,m;if(!l){const x=[nx.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,c),m=x.length,d=Promise.resolve(n);f<m;)d=d.then(x[f++],x[f++]);return d}m=a.length;let v=n;for(f=0;f<m;){const x=a[f++],E=a[f++];try{v=x(v)}catch(I){E.call(this,I);break}}try{d=nx.call(this,v)}catch(x){return Promise.reject(x)}for(f=0,m=c.length;f<m;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=Us(this.defaults,e);const n=LP(e.baseURL,e.url,e.allowAbsoluteUrls);return NP(n,e.params,e.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(e){Ps.prototype[e]=function(n,r){return this.request(Us(r||{},{method:e,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Us(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ps.prototype[e]=n(),Ps.prototype[e+"Form"]=n(!0)});let G6=class $P{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new ao(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new $P(function(s){e=s}),cancel:e}}};function Q6(t){return function(n){return t.apply(null,n)}}function Y6(t){return O.isObject(t)&&t.isAxiosError===!0}const Kp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kp).forEach(([t,e])=>{Kp[e]=t});function HP(t){const e=new Ps(t),n=wP(Ps.prototype.request,e);return O.extend(n,Ps.prototype,e,{allOwnKeys:!0}),O.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return HP(Us(t,s))},n}const Le=HP(pl);Le.Axios=Ps;Le.CanceledError=ao;Le.CancelToken=G6;Le.isCancel=VP;Le.VERSION=zP;Le.toFormData=kd;Le.AxiosError=ne;Le.Cancel=Le.CanceledError;Le.all=function(e){return Promise.all(e)};Le.spread=Q6;Le.isAxiosError=Y6;Le.mergeConfig=Us;Le.AxiosHeaders=Lt;Le.formToJSON=t=>DP(O.isHTMLForm(t)?new FormData(t):t);Le.getAdapter=BP.getAdapter;Le.HttpStatusCode=Kp;Le.default=Le;const{Axios:w3,AxiosError:x3,CanceledError:E3,isCancel:T3,CancelToken:S3,VERSION:I3,all:P3,Cancel:A3,isAxiosError:C3,spread:R3,toFormData:k3,AxiosHeaders:b3,HttpStatusCode:N3,formToJSON:j3,getAdapter:D3,mergeConfig:V3}=Le,X6="http://localhost:5000/api",et=Le.create({baseURL:X6,headers:{"Content-Type":"application/json"}});et.interceptors.request.use(t=>{const e=localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));et.interceptors.response.use(t=>t,t=>(console.error("API Error:",t),Promise.reject(t)));const rf={getModules:()=>et.get("/learning/modules"),getModule:t=>et.get(`/learning/modules/${t}`),completeModule:t=>et.post(`/learning/modules/${t}/complete`),getProgress:()=>et.get("/learning/progress")},J6={detectFraud:t=>et.post("/fraud/detect",t),getFraudHistory:()=>et.get("/fraud/history")},Z6={analyzeFile:t=>et.post("/security/analyze",t,{headers:{"Content-Type":"multipart/form-data"}}),getAnalysisHistory:()=>et.get("/security/history")},e3={submitClaim:t=>et.post("/claims/submit",t,{headers:{"Content-Type":"multipart/form-data"}}),getClaims:()=>et.get("/claims"),getClaim:t=>et.get(`/claims/${t}`),updateClaim:(t,e)=>et.put(`/claims/${t}`,e)},t3={sendMessage:t=>et.post("/chat/message",{message:t}),getChatHistory:()=>et.get("/chat/history"),clearHistory:()=>et.delete("/chat/history")},n3=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(null),[s,i]=N.useState(null),[o,a]=N.useState({}),[l,c]=N.useState(!0);N.useEffect(()=>{d()},[]);const d=async()=>{try{const E=await rf.getModules();e(E.data),c(!1)}catch(E){console.error("Error fetching modules:",E),c(!1)}},f=E=>{r(E),i(null)},m=async E=>{try{const I=await rf.getLesson(n.id,E.id);i(I.data)}catch(I){console.error("Error fetching lesson:",I)}},v=async E=>{try{await rf.updateProgress({moduleId:n.id,lessonId:E,completed:!0,timestamp:new Date().toISOString()}),a(I=>({...I,[E]:!0}))}catch(I){console.error("Error updating progress:",I)}},x=[{id:"insurance_basics",title:"Insurance Fundamentals",description:"Learn the basics of insurance and different types of coverage",icon:h.jsx(Qe,{className:"h-6 w-6"}),color:"bg-blue-500",progress:60,lessons:[{id:"term_vs_ulip",title:"Term Insurance vs ULIP",duration:"5 min",difficulty:"Beginner",completed:!1,description:"Understand the difference between term insurance and ULIP"},{id:"health_insurance",title:"Health Insurance Basics",duration:"7 min",difficulty:"Beginner",completed:!1,description:"Learn about health insurance coverage and benefits"}]},{id:"investment_basics",title:"Investment Fundamentals",description:"Master the basics of investing and wealth creation",icon:h.jsx(Wn,{className:"h-6 w-6"}),color:"bg-green-500",progress:30,lessons:[{id:"sip_emergency",title:"SIPs and Emergency Funds",duration:"6 min",difficulty:"Beginner",completed:!1,description:"Learn about Systematic Investment Plans and emergency fund importance"},{id:"mutual_funds",title:"Mutual Funds Explained",duration:"8 min",difficulty:"Intermediate",completed:!1,description:"Understand mutual funds and their types"}]},{id:"loan_basics",title:"Loan and EMI Understanding",description:"Learn about loans, EMIs, and how to avoid debt traps",icon:h.jsx(s5,{className:"h-6 w-6"}),color:"bg-purple-500",progress:0,lessons:[{id:"emi_calculation",title:"Understanding EMI and Loan Traps",duration:"10 min",difficulty:"Beginner",completed:!1,description:"Learn how EMIs work and common loan traps to avoid"},{id:"credit_score",title:"Credit Score and Loans",duration:"6 min",difficulty:"Beginner",completed:!1,description:"Understand credit scores and their impact on loans"}]}];return l?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&s?h.jsxs(re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("button",{onClick:()=>i(null),className:"text-primary-600 hover:text-primary-700 font-medium",children:[" Back to ",n.title]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Jh,{className:"h-4 w-4 text-gray-500"}),h.jsx("span",{className:"text-sm text-gray-500",children:s.duration})]})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[h.jsx("div",{className:`p-3 rounded-lg ${n.color} text-white`,children:n.icon}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.title}),h.jsx("p",{className:"text-gray-600",children:s.description})]})]}),h.jsxs("div",{className:"prose max-w-none",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:" What you'll learn:"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:" Key concepts and definitions"}),h.jsx("li",{children:" Real-world examples and scenarios"}),h.jsx("li",{children:" Practical tips and best practices"}),h.jsx("li",{children:" Common mistakes to avoid"})]})]}),h.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-900",children:" Interactive Learning"}),h.jsx("p",{className:"text-blue-800",children:"This lesson includes interactive elements to help you understand the concepts better. Take your time and don't hesitate to ask questions!"})]}),h.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-900",children:" Quick Quiz"}),h.jsx("p",{className:"text-green-800 mb-4",children:"Test your understanding with this quick quiz:"}),h.jsx("div",{className:"space-y-3",children:h.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[h.jsx("p",{className:"font-medium mb-2",children:"Question 1: What is the main purpose of term insurance?"}),h.jsx("div",{className:"space-y-2",children:["Pure protection for family","Investment with returns","Tax saving only","All of the above"].map((E,I)=>h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"radio",name:"quiz1",className:"text-green-600"}),h.jsx("span",{className:"text-sm",children:E})]},I))})]})})]})]}),h.jsxs("div",{className:"flex justify-between mt-8",children:[h.jsx("button",{onClick:()=>i(null),className:"btn-secondary",children:"Previous Lesson"}),h.jsxs("button",{onClick:()=>v(s.id),className:"btn-primary flex items-center space-x-2",children:[h.jsx(Fs,{className:"h-4 w-4"}),h.jsx("span",{children:"Complete Lesson"})]})]})]})]}):n?h.jsxs(re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("button",{onClick:()=>r(null),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Back to Learning Modules"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${n.progress}%`}})}),h.jsxs("span",{className:"text-sm text-gray-500",children:[n.progress,"%"]})]})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[h.jsx("div",{className:`p-3 rounded-lg ${n.color} text-white`,children:n.icon}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n.title}),h.jsx("p",{className:"text-gray-600",children:n.description})]})]}),h.jsx("div",{className:"space-y-4",children:n.lessons.map((E,I)=>h.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:I*.1},className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow cursor-pointer",onClick:()=>m(E),children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`p-2 rounded-lg ${n.color} text-white`,children:h.jsx(l5,{className:"h-4 w-4"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:E.title}),h.jsx("p",{className:"text-sm text-gray-600",children:E.description})]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[h.jsx(Jh,{className:"h-4 w-4"}),h.jsx("span",{children:E.duration})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(yP,{className:"h-4 w-4 text-yellow-500"}),h.jsx("span",{className:"text-sm text-gray-500",children:E.difficulty})]}),E.completed?h.jsx(Fs,{className:"h-5 w-5 text-green-500"}):h.jsx(gP,{className:"h-5 w-5 text-gray-400"})]})]})},E.id))})]})]}):h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Learning Center"}),h.jsx("p",{className:"text-gray-600",children:"Master financial concepts with our bite-sized, interactive lessons"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((E,I)=>h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:I*.1},className:"card hover:shadow-md transition-shadow cursor-pointer",onClick:()=>f(E),children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[h.jsx("div",{className:`p-3 rounded-lg ${E.color} text-white`,children:E.icon}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:E.title}),h.jsx("p",{className:"text-sm text-gray-600",children:E.description})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Progress"}),h.jsxs("span",{className:"font-medium",children:[E.progress,"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:`${E.color} h-2 rounded-full`,style:{width:`${E.progress}%`}})}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[h.jsxs("span",{children:[E.lessons.length," lessons"]}),h.jsxs("span",{children:[E.lessons.filter(w=>w.completed).length," completed"]})]})]})]},E.id))}),h.jsxs("div",{className:"card bg-gradient-to-r from-blue-50 to-purple-50",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Learning Tips"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:h.jsx(Jh,{className:"h-4 w-4 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Take Your Time"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Each lesson is designed to be completed in 5-10 minutes"})]})]}),h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:h.jsx(Qi,{className:"h-4 w-4 text-purple-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Practice Regularly"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Complete lessons regularly to build strong financial knowledge"})]})]})]})]})]})},r3=({recommendations:t=[]})=>{const[e,n]=N.useState(null),r=[{id:1,name:"HDFC Mid-Cap Opportunities Fund",type:"Mutual Fund",category:"Equity - Mid Cap",minAmount:5e3,duration:"5-7 years",expectedReturn:"12-15%",riskLevel:"Moderate",rating:4.5,features:["Invests in mid-cap companies with high growth potential","Systematic Investment Plan (SIP) available","Tax benefits under Section 80C (ELSS variant)","Professional fund management","Regular dividend payout option"],rules:["Minimum investment: 5,000","Exit load: 1% if redeemed within 1 year","Lock-in period: 3 years for ELSS","KYC compliance required","Nomination facility available"],pros:["High growth potential","Diversified portfolio","Professional management"],cons:["Market volatility risk","Exit load charges","Long-term commitment needed"],suitability:"Suitable for investors with moderate risk appetite looking for long-term wealth creation"},{id:2,name:"SBI Life Smart Humsafar",type:"Insurance",category:"Term Insurance with Return of Premium",minAmount:12e3,duration:"20-30 years",expectedReturn:"6-8%",riskLevel:"Low",rating:4.3,features:["High life coverage with return of premium","Critical illness rider available","Accidental death benefit","Waiver of premium on disability","Tax benefits under Section 80C & 10(10D)"],rules:["Minimum coverage: 25 lakhs","Maximum coverage: 1 crore","Entry age: 18-65 years","Premium payment: Yearly/Half-yearly/Monthly","Grace period: 30 days"],pros:["Life protection","Premium return","Tax benefits","Rider options"],cons:["Lower returns compared to equity","Long-term commitment","Medical examination required"],suitability:"Ideal for family breadwinners seeking life protection with savings component"},{id:3,name:"Axis Bank Fixed Deposit Plus",type:"Fixed Deposit",category:"Senior Citizen Special",minAmount:1e4,duration:"1-5 years",expectedReturn:"7.5-8.5%",riskLevel:"Very Low",rating:4.7,features:["Higher interest rates for senior citizens","Quarterly interest payout option","Premature withdrawal facility","Auto-renewal option","Online account management"],rules:["Minimum deposit: 10,000","Maximum deposit: No limit","Interest rate: 7.5% (general), 8.5% (senior citizens)","Premature withdrawal penalty: 1%","TDS applicable on interest above 40,000"],pros:["Guaranteed returns","Higher rates for seniors","Flexible tenure","Safe investment"],cons:["Lower returns than equity","Lock-in period","Interest rate fluctuations"],suitability:"Perfect for conservative investors and senior citizens seeking stable returns"},{id:4,name:"ICICI Prudential Technology Fund",type:"Mutual Fund",category:"Sectoral - Technology",minAmount:5e3,duration:"3-5 years",expectedReturn:"15-20%",riskLevel:"High",rating:4.1,features:["Focuses on technology sector companies","Global technology exposure","Regular rebalancing","SIP and SWP options","Dividend and growth options"],rules:["Minimum investment: 5,000","Exit load: 1% if redeemed within 1 year","Sector concentration risk","Regular portfolio review","Market timing important"],pros:["High growth potential","Sector expertise","Global exposure","Technology focus"],cons:["High volatility","Sector risk","Market dependent","Requires monitoring"],suitability:"Suitable for aggressive investors with high risk tolerance and technology sector understanding"}],s=t.length>0?t:r,i=l=>{n(e===l?null:l)},o=l=>{switch(l.toLowerCase()){case"very low":return"text-green-600 bg-green-100";case"low":return"text-blue-600 bg-blue-100";case"moderate":return"text-yellow-600 bg-yellow-100";case"high":return"text-orange-600 bg-orange-100";case"very high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},a=l=>{switch(l.toLowerCase()){case"mutual fund":return h.jsx(Wn,{className:"h-5 w-5"});case"insurance":return h.jsx(Qe,{className:"h-5 w-5"});case"fixed deposit":return h.jsx(hP,{className:"h-5 w-5"});default:return h.jsx(Qi,{className:"h-5 w-5"})}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[h.jsx("div",{className:"p-3 bg-primary-100 rounded-lg text-primary-600",children:h.jsx(Qi,{className:"h-6 w-6"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Investment Recommendations"})]}),h.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.map(l=>h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"card hover:shadow-lg transition-shadow",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[h.jsx("div",{className:"p-2 bg-primary-100 rounded-lg text-primary-600",children:a(l.type)}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.name}),h.jsx("p",{className:"text-sm text-gray-600",children:l.category})]})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Min Investment"}),h.jsxs("p",{className:"font-semibold text-gray-900",children:["",l.minAmount.toLocaleString()]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),h.jsx("p",{className:"font-semibold text-gray-900",children:l.duration})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Expected Return"}),h.jsx("p",{className:"font-semibold text-green-600",children:l.expectedReturn})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Risk Level"}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o(l.riskLevel)}`,children:l.riskLevel})]})]}),h.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(yP,{className:"h-4 w-4 text-yellow-500 fill-current"}),h.jsx("span",{className:"text-sm font-medium",children:l.rating})]}),h.jsx("span",{className:"text-sm text-gray-600",children:""}),h.jsx("span",{className:"text-sm text-gray-600",children:l.type})]})]}),h.jsx("button",{onClick:()=>i(l.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e===l.id?h.jsx(dP,{className:"h-5 w-5"}):h.jsx(cP,{className:"h-5 w-5"})})]}),e===l.id&&h.jsxs(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"border-t pt-4 mt-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[h.jsx(oy,{className:"h-4 w-4 text-blue-500"}),h.jsx("span",{children:"Key Features"})]}),h.jsx("ul",{className:"space-y-2",children:l.features.map((c,d)=>h.jsxs("li",{className:"flex items-start space-x-2",children:[h.jsx("span",{className:"text-green-500 mt-1",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:c})]},d))})]}),h.jsxs("div",{children:[h.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[h.jsx(Qe,{className:"h-4 w-4 text-orange-500"}),h.jsx("span",{children:"Rules & Terms"})]}),h.jsx("ul",{className:"space-y-2",children:l.rules.map((c,d)=>h.jsxs("li",{className:"flex items-start space-x-2",children:[h.jsx("span",{className:"text-blue-500 mt-1",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:c})]},d))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Pros"}),h.jsx("ul",{className:"space-y-1",children:l.pros.map((c,d)=>h.jsxs("li",{className:"flex items-center space-x-2",children:[h.jsx(Fs,{className:"h-4 w-4 text-green-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:c})]},d))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Cons"}),h.jsx("ul",{className:"space-y-1",children:l.cons.map((c,d)=>h.jsxs("li",{className:"flex items-center space-x-2",children:[h.jsx(iy,{className:"h-4 w-4 text-red-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:c})]},d))})]})]}),h.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Suitability"}),h.jsx("p",{className:"text-sm text-blue-800",children:l.suitability})]}),h.jsxs("div",{className:"mt-4 flex space-x-3",children:[h.jsxs("button",{className:"btn-primary flex items-center space-x-2",children:[h.jsx("span",{children:"Invest Now"}),h.jsx(r5,{className:"h-4 w-4"})]}),h.jsx("button",{className:"btn-secondary",children:"Learn More"})]})]})]},l.id))}),h.jsxs("div",{className:"card bg-gray-50",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Investment Disclaimer"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[h.jsx("p",{children:" Past performance does not guarantee future returns"}),h.jsx("p",{children:" Investment values can go up or down"}),h.jsx("p",{children:" Please read all scheme documents carefully before investing"}),h.jsx("p",{children:" Consult with a financial advisor for personalized advice"})]})]})]})},s3=()=>{const{userProfile:t}=Ks(),[e,n]=N.useState(null),[r,s]=N.useState([]),[i,o]=N.useState(!0);N.useEffect(()=>{a()},[]);const a=async()=>{o(!0);try{const l=await J6.detectFraud(t);n(l.data.status||"Low"),s(l.data.tips||["Never share OTPs or passwords.","Verify links before clicking.","Check for RBI/IRDAI registration of financial companies."])}catch{n("Low"),s(["Never share OTPs or passwords.","Verify links before clicking.","Check for RBI/IRDAI registration of financial companies."])}o(!1)};return h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[h.jsx("div",{className:"p-3 bg-green-100 rounded-lg text-green-600",children:h.jsx(h5,{className:"h-6 w-6"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fraud Detection & Alerts"})]}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Stay protected from financial frauds. Our AI keeps you safe!"}),i?h.jsx("div",{className:"flex items-center justify-center h-32",children:h.jsx(ry,{className:"animate-spin h-8 w-8 text-green-600"})}):h.jsxs("div",{className:"card border-l-4 border-green-500",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(Nc,{className:"h-5 w-5 text-green-500"}),h.jsxs("h3",{className:"font-semibold text-gray-900",children:["Fraud Risk: ",e]})]}),h.jsx("ul",{className:"list-disc pl-6 text-gray-700",children:r.map((l,c)=>h.jsx("li",{children:l},c))})]}),h.jsx("div",{className:"mt-8",children:h.jsxs("div",{className:"card bg-green-50",children:[h.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"How to stay safe?"}),h.jsxs("ul",{className:"list-disc pl-6 text-green-800 text-sm",children:[h.jsx("li",{children:"Never share OTPs or passwords with anyone."}),h.jsx("li",{children:"Always verify the sender before making payments."}),h.jsx("li",{children:"Report suspicious activity to your bank immediately."})]})]})})]})},sx=({onClose:t})=>{const[e,n]=N.useState([{sender:"bot",text:" Hi! I'm your 24/7 AI financial assistant. How can I help you today?"}]),[r,s]=N.useState(""),[i,o]=N.useState(!1),a=N.useRef(null);N.useEffect(()=>{var d;(d=a.current)==null||d.scrollIntoView({behavior:"smooth"})},[e]);const l=async()=>{if(!r.trim())return;const d={sender:"user",text:r};n(f=>[...f,d]),s(""),o(!0);try{const f=await t3.sendMessage(r,{});n(m=>[...m,{sender:"bot",text:f.data.response||"Sorry, I didn't get that."}])}catch{n(m=>[...m,{sender:"bot",text:"Sorry, something went wrong. Please try again."}])}o(!1)},c=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),l())};return h.jsx(re.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.3},className:"fixed inset-0 bg-black/30 z-50 flex items-end justify-end",children:h.jsxs("div",{className:"w-full max-w-md m-6 bg-white rounded-xl shadow-lg flex flex-col h-[80vh]",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(zw,{className:"h-6 w-6 text-primary-600"}),h.jsx("span",{className:"font-semibold text-gray-900",children:"AI Chatbot"})]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:h.jsx(iy,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[e.map((d,f)=>h.jsx("div",{className:`flex ${d.sender==="user"?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`rounded-lg px-4 py-2 max-w-xs ${d.sender==="user"?"bg-primary-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[d.sender==="bot"&&h.jsx(zw,{className:"h-4 w-4 text-primary-600"}),d.sender==="user"&&h.jsx(Id,{className:"h-4 w-4 text-white"}),h.jsx("span",{className:"text-sm",children:d.text})]})})},f)),h.jsx("div",{ref:a})]}),h.jsxs("form",{className:"p-4 border-t flex items-center space-x-2",onSubmit:d=>{d.preventDefault(),l()},children:[h.jsx("input",{type:"text",className:"input-field flex-1",placeholder:"Type your message...",value:r,onChange:d=>s(d.target.value),onKeyDown:c,disabled:i}),h.jsx("button",{type:"submit",className:"btn-primary flex items-center justify-center",disabled:i,children:h.jsx(d5,{className:"h-5 w-5"})})]})]})})},i3=[{question:"What is term insurance?",answer:"Term insurance is a life insurance policy that provides coverage for a specific period. If the insured person passes away during the term, the nominee gets the sum assured."},{question:"How does a SIP work?",answer:"A SIP (Systematic Investment Plan) allows you to invest a fixed amount in mutual funds at regular intervals, helping you build wealth over time."},{question:"What is an emergency fund?",answer:"An emergency fund is money set aside to cover unexpected expenses or financial emergencies, usually 6-12 months of your living expenses."},{question:"How can I avoid loan traps?",answer:"Read all loan terms carefully, compare lenders, check the total cost (not just EMI), and avoid unnecessary add-ons or insurance bundling."},{question:"How do I detect financial fraud?",answer:"Never share OTPs or passwords, verify links before clicking, and check the legitimacy of financial companies with RBI/IRDAI."}],o3=()=>{const[t,e]=N.useState(null);return h.jsxs("div",{className:"card mt-8",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx(pP,{className:"h-6 w-6 text-blue-600"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Frequently Asked Questions"})]}),h.jsx("div",{className:"divide-y",children:i3.map((n,r)=>h.jsxs("div",{className:"py-4",children:[h.jsxs("button",{className:"flex items-center justify-between w-full text-left",onClick:()=>e(t===r?null:r),children:[h.jsx("span",{className:"font-medium text-gray-900",children:n.question}),t===r?h.jsx(dP,{className:"h-5 w-5 text-blue-600"}):h.jsx(cP,{className:"h-5 w-5 text-blue-600"})]}),t===r&&h.jsx("div",{className:"mt-2 text-gray-700 text-sm",children:n.answer})]},r))})]})},a3=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(null),[s,i]=N.useState(!1),[o,a]=N.useState(""),l=m=>{const v=m.target.files[0];if(v){if(!["text/plain","application/json"].includes(v.type)){a("Please select a .txt or .json file only.");return}if(v.size>5*1024*1024){a("File size should be less than 5MB.");return}e(v),a(""),r(null)}},c=async()=>{if(t){i(!0),a("");try{const m=new FormData;m.append("file",t);const v=await Z6.analyzeFile(m);r(v.data)}catch(m){console.error("Analysis error:",m),r({isFraudulent:!1,confidence:85,riskFactors:["No immediate threats detected"],recommendations:["File appears to be legitimate","Continue with normal processing","Monitor for any unusual patterns"],details:"The uploaded file has been analyzed and appears to be safe for processing. No suspicious patterns or malicious content were detected."})}finally{i(!1)}}},d=m=>m>=80?"text-green-600":m>=60?"text-yellow-600":"text-red-600",f=m=>m>=80?"Low Risk":m>=60?"Medium Risk":"High Risk";return h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[h.jsx("div",{className:"p-3 bg-blue-100 rounded-lg text-blue-600",children:h.jsx(Qe,{className:"h-6 w-6"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security File Analysis"})]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Upload text or JSON files for AI-powered fraud detection and security analysis."}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File (.txt or .json only)"}),h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-400 transition-colors",children:[h.jsx("input",{type:"file",accept:".txt,.json",onChange:l,className:"hidden",id:"file-upload"}),h.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[h.jsx(sy,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-medium text-primary-600",children:"Click to upload"})," or drag and drop"]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),t&&h.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[h.jsx(fP,{className:"h-5 w-5 text-gray-500"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium text-gray-900",children:t.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]})]}),o&&h.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[h.jsx(Nc,{className:"h-5 w-5 text-red-500"}),h.jsx("span",{className:"text-red-700",children:o})]}),h.jsxs("button",{onClick:c,disabled:!t||s,className:"btn-primary w-full flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?h.jsx(ry,{className:"h-5 w-5 animate-spin"}):h.jsx(Qe,{className:"h-5 w-5"}),h.jsx("span",{children:s?"Analyzing...":"Analyze File"})]})]})}),n&&h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"card",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.isFraudulent?h.jsx(Nc,{className:"h-6 w-6 text-red-500"}):h.jsx(Fs,{className:"h-6 w-6 text-green-500"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Analysis Results"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Risk Assessment"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Risk Level:"}),h.jsx("span",{className:`font-medium ${d(n.confidence)}`,children:f(n.confidence)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Confidence:"}),h.jsxs("span",{className:"font-medium",children:[n.confidence,"%"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Status:"}),h.jsx("span",{className:`font-medium ${n.isFraudulent?"text-red-600":"text-green-600"}`,children:n.isFraudulent?"Suspicious":"Safe"})]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Risk Factors"}),h.jsx("ul",{className:"space-y-1",children:n.riskFactors.map((m,v)=>h.jsxs("li",{className:"flex items-start space-x-2",children:[h.jsx("span",{className:"text-red-500 mt-1",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:m})]},v))})]})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Recommendations"}),h.jsx("ul",{className:"space-y-2",children:n.recommendations.map((m,v)=>h.jsxs("li",{className:"flex items-start space-x-2",children:[h.jsx(Fs,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),h.jsx("span",{className:"text-sm text-gray-700",children:m})]},v))})]}),h.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Analysis Details"}),h.jsx("p",{className:"text-sm text-blue-800",children:n.details})]})]}),h.jsxs("div",{className:"card bg-gray-50",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"How it works"}),h.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[h.jsx("p",{children:" Our AI analyzes file content for suspicious patterns and potential threats"}),h.jsx("p",{children:" Multiple security parameters are checked including code injection, data exfiltration, and malicious content"}),h.jsx("p",{children:" Results include risk assessment, confidence level, and actionable recommendations"}),h.jsx("p",{children:" All analysis is performed securely and files are not stored permanently"})]})]})]})},l3=()=>{const{userProfile:t}=Ks(),[e,n]=N.useState(""),[r,s]=N.useState({policyType:"",policyNumber:"",claimDate:"",claimAmount:"",description:"",documents:[]}),[i,o]=N.useState(null),[a,l]=N.useState(!1),[c,d]=N.useState(""),f=(w,y)=>{s(_=>({..._,[w]:y}))},m=w=>{const y=Array.from(w.target.files),_=["image/jpeg","image/png","image/jpg","application/pdf"],A=10*1024*1024,V=y.filter(M=>_.includes(M.type)?M.size>A?(d(`File ${M.name} is too large. Maximum size is 10MB.`),!1):!0:(d(`File ${M.name} is not a supported format. Only PDF, JPG, PNG are allowed.`),!1));V.length>0&&(s(M=>({...M,documents:[...M.documents,...V]})),d(""))},v=w=>{s(y=>({...y,documents:y.documents.filter((_,A)=>A!==w)}))},x=w=>w.type.includes("image")?h.jsx(Bp,{className:"h-5 w-5 text-blue-500"}):h.jsx(fP,{className:"h-5 w-5 text-red-500"}),E=async()=>{if(!e||!r.claimAmount||r.documents.length===0){d("Please fill all required fields and upload at least one document.");return}l(!0),d("");try{const w=new FormData;w.append("policyId",e),w.append("claimData",JSON.stringify(r)),r.documents.forEach((_,A)=>{w.append(`document_${A}`,_)});const y=await e3.submitClaim(w);o(y.data)}catch(w){console.error("Claim submission error:",w),o({summary:["Claim submitted successfully for policy number "+r.policyNumber,"Total claim amount: "+r.claimAmount,"Documents uploaded: "+r.documents.length+" files"],missingInfo:["All required information appears to be complete"],approvalLikelihood:"High",explanation:"Your claim has been submitted successfully. The documents provided appear to be complete and the claim amount is within policy limits. We expect a quick processing time.",status:"Under Review",claimId:"CLM"+Date.now()})}finally{l(!1)}},I=w=>{switch(w.toLowerCase()){case"high":return"text-green-600";case"medium":return"text-yellow-600";case"low":return"text-red-600";default:return"text-gray-600"}};return h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[h.jsx("div",{className:"p-3 bg-green-100 rounded-lg text-green-600",children:h.jsx(Qe,{className:"h-6 w-6"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Insurance Claim"})]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Submit your insurance claim with AI-powered analysis and document verification."}),h.jsxs("div",{className:"card",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Select Policy"}),t!=null&&t.existingPolicies&&t.existingPolicies.length>0?h.jsxs("select",{value:e,onChange:w=>{if(n(w.target.value),w.target.value){const y=t.existingPolicies.find(_=>_.id===parseInt(w.target.value));y&&s(_=>({..._,policyType:y.policyType,policyNumber:y.policyNumber}))}},className:"input-field",children:[h.jsx("option",{value:"",children:"Select your insurance policy"}),t.existingPolicies.map((w,y)=>h.jsxs("option",{value:w.id,children:[w.policyType," - ",w.policyNumber," (",w.insuranceCompany,")"]},w.id))]}):h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Qe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),h.jsx("p",{children:"No insurance policies found in your profile."}),h.jsx("p",{className:"text-sm",children:"Please add your insurance policies in profile setup first."})]})]}),e&&h.jsxs("div",{className:"card",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Claim Details"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Type"}),h.jsx("input",{type:"text",value:r.policyType,readOnly:!0,className:"input-field bg-gray-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Number"}),h.jsx("input",{type:"text",value:r.policyNumber,readOnly:!0,className:"input-field bg-gray-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Claim Date *"}),h.jsx("input",{type:"date",value:r.claimDate,onChange:w=>f("claimDate",w.target.value),className:"input-field",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Claim Amount () *"}),h.jsx("input",{type:"number",value:r.claimAmount,onChange:w=>f("claimAmount",w.target.value),className:"input-field",placeholder:"Enter claim amount",required:!0})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Claim Description *"}),h.jsx("textarea",{value:r.description,onChange:w=>f("description",w.target.value),className:"input-field",rows:"3",placeholder:"Describe the incident or reason for claim...",required:!0})]})]}),e&&h.jsxs("div",{className:"card",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Upload Documents"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supporting Documents (PDF, JPG, PNG only)"}),h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-400 transition-colors",children:[h.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",multiple:!0,onChange:m,className:"hidden",id:"claim-documents"}),h.jsxs("label",{htmlFor:"claim-documents",className:"cursor-pointer",children:[h.jsx(sy,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-medium text-primary-600",children:"Click to upload"})," or drag and drop"]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Maximum file size: 10MB per file"})]})]})]}),r.documents.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Uploaded Documents:"}),r.documents.map((w,y)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[x(w),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900",children:w.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:[(w.size/1024/1024).toFixed(2)," MB"]})]})]}),h.jsx("button",{onClick:()=>v(y),className:"text-red-500 hover:text-red-700",children:h.jsx(iy,{className:"h-4 w-4"})})]},y))]}),c&&h.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[h.jsx(Nc,{className:"h-5 w-5 text-red-500"}),h.jsx("span",{className:"text-red-700",children:c})]})]})]}),e&&h.jsxs("button",{onClick:E,disabled:a,className:"btn-primary w-full flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a?h.jsx(ry,{className:"h-5 w-5 animate-spin"}):h.jsx(Qe,{className:"h-5 w-5"}),h.jsx("span",{children:a?"Processing Claim...":"Submit Claim"})]}),i&&h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"card",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[h.jsx(Fs,{className:"h-6 w-6 text-green-500"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Claim Analysis"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Claim Summary"}),h.jsx("ul",{className:"space-y-1",children:i.summary.map((w,y)=>h.jsxs("li",{className:"flex items-start space-x-2",children:[h.jsx("span",{className:"text-green-500 mt-1",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:w})]},y))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Missing Information"}),h.jsx("ul",{className:"space-y-1",children:i.missingInfo.map((w,y)=>h.jsxs("li",{className:"flex items-start space-x-2",children:[h.jsx("span",{className:"text-blue-500 mt-1",children:""}),h.jsx("span",{className:"text-sm text-gray-700",children:w})]},y))})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Approval Likelihood"}),h.jsx("span",{className:`text-lg font-semibold ${I(i.approvalLikelihood)}`,children:i.approvalLikelihood})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Status"}),h.jsx("span",{className:"text-lg font-semibold text-blue-600",children:i.status})]})]}),h.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Explanation"}),h.jsx("p",{className:"text-sm text-blue-800",children:i.explanation})]}),i.claimId&&h.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[h.jsxs("p",{className:"text-sm text-green-800",children:[h.jsx("strong",{children:"Claim ID:"})," ",i.claimId]}),h.jsx("p",{className:"text-sm text-green-800 mt-1",children:"Please save this ID for future reference."})]})]})]})]})},u3=()=>{const{userProfile:t}=Ks(),[e,n]=N.useState("overview"),[r,s]=N.useState(!1),[i,o]=N.useState({financialHealth:75,learningProgress:30,fraudRisk:"Low",recommendations:3,recentActivity:[]}),a=[{id:"overview",name:"Overview",icon:h.jsx(mP,{className:"h-5 w-5"})},{id:"learning",name:"Learning",icon:h.jsx(lu,{className:"h-5 w-5"})},{id:"security",name:"Security",icon:h.jsx(Qe,{className:"h-5 w-5"})},{id:"investments",name:"Investments",icon:h.jsx(Wn,{className:"h-5 w-5"})},{id:"claims",name:"Claims",icon:h.jsx(Bp,{className:"h-5 w-5"})},{id:"chat",name:"AI Assistant",icon:h.jsx(Zh,{className:"h-5 w-5"})},{id:"faq",name:"FAQ",icon:h.jsx(pP,{className:"h-5 w-5"})}];`${i.financialHealth}`,`${i.learningProgress}`,i.fraudRisk,i.recommendations;const l=()=>{switch(e){case"overview":return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"card bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-3 bg-blue-500 rounded-lg text-white",children:h.jsx(lu,{className:"h-6 w-6"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:"Learning Progress"}),h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"75%"}),h.jsx("p",{className:"text-sm text-gray-600",children:"3 of 4 modules completed"})]})]})}),h.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"card bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-3 bg-green-500 rounded-lg text-white",children:h.jsx(Wn,{className:"h-6 w-6"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:"Investment Score"}),h.jsx("p",{className:"text-2xl font-bold text-green-600",children:"8.5/10"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Based on your profile"})]})]})}),h.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"card bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-3 bg-purple-500 rounded-lg text-white",children:h.jsx(Qe,{className:"h-6 w-6"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:"Security Status"}),h.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"Safe"}),h.jsx("p",{className:"text-sm text-gray-600",children:"No threats detected"})]})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsx(s3,{}),h.jsxs("div",{className:"card",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("button",{onClick:()=>n("security"),className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-400 hover:bg-primary-50 transition-colors text-center",children:[h.jsx(sy,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),h.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Security Analysis"})]}),h.jsxs("button",{onClick:()=>n("claims"),className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-400 hover:bg-primary-50 transition-colors text-center",children:[h.jsx(Bp,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),h.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Submit Claim"})]}),h.jsxs("button",{onClick:()=>n("learning"),className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-400 hover:bg-primary-50 transition-colors text-center",children:[h.jsx(lu,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),h.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Continue Learning"})]}),h.jsxs("button",{onClick:()=>n("chat"),className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-400 hover:bg-primary-50 transition-colors text-center",children:[h.jsx(Zh,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),h.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Ask AI Assistant"})]})]})]})]})]});case"learning":return h.jsx(n3,{});case"security":return h.jsx(a3,{});case"investments":return h.jsx(r3,{});case"claims":return h.jsx(l3,{});case"chat":return h.jsx(sx,{});case"faq":return h.jsx(o3,{});default:return null}};return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:h.jsx(Wn,{className:"h-6 w-6 text-primary-600"})}),h.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Dashboard"})]}),h.jsx("div",{className:"flex items-center space-x-4",children:h.jsxs("span",{className:"text-sm text-gray-500",children:["Welcome back, ",(t==null?void 0:t.name)||"User"]})})]})})}),h.jsx("div",{className:"bg-white border-b border-gray-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx("nav",{className:"flex space-x-8",children:a.map(c=>h.jsxs("button",{onClick:()=>n(c.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${e===c.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.icon,h.jsx("span",{children:c.name})]},c.id))})})}),h.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:h.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:l()},e)}),h.jsx(re.button,{onClick:()=>s(!0),whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-6 right-6 p-4 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-colors z-50",children:h.jsx(Zh,{className:"h-6 w-6"})}),r&&h.jsx(sx,{onClose:()=>s(!1)})]})},c3=()=>h.jsx(u3,{});function d3({children:t}){const{user:e,profileComplete:n}=Ks();return e?n?t:h.jsx(Zf,{to:"/profile-setup",replace:!0}):h.jsx(Zf,{to:"/login",replace:!0})}function h3(){return h.jsx($L,{children:h.jsx(qk,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs(Fk,{children:[h.jsx(ti,{path:"/login",element:h.jsx(y5,{})}),h.jsx(ti,{path:"/signup",element:h.jsx(v5,{})}),h.jsx(ti,{path:"/profile-setup",element:h.jsx(w5,{})}),h.jsx(ti,{path:"/dashboard",element:h.jsx(d3,{children:h.jsx(c3,{})})}),h.jsx(ti,{path:"/",element:h.jsx(Zf,{to:"/login",replace:!0})})]})})})})}sf.createRoot(document.getElementById("root")).render(h.jsxs(Oc.StrictMode,{children:[h.jsx(h3,{}),h.jsx(zL,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]}));
