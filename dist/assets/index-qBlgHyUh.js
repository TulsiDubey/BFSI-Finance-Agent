function ON(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function MN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x_={exports:{}},Ku={},w_={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),LN=Symbol.for("react.portal"),FN=Symbol.for("react.fragment"),UN=Symbol.for("react.strict_mode"),BN=Symbol.for("react.profiler"),zN=Symbol.for("react.provider"),$N=Symbol.for("react.context"),HN=Symbol.for("react.forward_ref"),qN=Symbol.for("react.suspense"),WN=Symbol.for("react.memo"),KN=Symbol.for("react.lazy"),y0=Symbol.iterator;function GN(t){return t===null||typeof t!="object"?null:(t=y0&&t[y0]||t["@@iterator"],typeof t=="function"?t:null)}var __={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E_=Object.assign,T_={};function fo(t,e,n){this.props=t,this.context=e,this.refs=T_,this.updater=n||__}fo.prototype.isReactComponent={};fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S_(){}S_.prototype=fo.prototype;function rp(t,e,n){this.props=t,this.context=e,this.refs=T_,this.updater=n||__}var sp=rp.prototype=new S_;sp.constructor=rp;E_(sp,fo.prototype);sp.isPureReactComponent=!0;var v0=Array.isArray,b_=Object.prototype.hasOwnProperty,ip={current:null},I_={key:!0,ref:!0,__self:!0,__source:!0};function N_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)b_.call(e,r)&&!I_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:sl,type:t,key:i,ref:o,props:s,_owner:ip.current}}function QN(t,e){return{$$typeof:sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function op(t){return typeof t=="object"&&t!==null&&t.$$typeof===sl}function YN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x0=/\/+/g;function uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YN(""+t.key):e.toString(36)}function wc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sl:case LN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+uh(o,0):r,v0(s)?(n="",t!=null&&(n=t.replace(x0,"$&/")+"/"),wc(s,e,n,"",function(d){return d})):s!=null&&(op(s)&&(s=QN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(x0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",v0(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+uh(i,a);o+=wc(i,e,n,c,s)}else if(c=GN(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+uh(i,a++),o+=wc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kl(t,e,n){if(t==null)return t;var r=[],s=0;return wc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function XN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},_c={transition:null},JN={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:_c,ReactCurrentOwner:ip};function P_(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Kl,forEach:function(t,e,n){Kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kl(t,function(){e++}),e},toArray:function(t){return Kl(t,function(e){return e})||[]},only:function(t){if(!op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=fo;ue.Fragment=FN;ue.Profiler=BN;ue.PureComponent=rp;ue.StrictMode=UN;ue.Suspense=qN;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JN;ue.act=P_;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ip.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)b_.call(e,c)&&!I_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:sl,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:$N,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zN,_context:t},t.Consumer=t};ue.createElement=N_;ue.createFactory=function(t){var e=N_.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:HN,render:t}};ue.isValidElement=op;ue.lazy=function(t){return{$$typeof:KN,_payload:{_status:-1,_result:t},_init:XN}};ue.memo=function(t,e){return{$$typeof:WN,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=_c.transition;_c.transition={};try{t()}finally{_c.transition=e}};ue.unstable_act=P_;ue.useCallback=function(t,e){return Vt.current.useCallback(t,e)};ue.useContext=function(t){return Vt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Vt.current.useEffect(t,e)};ue.useId=function(){return Vt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Vt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};ue.useRef=function(t){return Vt.current.useRef(t)};ue.useState=function(t){return Vt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Vt.current.useTransition()};ue.version="18.3.1";w_.exports=ue;var j=w_.exports;const il=MN(j),ZN=ON({__proto__:null,default:il},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP=j,tP=Symbol.for("react.element"),nP=Symbol.for("react.fragment"),rP=Object.prototype.hasOwnProperty,sP=eP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iP={key:!0,ref:!0,__self:!0,__source:!0};function C_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rP.call(e,r)&&!iP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:tP,type:t,key:i,ref:o,props:s,_owner:sP.current}}Ku.Fragment=nP;Ku.jsx=C_;Ku.jsxs=C_;x_.exports=Ku;var l=x_.exports,mf={},A_={exports:{}},tn={},k_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,U){var B=R.length;R.push(U);e:for(;0<B;){var q=B-1>>>1,te=R[q];if(0<s(te,U))R[q]=U,R[B]=te,B=q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var U=R[0],B=R.pop();if(B!==U){R[0]=B;e:for(var q=0,te=R.length,me=te>>>1;q<me;){var bt=2*(q+1)-1,It=R[bt],Xe=bt+1,Nt=R[Xe];if(0>s(It,B))Xe<te&&0>s(Nt,It)?(R[q]=Nt,R[Xe]=B,q=Xe):(R[q]=It,R[bt]=B,q=bt);else if(Xe<te&&0>s(Nt,B))R[q]=Nt,R[Xe]=B,q=Xe;else break e}}return U}function s(R,U){var B=R.sortIndex-U.sortIndex;return B!==0?B:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,p=3,x=!1,_=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=R)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function C(R){if(T=!1,w(R),!_)if(n(c)!==null)_=!0,le(V);else{var U=n(d);U!==null&&ve(C,U.startTime-R)}}function V(R,U){_=!1,T&&(T=!1,v(E),E=-1),x=!0;var B=p;try{for(w(U),f=n(c);f!==null&&(!(f.expirationTime>U)||R&&!D());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var te=q(f.expirationTime<=U);U=t.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&r(c),w(U)}else r(c);f=n(c)}if(f!==null)var me=!0;else{var bt=n(d);bt!==null&&ve(C,bt.startTime-U),me=!1}return me}finally{f=null,p=B,x=!1}}var k=!1,b=null,E=-1,P=5,N=-1;function D(){return!(t.unstable_now()-N<P)}function O(){if(b!==null){var R=t.unstable_now();N=R;var U=!0;try{U=b(!0,R)}finally{U?A():(k=!1,b=null)}}else k=!1}var A;if(typeof y=="function")A=function(){y(O)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,_e=re.port2;re.port1.onmessage=O,A=function(){_e.postMessage(null)}}else A=function(){S(O,0)};function le(R){b=R,k||(k=!0,A())}function ve(R,U){E=S(function(){R(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,le(V))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var B=p;p=U;try{return R()}finally{p=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=p;p=R;try{return U()}finally{p=B}},t.unstable_scheduleCallback=function(R,U,B){var q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,R={id:h++,callback:U,priorityLevel:R,startTime:B,expirationTime:te,sortIndex:-1},B>q?(R.sortIndex=B,e(d,R),n(c)===null&&R===n(d)&&(T?(v(E),E=-1):T=!0,ve(C,B-q))):(R.sortIndex=te,e(c,R),_||x||(_=!0,le(V))),R},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(R){var U=p;return function(){var B=p;p=U;try{return R.apply(this,arguments)}finally{p=B}}}})(R_);k_.exports=R_;var oP=k_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP=j,Zt=oP;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j_=new Set,ba={};function Xs(t,e){Gi(t,e),Gi(t+"Capture",e)}function Gi(t,e){for(ba[t]=e,t=0;t<e.length;t++)j_.add(e[t])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=Object.prototype.hasOwnProperty,lP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w0={},_0={};function cP(t){return pf.call(_0,t)?!0:pf.call(w0,t)?!1:lP.test(t)?_0[t]=!0:(w0[t]=!0,!1)}function uP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dP(t,e,n,r){if(e===null||typeof e>"u"||uP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var ap=/[\-:]([a-z])/g;function lp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ap,lp);lt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ap,lp);lt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ap,lp);lt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function cp(t,e,n,r){var s=lt.hasOwnProperty(e)?lt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dP(e,n,s,r)&&(n=null),r||s===null?cP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=aP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),yi=Symbol.for("react.portal"),vi=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),gf=Symbol.for("react.profiler"),D_=Symbol.for("react.provider"),V_=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),yf=Symbol.for("react.suspense"),vf=Symbol.for("react.suspense_list"),hp=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),O_=Symbol.for("react.offscreen"),E0=Symbol.iterator;function Lo(t){return t===null||typeof t!="object"?null:(t=E0&&t[E0]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,dh;function Yo(t){if(dh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dh=e&&e[1]||""}return`
`+dh+t}var hh=!1;function fh(t,e){if(!t||hh)return"";hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{hh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yo(t):""}function hP(t){switch(t.tag){case 5:return Yo(t.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return t=fh(t.type,!1),t;case 11:return t=fh(t.type.render,!1),t;case 1:return t=fh(t.type,!0),t;default:return""}}function xf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vi:return"Fragment";case yi:return"Portal";case gf:return"Profiler";case up:return"StrictMode";case yf:return"Suspense";case vf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V_:return(t.displayName||"Context")+".Consumer";case D_:return(t._context.displayName||"Context")+".Provider";case dp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hp:return e=t.displayName||null,e!==null?e:xf(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return xf(t(e))}catch{}}return null}function fP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xf(e);case 8:return e===up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mP(t){var e=M_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ql(t){t._valueTracker||(t._valueTracker=mP(t))}function L_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=M_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wf(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function T0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F_(t,e){e=e.checked,e!=null&&cp(t,"checked",e,!1)}function _f(t,e){F_(t,e);var n=Gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ef(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ef(t,e.type,Gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ef(t,e,n){(e!=="number"||Kc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xo=Array.isArray;function Di(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function b0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Xo(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gr(n)}}function U_(t,e){var n=Gr(e.value),r=Gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function I0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yl,z_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yl=Yl||document.createElement("div"),Yl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pP=["Webkit","ms","Moz","O"];Object.keys(oa).forEach(function(t){pP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oa[e]=oa[t]})});function $_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oa.hasOwnProperty(t)&&oa[t]?(""+e).trim():e+"px"}function H_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var gP=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bf(t,e){if(e){if(gP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function If(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=null;function fp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pf=null,Vi=null,Oi=null;function N0(t){if(t=ll(t)){if(typeof Pf!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Ju(e),Pf(t.stateNode,t.type,e))}}function q_(t){Vi?Oi?Oi.push(t):Oi=[t]:Vi=t}function W_(){if(Vi){var t=Vi,e=Oi;if(Oi=Vi=null,N0(t),e)for(t=0;t<e.length;t++)N0(e[t])}}function K_(t,e){return t(e)}function G_(){}var mh=!1;function Q_(t,e,n){if(mh)return t(e,n);mh=!0;try{return K_(t,e,n)}finally{mh=!1,(Vi!==null||Oi!==null)&&(G_(),W_())}}function Na(t,e){var n=t.stateNode;if(n===null)return null;var r=Ju(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Cf=!1;if(er)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Cf=!1}function yP(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var aa=!1,Gc=null,Qc=!1,Af=null,vP={onError:function(t){aa=!0,Gc=t}};function xP(t,e,n,r,s,i,o,a,c){aa=!1,Gc=null,yP.apply(vP,arguments)}function wP(t,e,n,r,s,i,o,a,c){if(xP.apply(this,arguments),aa){if(aa){var d=Gc;aa=!1,Gc=null}else throw Error(H(198));Qc||(Qc=!0,Af=d)}}function Js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Y_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P0(t){if(Js(t)!==t)throw Error(H(188))}function _P(t){var e=t.alternate;if(!e){if(e=Js(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return P0(s),t;if(i===r)return P0(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function X_(t){return t=_P(t),t!==null?J_(t):null}function J_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J_(t);if(e!==null)return e;t=t.sibling}return null}var Z_=Zt.unstable_scheduleCallback,C0=Zt.unstable_cancelCallback,EP=Zt.unstable_shouldYield,TP=Zt.unstable_requestPaint,Ue=Zt.unstable_now,SP=Zt.unstable_getCurrentPriorityLevel,mp=Zt.unstable_ImmediatePriority,eE=Zt.unstable_UserBlockingPriority,Yc=Zt.unstable_NormalPriority,bP=Zt.unstable_LowPriority,tE=Zt.unstable_IdlePriority,Gu=null,Cn=null;function IP(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Gu,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:CP,NP=Math.log,PP=Math.LN2;function CP(t){return t>>>=0,t===0?32:31-(NP(t)/PP|0)|0}var Xl=64,Jl=4194304;function Jo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Jo(a):(i&=o,i!==0&&(r=Jo(i)))}else o=n&~s,o!==0?r=Jo(o):i!==0&&(r=Jo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vn(e),s=1<<n,r|=t[n],e&=~s;return r}function AP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-vn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=AP(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nE(){var t=Xl;return Xl<<=1,!(Xl&4194240)&&(Xl=64),t}function ph(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function RP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function rE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sE,gp,iE,oE,aE,Rf=!1,Zl=[],Dr=null,Vr=null,Or=null,Pa=new Map,Ca=new Map,Er=[],jP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A0(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Pa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(e.pointerId)}}function Uo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ll(e),e!==null&&gp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function DP(t,e,n,r,s){switch(e){case"focusin":return Dr=Uo(Dr,t,e,n,r,s),!0;case"dragenter":return Vr=Uo(Vr,t,e,n,r,s),!0;case"mouseover":return Or=Uo(Or,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pa.set(i,Uo(Pa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ca.set(i,Uo(Ca.get(i)||null,t,e,n,r,s)),!0}return!1}function lE(t){var e=Ss(t.target);if(e!==null){var n=Js(e);if(n!==null){if(e=n.tag,e===13){if(e=Y_(n),e!==null){t.blockedOn=e,aE(t.priority,function(){iE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nf=r,n.target.dispatchEvent(r),Nf=null}else return e=ll(n),e!==null&&gp(e),t.blockedOn=n,!1;e.shift()}return!0}function k0(t,e,n){Ec(t)&&n.delete(e)}function VP(){Rf=!1,Dr!==null&&Ec(Dr)&&(Dr=null),Vr!==null&&Ec(Vr)&&(Vr=null),Or!==null&&Ec(Or)&&(Or=null),Pa.forEach(k0),Ca.forEach(k0)}function Bo(t,e){t.blockedOn===e&&(t.blockedOn=null,Rf||(Rf=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,VP)))}function Aa(t){function e(s){return Bo(s,t)}if(0<Zl.length){Bo(Zl[0],t);for(var n=1;n<Zl.length;n++){var r=Zl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dr!==null&&Bo(Dr,t),Vr!==null&&Bo(Vr,t),Or!==null&&Bo(Or,t),Pa.forEach(e),Ca.forEach(e),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)lE(n),n.blockedOn===null&&Er.shift()}var Mi=ur.ReactCurrentBatchConfig,Jc=!0;function OP(t,e,n,r){var s=xe,i=Mi.transition;Mi.transition=null;try{xe=1,yp(t,e,n,r)}finally{xe=s,Mi.transition=i}}function MP(t,e,n,r){var s=xe,i=Mi.transition;Mi.transition=null;try{xe=4,yp(t,e,n,r)}finally{xe=s,Mi.transition=i}}function yp(t,e,n,r){if(Jc){var s=jf(t,e,n,r);if(s===null)bh(t,e,r,Zc,n),A0(t,r);else if(DP(s,t,e,n,r))r.stopPropagation();else if(A0(t,r),e&4&&-1<jP.indexOf(t)){for(;s!==null;){var i=ll(s);if(i!==null&&sE(i),i=jf(t,e,n,r),i===null&&bh(t,e,r,Zc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bh(t,e,r,null,n)}}var Zc=null;function jf(t,e,n,r){if(Zc=null,t=fp(r),t=Ss(t),t!==null)if(e=Js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Y_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zc=t,null}function cE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SP()){case mp:return 1;case eE:return 4;case Yc:case bP:return 16;case tE:return 536870912;default:return 16}default:return 16}}var Cr=null,vp=null,Tc=null;function uE(){if(Tc)return Tc;var t,e=vp,n=e.length,r,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Tc=s.slice(t,1<r?1-r:void 0)}function Sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ec(){return!0}function R0(){return!1}function nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ec:R0,this.isPropagationStopped=R0,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),e}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xp=nn(mo),al=je({},mo,{view:0,detail:0}),LP=nn(al),gh,yh,zo,Qu=je({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(gh=t.screenX-zo.screenX,yh=t.screenY-zo.screenY):yh=gh=0,zo=t),gh)},movementY:function(t){return"movementY"in t?t.movementY:yh}}),j0=nn(Qu),FP=je({},Qu,{dataTransfer:0}),UP=nn(FP),BP=je({},al,{relatedTarget:0}),vh=nn(BP),zP=je({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),$P=nn(zP),HP=je({},mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qP=nn(HP),WP=je({},mo,{data:0}),D0=nn(WP),KP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QP[t])?!!e[t]:!1}function wp(){return YP}var XP=je({},al,{key:function(t){if(t.key){var e=KP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wp,charCode:function(t){return t.type==="keypress"?Sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JP=nn(XP),ZP=je({},Qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=nn(ZP),eC=je({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wp}),tC=nn(eC),nC=je({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),rC=nn(nC),sC=je({},Qu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iC=nn(sC),oC=[9,13,27,32],_p=er&&"CompositionEvent"in window,la=null;er&&"documentMode"in document&&(la=document.documentMode);var aC=er&&"TextEvent"in window&&!la,dE=er&&(!_p||la&&8<la&&11>=la),O0=" ",M0=!1;function hE(t,e){switch(t){case"keyup":return oC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xi=!1;function lC(t,e){switch(t){case"compositionend":return fE(e);case"keypress":return e.which!==32?null:(M0=!0,O0);case"textInput":return t=e.data,t===O0&&M0?null:t;default:return null}}function cC(t,e){if(xi)return t==="compositionend"||!_p&&hE(t,e)?(t=uE(),Tc=vp=Cr=null,xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dE&&e.locale!=="ko"?null:e.data;default:return null}}var uC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uC[t.type]:e==="textarea"}function mE(t,e,n,r){q_(r),e=eu(e,"onChange"),0<e.length&&(n=new xp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ca=null,ka=null;function dC(t){bE(t,0)}function Yu(t){var e=Ei(t);if(L_(e))return t}function hC(t,e){if(t==="change")return e}var pE=!1;if(er){var xh;if(er){var wh="oninput"in document;if(!wh){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),wh=typeof F0.oninput=="function"}xh=wh}else xh=!1;pE=xh&&(!document.documentMode||9<document.documentMode)}function U0(){ca&&(ca.detachEvent("onpropertychange",gE),ka=ca=null)}function gE(t){if(t.propertyName==="value"&&Yu(ka)){var e=[];mE(e,ka,t,fp(t)),Q_(dC,e)}}function fC(t,e,n){t==="focusin"?(U0(),ca=e,ka=n,ca.attachEvent("onpropertychange",gE)):t==="focusout"&&U0()}function mC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(ka)}function pC(t,e){if(t==="click")return Yu(e)}function gC(t,e){if(t==="input"||t==="change")return Yu(e)}function yC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:yC;function Ra(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pf.call(e,s)||!_n(t[s],e[s]))return!1}return!0}function B0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z0(t,e){var n=B0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B0(n)}}function yE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vE(){for(var t=window,e=Kc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kc(t.document)}return e}function Ep(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vC(t){var e=vE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yE(n.ownerDocument.documentElement,n)){if(r!==null&&Ep(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=z0(n,i);var o=z0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xC=er&&"documentMode"in document&&11>=document.documentMode,wi=null,Df=null,ua=null,Vf=!1;function $0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vf||wi==null||wi!==Kc(r)||(r=wi,"selectionStart"in r&&Ep(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ua&&Ra(ua,r)||(ua=r,r=eu(Df,"onSelect"),0<r.length&&(e=new xp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wi)))}function tc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _i={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},_h={},xE={};er&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Xu(t){if(_h[t])return _h[t];if(!_i[t])return t;var e=_i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xE)return _h[t]=e[n];return t}var wE=Xu("animationend"),_E=Xu("animationiteration"),EE=Xu("animationstart"),TE=Xu("transitionend"),SE=new Map,H0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,e){SE.set(t,e),Xs(e,[t])}for(var Eh=0;Eh<H0.length;Eh++){var Th=H0[Eh],wC=Th.toLowerCase(),_C=Th[0].toUpperCase()+Th.slice(1);ts(wC,"on"+_C)}ts(wE,"onAnimationEnd");ts(_E,"onAnimationIteration");ts(EE,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(TE,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function q0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wP(r,e,void 0,t),t.currentTarget=null}function bE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;q0(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;q0(s,a,d),i=c}}}if(Qc)throw t=Af,Qc=!1,Af=null,t}function Ie(t,e){var n=e[Uf];n===void 0&&(n=e[Uf]=new Set);var r=t+"__bubble";n.has(r)||(IE(e,t,2,!1),n.add(r))}function Sh(t,e,n){var r=0;e&&(r|=4),IE(n,t,r,e)}var nc="_reactListening"+Math.random().toString(36).slice(2);function ja(t){if(!t[nc]){t[nc]=!0,j_.forEach(function(n){n!=="selectionchange"&&(EC.has(n)||Sh(n,!1,t),Sh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nc]||(e[nc]=!0,Sh("selectionchange",!1,e))}}function IE(t,e,n,r){switch(cE(e)){case 1:var s=OP;break;case 4:s=MP;break;default:s=yp}n=s.bind(null,e,n,t),s=void 0,!Cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ss(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Q_(function(){var d=i,h=fp(n),f=[];e:{var p=SE.get(t);if(p!==void 0){var x=xp,_=t;switch(t){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":x=JP;break;case"focusin":_="focus",x=vh;break;case"focusout":_="blur",x=vh;break;case"beforeblur":case"afterblur":x=vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=j0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=UP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=tC;break;case wE:case _E:case EE:x=$P;break;case TE:x=rC;break;case"scroll":x=LP;break;case"wheel":x=iC;break;case"copy":case"cut":case"paste":x=qP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=V0}var T=(e&4)!==0,S=!T&&t==="scroll",v=T?p!==null?p+"Capture":null:p;T=[];for(var y=d,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,v!==null&&(C=Na(y,v),C!=null&&T.push(Da(y,C,w)))),S)break;y=y.return}0<T.length&&(p=new x(p,_,null,n,h),f.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&n!==Nf&&(_=n.relatedTarget||n.fromElement)&&(Ss(_)||_[tr]))break e;if((x||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,x?(_=n.relatedTarget||n.toElement,x=d,_=_?Ss(_):null,_!==null&&(S=Js(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(x=null,_=d),x!==_)){if(T=j0,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=V0,C="onPointerLeave",v="onPointerEnter",y="pointer"),S=x==null?p:Ei(x),w=_==null?p:Ei(_),p=new T(C,y+"leave",x,n,h),p.target=S,p.relatedTarget=w,C=null,Ss(h)===d&&(T=new T(v,y+"enter",_,n,h),T.target=w,T.relatedTarget=S,C=T),S=C,x&&_)t:{for(T=x,v=_,y=0,w=T;w;w=di(w))y++;for(w=0,C=v;C;C=di(C))w++;for(;0<y-w;)T=di(T),y--;for(;0<w-y;)v=di(v),w--;for(;y--;){if(T===v||v!==null&&T===v.alternate)break t;T=di(T),v=di(v)}T=null}else T=null;x!==null&&W0(f,p,x,T,!1),_!==null&&S!==null&&W0(f,S,_,T,!0)}}e:{if(p=d?Ei(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var V=hC;else if(L0(p))if(pE)V=gC;else{V=mC;var k=fC}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=pC);if(V&&(V=V(t,d))){mE(f,V,n,h);break e}k&&k(t,p,d),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Ef(p,"number",p.value)}switch(k=d?Ei(d):window,t){case"focusin":(L0(k)||k.contentEditable==="true")&&(wi=k,Df=d,ua=null);break;case"focusout":ua=Df=wi=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,$0(f,n,h);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":$0(f,n,h)}var b;if(_p)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xi?hE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(dE&&n.locale!=="ko"&&(xi||E!=="onCompositionStart"?E==="onCompositionEnd"&&xi&&(b=uE()):(Cr=h,vp="value"in Cr?Cr.value:Cr.textContent,xi=!0)),k=eu(d,E),0<k.length&&(E=new D0(E,t,null,n,h),f.push({event:E,listeners:k}),b?E.data=b:(b=fE(n),b!==null&&(E.data=b)))),(b=aC?lC(t,n):cC(t,n))&&(d=eu(d,"onBeforeInput"),0<d.length&&(h=new D0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=b))}bE(f,e)})}function Da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Na(t,n),i!=null&&r.unshift(Da(t,i,s)),i=Na(t,e),i!=null&&r.push(Da(t,i,s))),t=t.return}return r}function di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Na(n,i),c!=null&&o.unshift(Da(n,c,a))):s||(c=Na(n,i),c!=null&&o.push(Da(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TC=/\r\n?/g,SC=/\u0000|\uFFFD/g;function K0(t){return(typeof t=="string"?t:""+t).replace(TC,`
`).replace(SC,"")}function rc(t,e,n){if(e=K0(e),K0(t)!==e&&n)throw Error(H(425))}function tu(){}var Of=null,Mf=null;function Lf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,bC=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,IC=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(t){return G0.resolve(null).then(t).catch(NC)}:Ff;function NC(t){setTimeout(function(){throw t})}function Ih(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Aa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Aa(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var po=Math.random().toString(36).slice(2),Nn="__reactFiber$"+po,Va="__reactProps$"+po,tr="__reactContainer$"+po,Uf="__reactEvents$"+po,PC="__reactListeners$"+po,CC="__reactHandles$"+po;function Ss(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tr]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Q0(t);t!==null;){if(n=t[Nn])return n;t=Q0(t)}return e}t=n,n=t.parentNode}return null}function ll(t){return t=t[Nn]||t[tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Ju(t){return t[Va]||null}var Bf=[],Ti=-1;function ns(t){return{current:t}}function Ne(t){0>Ti||(t.current=Bf[Ti],Bf[Ti]=null,Ti--)}function Te(t,e){Ti++,Bf[Ti]=t.current,t.current=e}var Qr={},Et=ns(Qr),Ut=ns(!1),Os=Qr;function Qi(t,e){var n=t.type.contextTypes;if(!n)return Qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(t){return t=t.childContextTypes,t!=null}function nu(){Ne(Ut),Ne(Et)}function Y0(t,e,n){if(Et.current!==Qr)throw Error(H(168));Te(Et,e),Te(Ut,n)}function NE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,fP(t)||"Unknown",s));return je({},n,r)}function ru(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,Os=Et.current,Te(Et,t),Te(Ut,Ut.current),!0}function X0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=NE(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,Ne(Ut),Ne(Et),Te(Et,t)):Ne(Ut),Te(Ut,n)}var $n=null,Zu=!1,Nh=!1;function PE(t){$n===null?$n=[t]:$n.push(t)}function AC(t){Zu=!0,PE(t)}function rs(){if(!Nh&&$n!==null){Nh=!0;var t=0,e=xe;try{var n=$n;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$n=null,Zu=!1}catch(s){throw $n!==null&&($n=$n.slice(t+1)),Z_(mp,rs),s}finally{xe=e,Nh=!1}}return null}var Si=[],bi=0,su=null,iu=0,an=[],ln=0,Ms=null,Hn=1,qn="";function ys(t,e){Si[bi++]=iu,Si[bi++]=su,su=t,iu=e}function CE(t,e,n){an[ln++]=Hn,an[ln++]=qn,an[ln++]=Ms,Ms=t;var r=Hn;t=qn;var s=32-vn(r)-1;r&=~(1<<s),n+=1;var i=32-vn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Hn=1<<32-vn(e)+s|n<<s|r,qn=i+t}else Hn=1<<i|n<<s|r,qn=t}function Tp(t){t.return!==null&&(ys(t,1),CE(t,1,0))}function Sp(t){for(;t===su;)su=Si[--bi],Si[bi]=null,iu=Si[--bi],Si[bi]=null;for(;t===Ms;)Ms=an[--ln],an[ln]=null,qn=an[--ln],an[ln]=null,Hn=an[--ln],an[ln]=null}var Xt=null,Qt=null,Pe=!1,yn=null;function AE(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:Hn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Qt=null,!0):!1;default:return!1}}function zf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $f(t){if(Pe){var e=Qt;if(e){var n=e;if(!J0(t,e)){if(zf(t))throw Error(H(418));e=Mr(n.nextSibling);var r=Xt;e&&J0(t,e)?AE(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Xt=t)}}else{if(zf(t))throw Error(H(418));t.flags=t.flags&-4097|2,Pe=!1,Xt=t}}}function Z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function sc(t){if(t!==Xt)return!1;if(!Pe)return Z0(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lf(t.type,t.memoizedProps)),e&&(e=Qt)){if(zf(t))throw kE(),Error(H(418));for(;e;)AE(t,e),e=Mr(e.nextSibling)}if(Z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Xt?Mr(t.stateNode.nextSibling):null;return!0}function kE(){for(var t=Qt;t;)t=Mr(t.nextSibling)}function Yi(){Qt=Xt=null,Pe=!1}function bp(t){yn===null?yn=[t]:yn.push(t)}var kC=ur.ReactCurrentBatchConfig;function $o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function ic(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ev(t){var e=t._init;return e(t._payload)}function RE(t){function e(v,y){if(t){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Br(v,y),v.index=0,v.sibling=null,v}function i(v,y,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,w,C){return y===null||y.tag!==6?(y=Dh(w,v.mode,C),y.return=v,y):(y=s(y,w),y.return=v,y)}function c(v,y,w,C){var V=w.type;return V===vi?h(v,y,w.props.children,C,w.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===xr&&ev(V)===y.type)?(C=s(y,w.props),C.ref=$o(v,y,w),C.return=v,C):(C=kc(w.type,w.key,w.props,null,v.mode,C),C.ref=$o(v,y,w),C.return=v,C)}function d(v,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Vh(w,v.mode,C),y.return=v,y):(y=s(y,w.children||[]),y.return=v,y)}function h(v,y,w,C,V){return y===null||y.tag!==7?(y=Rs(w,v.mode,C,V),y.return=v,y):(y=s(y,w),y.return=v,y)}function f(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Dh(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gl:return w=kc(y.type,y.key,y.props,null,v.mode,w),w.ref=$o(v,null,y),w.return=v,w;case yi:return y=Vh(y,v.mode,w),y.return=v,y;case xr:var C=y._init;return f(v,C(y._payload),w)}if(Xo(y)||Lo(y))return y=Rs(y,v.mode,w,null),y.return=v,y;ic(v,y)}return null}function p(v,y,w,C){var V=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return V!==null?null:a(v,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:return w.key===V?c(v,y,w,C):null;case yi:return w.key===V?d(v,y,w,C):null;case xr:return V=w._init,p(v,y,V(w._payload),C)}if(Xo(w)||Lo(w))return V!==null?null:h(v,y,w,C,null);ic(v,w)}return null}function x(v,y,w,C,V){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(w)||null,a(y,v,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Gl:return v=v.get(C.key===null?w:C.key)||null,c(y,v,C,V);case yi:return v=v.get(C.key===null?w:C.key)||null,d(y,v,C,V);case xr:var k=C._init;return x(v,y,w,k(C._payload),V)}if(Xo(C)||Lo(C))return v=v.get(w)||null,h(y,v,C,V,null);ic(y,C)}return null}function _(v,y,w,C){for(var V=null,k=null,b=y,E=y=0,P=null;b!==null&&E<w.length;E++){b.index>E?(P=b,b=null):P=b.sibling;var N=p(v,b,w[E],C);if(N===null){b===null&&(b=P);break}t&&b&&N.alternate===null&&e(v,b),y=i(N,y,E),k===null?V=N:k.sibling=N,k=N,b=P}if(E===w.length)return n(v,b),Pe&&ys(v,E),V;if(b===null){for(;E<w.length;E++)b=f(v,w[E],C),b!==null&&(y=i(b,y,E),k===null?V=b:k.sibling=b,k=b);return Pe&&ys(v,E),V}for(b=r(v,b);E<w.length;E++)P=x(b,v,E,w[E],C),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?E:P.key),y=i(P,y,E),k===null?V=P:k.sibling=P,k=P);return t&&b.forEach(function(D){return e(v,D)}),Pe&&ys(v,E),V}function T(v,y,w,C){var V=Lo(w);if(typeof V!="function")throw Error(H(150));if(w=V.call(w),w==null)throw Error(H(151));for(var k=V=null,b=y,E=y=0,P=null,N=w.next();b!==null&&!N.done;E++,N=w.next()){b.index>E?(P=b,b=null):P=b.sibling;var D=p(v,b,N.value,C);if(D===null){b===null&&(b=P);break}t&&b&&D.alternate===null&&e(v,b),y=i(D,y,E),k===null?V=D:k.sibling=D,k=D,b=P}if(N.done)return n(v,b),Pe&&ys(v,E),V;if(b===null){for(;!N.done;E++,N=w.next())N=f(v,N.value,C),N!==null&&(y=i(N,y,E),k===null?V=N:k.sibling=N,k=N);return Pe&&ys(v,E),V}for(b=r(v,b);!N.done;E++,N=w.next())N=x(b,v,E,N.value,C),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?E:N.key),y=i(N,y,E),k===null?V=N:k.sibling=N,k=N);return t&&b.forEach(function(O){return e(v,O)}),Pe&&ys(v,E),V}function S(v,y,w,C){if(typeof w=="object"&&w!==null&&w.type===vi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:e:{for(var V=w.key,k=y;k!==null;){if(k.key===V){if(V=w.type,V===vi){if(k.tag===7){n(v,k.sibling),y=s(k,w.props.children),y.return=v,v=y;break e}}else if(k.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===xr&&ev(V)===k.type){n(v,k.sibling),y=s(k,w.props),y.ref=$o(v,k,w),y.return=v,v=y;break e}n(v,k);break}else e(v,k);k=k.sibling}w.type===vi?(y=Rs(w.props.children,v.mode,C,w.key),y.return=v,v=y):(C=kc(w.type,w.key,w.props,null,v.mode,C),C.ref=$o(v,y,w),C.return=v,v=C)}return o(v);case yi:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=s(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Vh(w,v.mode,C),y.return=v,v=y}return o(v);case xr:return k=w._init,S(v,y,k(w._payload),C)}if(Xo(w))return _(v,y,w,C);if(Lo(w))return T(v,y,w,C);ic(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,w),y.return=v,v=y):(n(v,y),y=Dh(w,v.mode,C),y.return=v,v=y),o(v)):n(v,y)}return S}var Xi=RE(!0),jE=RE(!1),ou=ns(null),au=null,Ii=null,Ip=null;function Np(){Ip=Ii=au=null}function Pp(t){var e=ou.current;Ne(ou),t._currentValue=e}function Hf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Li(t,e){au=t,Ip=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Ip!==t)if(t={context:t,memoizedValue:e,next:null},Ii===null){if(au===null)throw Error(H(308));Ii=t,au.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var bs=null;function Cp(t){bs===null?bs=[t]:bs.push(t)}function DE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Cp(e)):(n.next=s.next,s.next=n),e.interleaved=n,nr(t,r)}function nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function Ap(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,nr(t,n)}return s=r.interleaved,s===null?(e.next=e,Cp(r)):(e.next=s.next,s.next=e),r.interleaved=e,nr(t,n)}function bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pp(t,n)}}function tv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lu(t,e,n,r){var s=t.updateQueue;wr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var p=a.lane,x=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,T=a;switch(p=e,x=n,T.tag){case 1:if(_=T.payload,typeof _=="function"){f=_.call(x,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=T.payload,p=typeof _=="function"?_.call(x,f,p):_,p==null)break e;f=je({},f,p);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else x={eventTime:x,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=x,c=f):h=h.next=x,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Fs|=o,t.lanes=o,t.memoizedState=f}}function nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var cl={},An=ns(cl),Oa=ns(cl),Ma=ns(cl);function Is(t){if(t===cl)throw Error(H(174));return t}function kp(t,e){switch(Te(Ma,e),Te(Oa,t),Te(An,cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sf(e,t)}Ne(An),Te(An,e)}function Ji(){Ne(An),Ne(Oa),Ne(Ma)}function OE(t){Is(Ma.current);var e=Is(An.current),n=Sf(e,t.type);e!==n&&(Te(Oa,t),Te(An,n))}function Rp(t){Oa.current===t&&(Ne(An),Ne(Oa))}var Ae=ns(0);function cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ph=[];function jp(){for(var t=0;t<Ph.length;t++)Ph[t]._workInProgressVersionPrimary=null;Ph.length=0}var Ic=ur.ReactCurrentDispatcher,Ch=ur.ReactCurrentBatchConfig,Ls=0,Re=null,Ke=null,Ze=null,uu=!1,da=!1,La=0,RC=0;function ft(){throw Error(H(321))}function Dp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function Vp(t,e,n,r,s,i){if(Ls=i,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ic.current=t===null||t.memoizedState===null?OC:MC,t=n(r,s),da){i=0;do{if(da=!1,La=0,25<=i)throw Error(H(301));i+=1,Ze=Ke=null,e.updateQueue=null,Ic.current=LC,t=n(r,s)}while(da)}if(Ic.current=du,e=Ke!==null&&Ke.next!==null,Ls=0,Ze=Ke=Re=null,uu=!1,e)throw Error(H(300));return t}function Op(){var t=La!==0;return La=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Re.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function hn(){if(Ke===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=Ze===null?Re.memoizedState:Ze.next;if(e!==null)Ze=e,Ke=t;else{if(t===null)throw Error(H(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ze===null?Re.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Fa(t,e){return typeof e=="function"?e(t):e}function Ah(t){var e=hn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Ls&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Re.lanes|=h,Fs|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,_n(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Re.lanes|=i,Fs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kh(t){var e=hn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_n(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ME(){}function LE(t,e){var n=Re,r=hn(),s=e(),i=!_n(r.memoizedState,s);if(i&&(r.memoizedState=s,Ft=!0),r=r.queue,Mp(BE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Ua(9,UE.bind(null,n,r,s,e),void 0,null),et===null)throw Error(H(349));Ls&30||FE(n,e,s)}return s}function FE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UE(t,e,n,r){e.value=n,e.getSnapshot=r,zE(e)&&$E(t)}function BE(t,e,n){return n(function(){zE(e)&&$E(t)})}function zE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function $E(t){var e=nr(t,1);e!==null&&xn(e,t,1,-1)}function rv(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:t},e.queue=t,t=t.dispatch=VC.bind(null,Re,t),[e.memoizedState,t]}function Ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HE(){return hn().memoizedState}function Nc(t,e,n,r){var s=In();Re.flags|=t,s.memoizedState=Ua(1|e,n,void 0,r===void 0?null:r)}function ed(t,e,n,r){var s=hn();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,r!==null&&Dp(r,o.deps)){s.memoizedState=Ua(e,n,i,r);return}}Re.flags|=t,s.memoizedState=Ua(1|e,n,i,r)}function sv(t,e){return Nc(8390656,8,t,e)}function Mp(t,e){return ed(2048,8,t,e)}function qE(t,e){return ed(4,2,t,e)}function WE(t,e){return ed(4,4,t,e)}function KE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GE(t,e,n){return n=n!=null?n.concat([t]):null,ed(4,4,KE.bind(null,e,t),n)}function Lp(){}function QE(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YE(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XE(t,e,n){return Ls&21?(_n(n,e)||(n=nE(),Re.lanes|=n,Fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function jC(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Ch.transition;Ch.transition={};try{t(!1),e()}finally{xe=n,Ch.transition=r}}function JE(){return hn().memoizedState}function DC(t,e,n){var r=Ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZE(t))e1(e,n);else if(n=DE(t,e,n,r),n!==null){var s=Dt();xn(n,t,r,s),t1(n,e,r)}}function VC(t,e,n){var r=Ur(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZE(t))e1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,_n(a,o)){var c=e.interleaved;c===null?(s.next=s,Cp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=DE(t,e,s,r),n!==null&&(s=Dt(),xn(n,t,r,s),t1(n,e,r))}}function ZE(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function e1(t,e){da=uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function t1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pp(t,n)}}var du={readContext:dn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},OC={readContext:dn,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:sv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nc(4194308,4,KE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nc(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DC.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:rv,useDebugValue:Lp,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=rv(!1),e=t[0];return t=jC.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,s=In();if(Pe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),et===null)throw Error(H(349));Ls&30||FE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sv(BE.bind(null,r,i,t),[t]),r.flags|=2048,Ua(9,UE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=In(),e=et.identifierPrefix;if(Pe){var n=qn,r=Hn;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=La++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MC={readContext:dn,useCallback:QE,useContext:dn,useEffect:Mp,useImperativeHandle:GE,useInsertionEffect:qE,useLayoutEffect:WE,useMemo:YE,useReducer:Ah,useRef:HE,useState:function(){return Ah(Fa)},useDebugValue:Lp,useDeferredValue:function(t){var e=hn();return XE(e,Ke.memoizedState,t)},useTransition:function(){var t=Ah(Fa)[0],e=hn().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:LE,useId:JE,unstable_isNewReconciler:!1},LC={readContext:dn,useCallback:QE,useContext:dn,useEffect:Mp,useImperativeHandle:GE,useInsertionEffect:qE,useLayoutEffect:WE,useMemo:YE,useReducer:kh,useRef:HE,useState:function(){return kh(Fa)},useDebugValue:Lp,useDeferredValue:function(t){var e=hn();return Ke===null?e.memoizedState=t:XE(e,Ke.memoizedState,t)},useTransition:function(){var t=kh(Fa)[0],e=hn().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:LE,useId:JE,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var td={isMounted:function(t){return(t=t._reactInternals)?Js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=Ur(t),i=Yn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Lr(t,i,s),e!==null&&(xn(e,t,s,r),bc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=Ur(t),i=Yn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Lr(t,i,s),e!==null&&(xn(e,t,s,r),bc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=Ur(t),s=Yn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Lr(t,s,r),e!==null&&(xn(e,t,r,n),bc(e,t,r))}};function iv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ra(n,r)||!Ra(s,i):!0}function n1(t,e,n){var r=!1,s=Qr,i=e.contextType;return typeof i=="object"&&i!==null?i=dn(i):(s=Bt(e)?Os:Et.current,r=e.contextTypes,i=(r=r!=null)?Qi(t,s):Qr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ov(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&td.enqueueReplaceState(e,e.state,null)}function Wf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ap(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=dn(i):(i=Bt(e)?Os:Et.current,s.context=Qi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(qf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&td.enqueueReplaceState(s,s.state,null),lu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zi(t,e){try{var n="",r=e;do n+=hP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FC=typeof WeakMap=="function"?WeakMap:Map;function r1(t,e,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fu||(fu=!0,rm=r),Kf(t,e)},n}function s1(t,e,n){n=Yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Kf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kf(t,e),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function av(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ZC.bind(null,t,e,n),e.then(t,t))}function lv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yn(-1,1),e.tag=2,Lr(n,e,1))),n.lanes|=1),t)}var UC=ur.ReactCurrentOwner,Ft=!1;function jt(t,e,n,r){e.child=t===null?jE(e,null,n,r):Xi(e,t.child,n,r)}function uv(t,e,n,r,s){n=n.render;var i=e.ref;return Li(e,s),r=Vp(t,e,n,r,i,s),n=Op(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rr(t,e,s)):(Pe&&n&&Tp(e),e.flags|=1,jt(t,e,r,s),e.child)}function dv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Wp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,i1(t,e,i,r,s)):(t=kc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ra,n(o,r)&&t.ref===e.ref)return rr(t,e,s)}return e.flags|=1,t=Br(i,r),t.ref=e.ref,t.return=e,e.child=t}function i1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ra(i,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,rr(t,e,s)}return Gf(t,e,n,r,s)}function o1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Pi,Gt),Gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Pi,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(Pi,Gt),Gt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Te(Pi,Gt),Gt|=r;return jt(t,e,s,n),e.child}function a1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gf(t,e,n,r,s){var i=Bt(n)?Os:Et.current;return i=Qi(e,i),Li(e,s),n=Vp(t,e,n,r,i,s),r=Op(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rr(t,e,s)):(Pe&&r&&Tp(e),e.flags|=1,jt(t,e,n,s),e.child)}function hv(t,e,n,r,s){if(Bt(n)){var i=!0;ru(e)}else i=!1;if(Li(e,s),e.stateNode===null)Pc(t,e),n1(e,n,r),Wf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=dn(d):(d=Bt(n)?Os:Et.current,d=Qi(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&ov(e,o,r,d),wr=!1;var p=e.memoizedState;o.state=p,lu(e,r,o,s),c=e.memoizedState,a!==r||p!==c||Ut.current||wr?(typeof h=="function"&&(qf(e,n,h,r),c=e.memoizedState),(a=wr||iv(e,n,a,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,VE(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:pn(e.type,a),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dn(c):(c=Bt(n)?Os:Et.current,c=Qi(e,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&ov(e,o,r,c),wr=!1,p=e.memoizedState,o.state=p,lu(e,r,o,s);var _=e.memoizedState;a!==f||p!==_||Ut.current||wr?(typeof x=="function"&&(qf(e,n,x,r),_=e.memoizedState),(d=wr||iv(e,n,d,r,p,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Qf(t,e,n,r,i,s)}function Qf(t,e,n,r,s,i){a1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&X0(e,n,!1),rr(t,e,i);r=e.stateNode,UC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xi(e,t.child,null,i),e.child=Xi(e,null,a,i)):jt(t,e,a,i),e.memoizedState=r.state,s&&X0(e,n,!0),e.child}function l1(t){var e=t.stateNode;e.pendingContext?Y0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y0(t,e.context,!1),kp(t,e.containerInfo)}function fv(t,e,n,r,s){return Yi(),bp(s),e.flags|=256,jt(t,e,n,r),e.child}var Yf={dehydrated:null,treeContext:null,retryLane:0};function Xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function c1(t,e,n){var r=e.pendingProps,s=Ae.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Te(Ae,s&1),t===null)return $f(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sd(o,r,0,null),t=Rs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Xf(n),e.memoizedState=Yf,t):Fp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return BC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Br(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Br(a,i):(i=Rs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Xf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Yf,r}return i=t.child,t=i.sibling,r=Br(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fp(t,e){return e=sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oc(t,e,n,r){return r!==null&&bp(r),Xi(e,t.child,null,n),t=Fp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Rh(Error(H(422))),oc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=sd({mode:"visible",children:r.children},s,0,null),i=Rs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xi(e,t.child,null,o),e.child.memoizedState=Xf(o),e.memoizedState=Yf,i);if(!(e.mode&1))return oc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Rh(i,r,void 0),oc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,nr(t,s),xn(r,t,s,-1))}return qp(),r=Rh(Error(H(421))),oc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=eA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qt=Mr(s.nextSibling),Xt=e,Pe=!0,yn=null,t!==null&&(an[ln++]=Hn,an[ln++]=qn,an[ln++]=Ms,Hn=t.id,qn=t.overflow,Ms=e),e=Fp(e,r.children),e.flags|=4096,e)}function mv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hf(t.return,e,n)}function jh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function u1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,n,e);else if(t.tag===19)mv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&cu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jh(e,!0,n,null,i);break;case"together":jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zC(t,e,n){switch(e.tag){case 3:l1(e),Yi();break;case 5:OE(e);break;case 1:Bt(e.type)&&ru(e);break;case 4:kp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Te(ou,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?c1(t,e,n):(Te(Ae,Ae.current&1),t=rr(t,e,n),t!==null?t.sibling:null);Te(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,o1(t,e,n)}return rr(t,e,n)}var d1,Jf,h1,f1;d1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jf=function(){};h1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Is(An.current);var i=null;switch(n){case"input":s=wf(t,s),r=wf(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=Tf(t,s),r=Tf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tu)}bf(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ba.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ba.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ie("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};f1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ho(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $C(t,e,n){var r=e.pendingProps;switch(Sp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Bt(e.type)&&nu(),mt(e),null;case 3:return r=e.stateNode,Ji(),Ne(Ut),Ne(Et),jp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(om(yn),yn=null))),Jf(t,e),mt(e),null;case 5:Rp(e);var s=Is(Ma.current);if(n=e.type,t!==null&&e.stateNode!=null)h1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return mt(e),null}if(t=Is(An.current),sc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Nn]=e,r[Va]=i,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Zo.length;s++)Ie(Zo[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":T0(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":b0(r,i),Ie("invalid",r)}bf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&rc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&rc(r.textContent,a,t),s=["children",""+a]):ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Ql(r),S0(r,i,!0);break;case"textarea":Ql(r),I0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=tu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[Va]=r,d1(t,e,!1,!1),e.stateNode=t;e:{switch(o=If(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),s=r;break;case"iframe":case"object":case"embed":Ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zo.length;s++)Ie(Zo[s],t);s=r;break;case"source":Ie("error",t),s=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=r;break;case"details":Ie("toggle",t),s=r;break;case"input":T0(t,r),s=wf(t,r),Ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":b0(t,r),s=Tf(t,r),Ie("invalid",t);break;default:s=r}bf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?H_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&z_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ia(t,c):typeof c=="number"&&Ia(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ba.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",t):c!=null&&cp(t,i,c,o))}switch(n){case"input":Ql(t),S0(t,r,!1);break;case"textarea":Ql(t),I0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Di(t,!!r.multiple,i,!1):r.defaultValue!=null&&Di(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)f1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Is(Ma.current),Is(An.current),sc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(i=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return mt(e),null;case 13:if(Ne(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Qt!==null&&e.mode&1&&!(e.flags&128))kE(),Yi(),e.flags|=98560,i=!1;else if(i=sc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Nn]=e}else Yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),i=!1}else yn!==null&&(om(yn),yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Qe===0&&(Qe=3):qp())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Ji(),Jf(t,e),t===null&&ja(e.stateNode.containerInfo),mt(e),null;case 10:return Pp(e.type._context),mt(e),null;case 17:return Bt(e.type)&&nu(),mt(e),null;case 19:if(Ne(Ae),i=e.memoizedState,i===null)return mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ho(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cu(t),o!==null){for(e.flags|=128,Ho(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(Ae,Ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ue()>eo&&(e.flags|=128,r=!0,Ho(i,!1),e.lanes=4194304)}else{if(!r)if(t=cu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ho(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return mt(e),null}else 2*Ue()-i.renderingStartTime>eo&&n!==1073741824&&(e.flags|=128,r=!0,Ho(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,n=Ae.current,Te(Ae,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Hp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function HC(t,e){switch(Sp(e),e.tag){case 1:return Bt(e.type)&&nu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ji(),Ne(Ut),Ne(Et),jp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rp(e),null;case 13:if(Ne(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Ae),null;case 4:return Ji(),null;case 10:return Pp(e.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var ac=!1,vt=!1,qC=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ni(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function Zf(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var pv=!1;function WC(t,e){if(Of=Jc,t=vE(),Ep(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(c=o),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mf={focusedElem:t,selectionRange:n},Jc=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var T=_.memoizedProps,S=_.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?T:pn(e.type,T),S);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(C){Oe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return _=pv,pv=!1,_}function ha(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zf(e,n,i)}s=s.next}while(s!==r)}}function nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function em(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function m1(t){var e=t.alternate;e!==null&&(t.alternate=null,m1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Va],delete e[Uf],delete e[PC],delete e[CC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p1(t){return t.tag===5||t.tag===3||t.tag===4}function gv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tu));else if(r!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}function nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nm(t,e,n),t=t.sibling;t!==null;)nm(t,e,n),t=t.sibling}var nt=null,gn=!1;function gr(t,e,n){for(n=n.child;n!==null;)g1(t,e,n),n=n.sibling}function g1(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Gu,n)}catch{}switch(n.tag){case 5:vt||Ni(n,e);case 6:var r=nt,s=gn;nt=null,gr(t,e,n),nt=r,gn=s,nt!==null&&(gn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(gn?(t=nt,n=n.stateNode,t.nodeType===8?Ih(t.parentNode,n):t.nodeType===1&&Ih(t,n),Aa(t)):Ih(nt,n.stateNode));break;case 4:r=nt,s=gn,nt=n.stateNode.containerInfo,gn=!0,gr(t,e,n),nt=r,gn=s;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zf(n,e,o),s=s.next}while(s!==r)}gr(t,e,n);break;case 1:if(!vt&&(Ni(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,e,a)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,gr(t,e,n),vt=r):gr(t,e,n);break;default:gr(t,e,n)}}function yv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qC),e.forEach(function(r){var s=tA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,gn=!1;break e;case 3:nt=a.stateNode.containerInfo,gn=!0;break e;case 4:nt=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(nt===null)throw Error(H(160));g1(i,o,s),nt=null,gn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Oe(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)y1(e,t),e=e.sibling}function y1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),Sn(t),r&4){try{ha(3,t,t.return),nd(3,t)}catch(T){Oe(t,t.return,T)}try{ha(5,t,t.return)}catch(T){Oe(t,t.return,T)}}break;case 1:mn(e,t),Sn(t),r&512&&n!==null&&Ni(n,n.return);break;case 5:if(mn(e,t),Sn(t),r&512&&n!==null&&Ni(n,n.return),t.flags&32){var s=t.stateNode;try{Ia(s,"")}catch(T){Oe(t,t.return,T)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&F_(s,i),If(a,o);var d=If(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?H_(s,f):h==="dangerouslySetInnerHTML"?z_(s,f):h==="children"?Ia(s,f):cp(s,h,f,d)}switch(a){case"input":_f(s,i);break;case"textarea":U_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Di(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?Di(s,!!i.multiple,i.defaultValue,!0):Di(s,!!i.multiple,i.multiple?[]:"",!1))}s[Va]=i}catch(T){Oe(t,t.return,T)}}break;case 6:if(mn(e,t),Sn(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(T){Oe(t,t.return,T)}}break;case 3:if(mn(e,t),Sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Aa(e.containerInfo)}catch(T){Oe(t,t.return,T)}break;case 4:mn(e,t),Sn(t);break;case 13:mn(e,t),Sn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zp=Ue())),r&4&&yv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(d=vt)||h,mn(e,t),vt=d):mn(e,t),Sn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(p=K,x=p.child,p.tag){case 0:case 11:case 14:case 15:ha(4,p,p.return);break;case 1:Ni(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(T){Oe(r,n,T)}}break;case 5:Ni(p,p.return);break;case 22:if(p.memoizedState!==null){xv(f);continue}}x!==null?(x.return=p,K=x):xv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=$_("display",o))}catch(T){Oe(t,t.return,T)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(T){Oe(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mn(e,t),Sn(t),r&4&&yv(t);break;case 21:break;default:mn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(p1(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ia(s,""),r.flags&=-33);var i=gv(t);nm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gv(t);tm(t,a,o);break;default:throw Error(H(161))}}catch(c){Oe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KC(t,e,n){K=t,v1(t)}function v1(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ac;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||vt;a=ac;var d=vt;if(ac=o,(vt=c)&&!d)for(K=s;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?wv(s):c!==null?(c.return=o,K=c):wv(s);for(;i!==null;)K=i,v1(i),i=i.sibling;K=s,ac=a,vt=d}vv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):vv(t)}}function vv(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Aa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}vt||e.flags&512&&em(e)}catch(p){Oe(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function xv(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function wv(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nd(4,e)}catch(c){Oe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Oe(e,s,c)}}var i=e.return;try{em(e)}catch(c){Oe(e,i,c)}break;case 5:var o=e.return;try{em(e)}catch(c){Oe(e,o,c)}}}catch(c){Oe(e,e.return,c)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var GC=Math.ceil,hu=ur.ReactCurrentDispatcher,Up=ur.ReactCurrentOwner,un=ur.ReactCurrentBatchConfig,pe=0,et=null,We=null,ot=0,Gt=0,Pi=ns(0),Qe=0,Ba=null,Fs=0,rd=0,Bp=0,fa=null,Mt=null,zp=0,eo=1/0,zn=null,fu=!1,rm=null,Fr=null,lc=!1,Ar=null,mu=0,ma=0,sm=null,Cc=-1,Ac=0;function Dt(){return pe&6?Ue():Cc!==-1?Cc:Cc=Ue()}function Ur(t){return t.mode&1?pe&2&&ot!==0?ot&-ot:kC.transition!==null?(Ac===0&&(Ac=nE()),Ac):(t=xe,t!==0||(t=window.event,t=t===void 0?16:cE(t.type)),t):1}function xn(t,e,n,r){if(50<ma)throw ma=0,sm=null,Error(H(185));ol(t,n,r),(!(pe&2)||t!==et)&&(t===et&&(!(pe&2)&&(rd|=n),Qe===4&&Tr(t,ot)),zt(t,r),n===1&&pe===0&&!(e.mode&1)&&(eo=Ue()+500,Zu&&rs()))}function zt(t,e){var n=t.callbackNode;kP(t,e);var r=Xc(t,t===et?ot:0);if(r===0)n!==null&&C0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&C0(n),e===1)t.tag===0?AC(_v.bind(null,t)):PE(_v.bind(null,t)),IC(function(){!(pe&6)&&rs()}),n=null;else{switch(rE(r)){case 1:n=mp;break;case 4:n=eE;break;case 16:n=Yc;break;case 536870912:n=tE;break;default:n=Yc}n=I1(n,x1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function x1(t,e){if(Cc=-1,Ac=0,pe&6)throw Error(H(327));var n=t.callbackNode;if(Fi()&&t.callbackNode!==n)return null;var r=Xc(t,t===et?ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pu(t,r);else{e=r;var s=pe;pe|=2;var i=_1();(et!==t||ot!==e)&&(zn=null,eo=Ue()+500,ks(t,e));do try{XC();break}catch(a){w1(t,a)}while(!0);Np(),hu.current=i,pe=s,We!==null?e=0:(et=null,ot=0,e=Qe)}if(e!==0){if(e===2&&(s=kf(t),s!==0&&(r=s,e=im(t,s))),e===1)throw n=Ba,ks(t,0),Tr(t,r),zt(t,Ue()),n;if(e===6)Tr(t,r);else{if(s=t.current.alternate,!(r&30)&&!QC(s)&&(e=pu(t,r),e===2&&(i=kf(t),i!==0&&(r=i,e=im(t,i))),e===1))throw n=Ba,ks(t,0),Tr(t,r),zt(t,Ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:vs(t,Mt,zn);break;case 3:if(Tr(t,r),(r&130023424)===r&&(e=zp+500-Ue(),10<e)){if(Xc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ff(vs.bind(null,t,Mt,zn),e);break}vs(t,Mt,zn);break;case 4:if(Tr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-vn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GC(r/1960))-r,10<r){t.timeoutHandle=Ff(vs.bind(null,t,Mt,zn),r);break}vs(t,Mt,zn);break;case 5:vs(t,Mt,zn);break;default:throw Error(H(329))}}}return zt(t,Ue()),t.callbackNode===n?x1.bind(null,t):null}function im(t,e){var n=fa;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=pu(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&om(e)),t}function om(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function QC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_n(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e){for(e&=~Bp,e&=~rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),r=1<<n;t[n]=-1,e&=~r}}function _v(t){if(pe&6)throw Error(H(327));Fi();var e=Xc(t,0);if(!(e&1))return zt(t,Ue()),null;var n=pu(t,e);if(t.tag!==0&&n===2){var r=kf(t);r!==0&&(e=r,n=im(t,r))}if(n===1)throw n=Ba,ks(t,0),Tr(t,e),zt(t,Ue()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vs(t,Mt,zn),zt(t,Ue()),null}function $p(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(eo=Ue()+500,Zu&&rs())}}function Us(t){Ar!==null&&Ar.tag===0&&!(pe&6)&&Fi();var e=pe;pe|=1;var n=un.transition,r=xe;try{if(un.transition=null,xe=1,t)return t()}finally{xe=r,un.transition=n,pe=e,!(pe&6)&&rs()}}function Hp(){Gt=Pi.current,Ne(Pi)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bC(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Sp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nu();break;case 3:Ji(),Ne(Ut),Ne(Et),jp();break;case 5:Rp(r);break;case 4:Ji();break;case 13:Ne(Ae);break;case 19:Ne(Ae);break;case 10:Pp(r.type._context);break;case 22:case 23:Hp()}n=n.return}if(et=t,We=t=Br(t.current,null),ot=Gt=e,Qe=0,Ba=null,Bp=rd=Fs=0,Mt=fa=null,bs!==null){for(e=0;e<bs.length;e++)if(n=bs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bs=null}return t}function w1(t,e){do{var n=We;try{if(Np(),Ic.current=du,uu){for(var r=Re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uu=!1}if(Ls=0,Ze=Ke=Re=null,da=!1,La=0,Up.current=null,n===null||n.return===null){Qe=1,Ba=e,We=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=ot,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=lv(o);if(x!==null){x.flags&=-257,cv(x,o,a,i,e),x.mode&1&&av(i,d,e),e=x,c=d;var _=e.updateQueue;if(_===null){var T=new Set;T.add(c),e.updateQueue=T}else _.add(c);break e}else{if(!(e&1)){av(i,d,e),qp();break e}c=Error(H(426))}}else if(Pe&&a.mode&1){var S=lv(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),cv(S,o,a,i,e),bp(Zi(c,a));break e}}i=c=Zi(c,a),Qe!==4&&(Qe=2),fa===null?fa=[i]:fa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=r1(i,c,e);tv(i,v);break e;case 1:a=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fr===null||!Fr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=s1(i,a,e);tv(i,C);break e}}i=i.return}while(i!==null)}T1(n)}catch(V){e=V,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function _1(){var t=hu.current;return hu.current=du,t===null?du:t}function qp(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(Fs&268435455)&&!(rd&268435455)||Tr(et,ot)}function pu(t,e){var n=pe;pe|=2;var r=_1();(et!==t||ot!==e)&&(zn=null,ks(t,e));do try{YC();break}catch(s){w1(t,s)}while(!0);if(Np(),pe=n,hu.current=r,We!==null)throw Error(H(261));return et=null,ot=0,Qe}function YC(){for(;We!==null;)E1(We)}function XC(){for(;We!==null&&!EP();)E1(We)}function E1(t){var e=b1(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?T1(t):We=e,Up.current=null}function T1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HC(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,We=null;return}}else if(n=$C(n,e,Gt),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Qe===0&&(Qe=5)}function vs(t,e,n){var r=xe,s=un.transition;try{un.transition=null,xe=1,JC(t,e,n,r)}finally{un.transition=s,xe=r}return null}function JC(t,e,n,r){do Fi();while(Ar!==null);if(pe&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(RP(t,i),t===et&&(We=et=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lc||(lc=!0,I1(Yc,function(){return Fi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=un.transition,un.transition=null;var o=xe;xe=1;var a=pe;pe|=4,Up.current=null,WC(t,n),y1(n,t),vC(Mf),Jc=!!Of,Mf=Of=null,t.current=n,KC(n),TP(),pe=a,xe=o,un.transition=i}else t.current=n;if(lc&&(lc=!1,Ar=t,mu=s),i=t.pendingLanes,i===0&&(Fr=null),IP(n.stateNode),zt(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fu)throw fu=!1,t=rm,rm=null,t;return mu&1&&t.tag!==0&&Fi(),i=t.pendingLanes,i&1?t===sm?ma++:(ma=0,sm=t):ma=0,rs(),null}function Fi(){if(Ar!==null){var t=rE(mu),e=un.transition,n=xe;try{if(un.transition=null,xe=16>t?16:t,Ar===null)var r=!1;else{if(t=Ar,Ar=null,mu=0,pe&6)throw Error(H(331));var s=pe;for(pe|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(K=d;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:ha(8,h,i)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var p=h.sibling,x=h.return;if(m1(h),h===d){K=null;break}if(p!==null){p.return=x,K=p;break}K=x}}}var _=i.alternate;if(_!==null){var T=_.child;if(T!==null){_.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ha(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,K=v;break e}K=i.return}}var y=t.current;for(K=y;K!==null;){o=K;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,K=w;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nd(9,a)}}catch(V){Oe(a,a.return,V)}if(a===o){K=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,K=C;break e}K=a.return}}if(pe=s,rs(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Gu,t)}catch{}r=!0}return r}finally{xe=n,un.transition=e}}return!1}function Ev(t,e,n){e=Zi(n,e),e=r1(t,e,1),t=Lr(t,e,1),e=Dt(),t!==null&&(ol(t,1,e),zt(t,e))}function Oe(t,e,n){if(t.tag===3)Ev(t,t,n);else for(;e!==null;){if(e.tag===3){Ev(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){t=Zi(n,t),t=s1(e,t,1),e=Lr(e,t,1),t=Dt(),e!==null&&(ol(e,1,t),zt(e,t));break}}e=e.return}}function ZC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(ot&n)===n&&(Qe===4||Qe===3&&(ot&130023424)===ot&&500>Ue()-zp?ks(t,0):Bp|=n),zt(t,e)}function S1(t,e){e===0&&(t.mode&1?(e=Jl,Jl<<=1,!(Jl&130023424)&&(Jl=4194304)):e=1);var n=Dt();t=nr(t,e),t!==null&&(ol(t,e,n),zt(t,n))}function eA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),S1(t,n)}function tA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),S1(t,n)}var b1;b1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,zC(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Pe&&e.flags&1048576&&CE(e,iu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pc(t,e),t=e.pendingProps;var s=Qi(e,Et.current);Li(e,n),s=Vp(null,e,r,t,s,n);var i=Op();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(i=!0,ru(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ap(e),s.updater=td,e.stateNode=s,s._reactInternals=e,Wf(e,r,t,n),e=Qf(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&Tp(e),jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=rA(r),t=pn(r,t),s){case 0:e=Gf(null,e,r,t,n);break e;case 1:e=hv(null,e,r,t,n);break e;case 11:e=uv(null,e,r,t,n);break e;case 14:e=dv(null,e,r,pn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Gf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),hv(t,e,r,s,n);case 3:e:{if(l1(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,VE(t,e),lu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zi(Error(H(423)),e),e=fv(t,e,r,n,s);break e}else if(r!==s){s=Zi(Error(H(424)),e),e=fv(t,e,r,n,s);break e}else for(Qt=Mr(e.stateNode.containerInfo.firstChild),Xt=e,Pe=!0,yn=null,n=jE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yi(),r===s){e=rr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return OE(e),t===null&&$f(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lf(r,s)?o=null:i!==null&&Lf(r,i)&&(e.flags|=32),a1(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&$f(e),null;case 13:return c1(t,e,n);case 4:return kp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xi(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),uv(t,e,r,s,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Te(ou,r._currentValue),r._currentValue=o,i!==null)if(_n(i.value,o)){if(i.children===s.children&&!Ut.current){e=rr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Yn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Hf(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Li(e,n),s=dn(s),r=r(s),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,s=pn(r,e.pendingProps),s=pn(r.type,s),dv(t,e,r,s,n);case 15:return i1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Pc(t,e),e.tag=1,Bt(r)?(t=!0,ru(e)):t=!1,Li(e,n),n1(e,r,s),Wf(e,r,s,n),Qf(null,e,r,!0,t,n);case 19:return u1(t,e,n);case 22:return o1(t,e,n)}throw Error(H(156,e.tag))};function I1(t,e){return Z_(t,e)}function nA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new nA(t,e,n,r)}function Wp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rA(t){if(typeof t=="function")return Wp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dp)return 11;if(t===hp)return 14}return 2}function Br(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Wp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vi:return Rs(n.children,s,i,e);case up:o=8,s|=8;break;case gf:return t=cn(12,n,e,s|2),t.elementType=gf,t.lanes=i,t;case yf:return t=cn(13,n,e,s),t.elementType=yf,t.lanes=i,t;case vf:return t=cn(19,n,e,s),t.elementType=vf,t.lanes=i,t;case O_:return sd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D_:o=10;break e;case V_:o=9;break e;case dp:o=11;break e;case hp:o=14;break e;case xr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=cn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Rs(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function sd(t,e,n,r){return t=cn(22,t,r,e),t.elementType=O_,t.lanes=n,t.stateNode={isHidden:!1},t}function Dh(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Vh(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ph(0),this.expirationTimes=ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ph(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kp(t,e,n,r,s,i,o,a,c){return t=new sA(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(i),t}function iA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N1(t){if(!t)return Qr;t=t._reactInternals;e:{if(Js(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Bt(n))return NE(t,n,e)}return e}function P1(t,e,n,r,s,i,o,a,c){return t=Kp(n,r,!0,t,s,i,o,a,c),t.context=N1(null),n=t.current,r=Dt(),s=Ur(n),i=Yn(r,s),i.callback=e??null,Lr(n,i,s),t.current.lanes=s,ol(t,s,r),zt(t,r),t}function id(t,e,n,r){var s=e.current,i=Dt(),o=Ur(s);return n=N1(n),e.context===null?e.context=n:e.pendingContext=n,e=Yn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lr(s,e,o),t!==null&&(xn(t,s,o,i),bc(t,s,o)),o}function gu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gp(t,e){Tv(t,e),(t=t.alternate)&&Tv(t,e)}function oA(){return null}var C1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qp(t){this._internalRoot=t}od.prototype.render=Qp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));id(t,e,null,null)};od.prototype.unmount=Qp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Us(function(){id(null,t,null,null)}),e[tr]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var e=oE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Er.length&&e!==0&&e<Er[n].priority;n++);Er.splice(n,0,t),n===0&&lE(t)}};function Yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function aA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=gu(o);i.call(d)}}var o=P1(e,r,t,0,null,!1,!1,"",Sv);return t._reactRootContainer=o,t[tr]=o.current,ja(t.nodeType===8?t.parentNode:t),Us(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=gu(c);a.call(d)}}var c=Kp(t,0,!1,null,null,!1,!1,"",Sv);return t._reactRootContainer=c,t[tr]=c.current,ja(t.nodeType===8?t.parentNode:t),Us(function(){id(e,c,n,r)}),c}function ld(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=gu(o);a.call(c)}}id(e,o,t,s)}else o=aA(n,e,t,s,r);return gu(o)}sE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jo(e.pendingLanes);n!==0&&(pp(e,n|1),zt(e,Ue()),!(pe&6)&&(eo=Ue()+500,rs()))}break;case 13:Us(function(){var r=nr(t,1);if(r!==null){var s=Dt();xn(r,t,1,s)}}),Gp(t,1)}};gp=function(t){if(t.tag===13){var e=nr(t,134217728);if(e!==null){var n=Dt();xn(e,t,134217728,n)}Gp(t,134217728)}};iE=function(t){if(t.tag===13){var e=Ur(t),n=nr(t,e);if(n!==null){var r=Dt();xn(n,t,e,r)}Gp(t,e)}};oE=function(){return xe};aE=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Pf=function(t,e,n){switch(e){case"input":if(_f(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ju(r);if(!s)throw Error(H(90));L_(r),_f(r,s)}}}break;case"textarea":U_(t,n);break;case"select":e=n.value,e!=null&&Di(t,!!n.multiple,e,!1)}};K_=$p;G_=Us;var lA={usingClientEntryPoint:!1,Events:[ll,Ei,Ju,q_,W_,$p]},qo={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cA={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X_(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||oA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Gu=cc.inject(cA),Cn=cc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yp(e))throw Error(H(200));return iA(t,e,null,n)};tn.createRoot=function(t,e){if(!Yp(t))throw Error(H(299));var n=!1,r="",s=C1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Kp(t,1,!1,null,null,n,!1,r,s),t[tr]=e.current,ja(t.nodeType===8?t.parentNode:t),new Qp(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=X_(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return Us(t)};tn.hydrate=function(t,e,n){if(!ad(e))throw Error(H(200));return ld(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!Yp(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=C1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=P1(e,null,t,1,n??null,s,!1,i,o),t[tr]=e.current,ja(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new od(e)};tn.render=function(t,e,n){if(!ad(e))throw Error(H(200));return ld(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!ad(t))throw Error(H(40));return t._reactRootContainer?(Us(function(){ld(null,null,t,!1,function(){t._reactRootContainer=null,t[tr]=null})}),!0):!1};tn.unstable_batchedUpdates=$p;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ad(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return ld(t,e,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function A1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A1)}catch(t){console.error(t)}}A1(),A_.exports=tn;var uA=A_.exports,bv=uA;mf.createRoot=bv.createRoot,mf.hydrateRoot=bv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},za.apply(this,arguments)}var kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kr||(kr={}));const Iv="popstate";function dA(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return am("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:yu(s)}return fA(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hA(){return Math.random().toString(36).substr(2,8)}function Nv(t,e){return{usr:t.state,key:t.key,idx:e}}function am(t,e,n,r){return n===void 0&&(n=null),za({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?go(e):e,{state:n,key:e&&e.key||r||hA()})}function yu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function go(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=kr.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(za({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=kr.Pop;let S=h(),v=S==null?null:S-d;d=S,c&&c({action:a,location:T.location,delta:v})}function p(S,v){a=kr.Push;let y=am(T.location,S,v);d=h()+1;let w=Nv(y,d),C=T.createHref(y);try{o.pushState(w,"",C)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(C)}i&&c&&c({action:a,location:T.location,delta:1})}function x(S,v){a=kr.Replace;let y=am(T.location,S,v);d=h();let w=Nv(y,d),C=T.createHref(y);o.replaceState(w,"",C),i&&c&&c({action:a,location:T.location,delta:0})}function _(S){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof S=="string"?S:yu(S);return y=y.replace(/ $/,"%20"),ze(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let T={get action(){return a},get location(){return t(s,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Iv,f),c=S,()=>{s.removeEventListener(Iv,f),c=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let v=_(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:x,go(S){return o.go(S)}};return T}var Pv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pv||(Pv={}));function mA(t,e,n){return n===void 0&&(n="/"),pA(t,e,n)}function pA(t,e,n,r){let s=typeof e=="string"?go(e):e,i=Xp(s.pathname||"/",n);if(i==null)return null;let o=R1(t);gA(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=PA(i);a=bA(o[c],d)}return a}function R1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ze(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=zr([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),R1(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:TA(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of j1(i.path))s(i,o,c)}),e}function j1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=j1(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function gA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yA=/^:[\w-]+$/,vA=3,xA=2,wA=1,_A=10,EA=-2,Cv=t=>t==="*";function TA(t,e){let n=t.split("/"),r=n.length;return n.some(Cv)&&(r+=EA),e&&(r+=xA),n.filter(s=>!Cv(s)).reduce((s,i)=>s+(yA.test(i)?vA:i===""?wA:_A),r)}function SA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bA(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=IA({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:zr([i,f.pathname]),pathnameBase:RA(zr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=zr([i,f.pathnameBase]))}return o}function IA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:x}=h;if(p==="*"){let T=a[f]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const _=a[f];return x&&!_?d[p]=void 0:d[p]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function NA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),k1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function PA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return k1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?go(t):t;return{pathname:n?n.startsWith("/")?n:AA(n,e):e,search:jA(r),hash:DA(s)}}function AA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Oh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jp(t,e){let n=kA(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zp(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=go(t):(s=za({},t),ze(!s.pathname||!s.pathname.includes("?"),Oh("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),Oh("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),Oh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=CA(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const zr=t=>t.join("/").replace(/\/\/+/g,"/"),RA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const D1=["post","put","patch","delete"];new Set(D1);const OA=["get",...D1];new Set(OA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}const eg=j.createContext(null),MA=j.createContext(null),ss=j.createContext(null),cd=j.createContext(null),is=j.createContext({outlet:null,matches:[],isDataRoute:!1}),V1=j.createContext(null);function LA(t,e){let{relative:n}=e===void 0?{}:e;yo()||ze(!1);let{basename:r,navigator:s}=j.useContext(ss),{hash:i,pathname:o,search:a}=M1(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:zr([r,o])),s.createHref({pathname:c,search:a,hash:i})}function yo(){return j.useContext(cd)!=null}function ul(){return yo()||ze(!1),j.useContext(cd).location}function O1(t){j.useContext(ss).static||j.useLayoutEffect(t)}function dl(){let{isDataRoute:t}=j.useContext(is);return t?XA():FA()}function FA(){yo()||ze(!1);let t=j.useContext(eg),{basename:e,future:n,navigator:r}=j.useContext(ss),{matches:s}=j.useContext(is),{pathname:i}=ul(),o=JSON.stringify(Jp(s,n.v7_relativeSplatPath)),a=j.useRef(!1);return O1(()=>{a.current=!0}),j.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=Zp(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:zr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function M1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(ss),{matches:s}=j.useContext(is),{pathname:i}=ul(),o=JSON.stringify(Jp(s,r.v7_relativeSplatPath));return j.useMemo(()=>Zp(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function UA(t,e){return BA(t,e)}function BA(t,e,n,r){yo()||ze(!1);let{navigator:s}=j.useContext(ss),{matches:i}=j.useContext(is),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ul(),h;if(e){var f;let S=typeof e=="string"?go(e):e;c==="/"||(f=S.pathname)!=null&&f.startsWith(c)||ze(!1),h=S}else h=d;let p=h.pathname||"/",x=p;if(c!=="/"){let S=c.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=mA(t,{pathname:x}),T=WA(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:zr([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:zr([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&T?j.createElement(cd.Provider,{value:{location:$a({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:kr.Pop}},T):T}function zA(){let t=YA(),e=VA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,null)}const $A=j.createElement(zA,null);class HA extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(is.Provider,{value:this.props.routeContext},j.createElement(V1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qA(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(eg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(is.Provider,{value:e},r)}function WA(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||ze(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:x}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||_){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let x,_=!1,T=null,S=null;n&&(x=a&&f.route.id?a[f.route.id]:void 0,T=f.route.errorElement||$A,c&&(d<0&&p===0?(JA("route-fallback"),_=!0,S=null):d===p&&(_=!0,S=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),y=()=>{let w;return x?w=T:_?w=S:f.route.Component?w=j.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,j.createElement(qA,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?j.createElement(HA,{location:n.location,revalidation:n.revalidation,component:T,error:x,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var L1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(L1||{}),F1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(F1||{});function KA(t){let e=j.useContext(eg);return e||ze(!1),e}function GA(t){let e=j.useContext(MA);return e||ze(!1),e}function QA(t){let e=j.useContext(is);return e||ze(!1),e}function U1(t){let e=QA(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function YA(){var t;let e=j.useContext(V1),n=GA(),r=U1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XA(){let{router:t}=KA(L1.UseNavigateStable),e=U1(F1.UseNavigateStable),n=j.useRef(!1);return O1(()=>{n.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,$a({fromRouteId:e},i)))},[t,e])}const Av={};function JA(t,e,n){Av[t]||(Av[t]=!0)}function ZA(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function kv(t){let{to:e,replace:n,state:r,relative:s}=t;yo()||ze(!1);let{future:i,static:o}=j.useContext(ss),{matches:a}=j.useContext(is),{pathname:c}=ul(),d=dl(),h=Zp(e,Jp(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return j.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function xs(t){ze(!1)}function ek(t){let{basename:e="/",children:n=null,location:r,navigationType:s=kr.Pop,navigator:i,static:o=!1,future:a}=t;yo()&&ze(!1);let c=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:i,static:o,future:$a({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=go(r));let{pathname:h="/",search:f="",hash:p="",state:x=null,key:_="default"}=r,T=j.useMemo(()=>{let S=Xp(h,c);return S==null?null:{location:{pathname:S,search:f,hash:p,state:x,key:_},navigationType:s}},[c,h,f,p,x,_,s]);return T==null?null:j.createElement(ss.Provider,{value:d},j.createElement(cd.Provider,{children:n,value:T}))}function Rv(t){let{children:e,location:n}=t;return UA(lm(e),n)}new Promise(()=>{});function lm(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,lm(r.props.children,i));return}r.type!==xs&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function tk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function nk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rk(t,e){return t.button===0&&(!e||e==="_self")&&!nk(t)}const sk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ik="6";try{window.__reactRouterVersion=ik}catch{}const ok="startTransition",jv=ZN[ok];function ak(t){let{basename:e,children:n,future:r,window:s}=t,i=j.useRef();i.current==null&&(i.current=dA({window:s,v5Compat:!0}));let o=i.current,[a,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=j.useCallback(f=>{d&&jv?jv(()=>c(f)):c(f)},[c,d]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.useEffect(()=>ZA(r),[r]),j.createElement(ek,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const lk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ck=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B1=j.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,p=tk(e,sk),{basename:x}=j.useContext(ss),_,T=!1;if(typeof d=="string"&&ck.test(d)&&(_=d,lk))try{let w=new URL(window.location.href),C=d.startsWith("//")?new URL(w.protocol+d):new URL(d),V=Xp(C.pathname,x);C.origin===w.origin&&V!=null?d=V+C.search+C.hash:T=!0}catch{}let S=LA(d,{relative:s}),v=uk(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function y(w){r&&r(w),w.defaultPrevented||v(w)}return j.createElement("a",cm({},p,{href:_||S,onClick:T||i?r:y,ref:n,target:c}))});var Dv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dv||(Dv={}));var Vv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Vv||(Vv={}));function uk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=dl(),d=ul(),h=M1(t,{relative:o});return j.useCallback(f=>{if(rk(f,n)){f.preventDefault();let p=r!==void 0?r:yu(d)===yu(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,h,r,s,n,t,i,o,a])}var Ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,x=d&63;c||(x=64,o||(p=64)),r.push(n[h],n[f],n[p],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new hk;const p=i<<2|a>>4;if(r.push(p),d!==64){const x=a<<4&240|d>>2;if(r.push(x),f!==64){const _=d<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fk=function(t){const e=z1(t);return $1.encodeByteArray(e,!0)},vu=function(t){return fk(t).replace(/\./g,"")},H1=function(t){try{return $1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=()=>mk().__FIREBASE_DEFAULTS__,gk=()=>{if(typeof process>"u"||typeof Ov>"u")return;const t=Ov.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H1(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return pk()||gk()||yk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},q1=t=>{var e,n;return(n=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vk=t=>{const e=q1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},W1=()=>{var t;return(t=ud())===null||t===void 0?void 0:t.config},K1=t=>{var e;return(e=ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vu(JSON.stringify(n)),vu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function Ek(){var t;const e=(t=ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ik(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nk(){return!Ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ck(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ak,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?kk(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new dr(s,a,r)}}function kk(t,e){return t.replace(Rk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Rk=/\{\$([^}]+)}/g;function jk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Mv(i)&&Mv(o)){if(!xu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Mv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ta(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Dk(t,e){const n=new Vk(t,e);return n.subscribe.bind(n)}class Vk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ok(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Mh),s.error===void 0&&(s.error=Mh),s.complete===void 0&&(s.complete=Mh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ok(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fk(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lk(t){return t===ws?void 0:t}function Fk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const Bk={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},zk=he.INFO,$k={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},Hk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$k[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=zk,this._logHandler=Hk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const qk=(t,e)=>e.some(n=>t instanceof n);let Lv,Fv;function Wk(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kk(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G1=new WeakMap,um=new WeakMap,Q1=new WeakMap,Lh=new WeakMap,ng=new WeakMap;function Gk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($r(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&G1.set(n,t)}).catch(()=>{}),ng.set(e,t),e}function Qk(t){if(um.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});um.set(t,e)}let dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yk(t){dm=t(dm)}function Xk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fh(this),e,...n);return Q1.set(r,e.sort?e.sort():[e]),$r(r)}:Kk().includes(t)?function(...e){return t.apply(Fh(this),e),$r(G1.get(this))}:function(...e){return $r(t.apply(Fh(this),e))}}function Jk(t){return typeof t=="function"?Xk(t):(t instanceof IDBTransaction&&Qk(t),qk(t,Wk())?new Proxy(t,dm):t)}function $r(t){if(t instanceof IDBRequest)return Gk(t);if(Lh.has(t))return Lh.get(t);const e=Jk(t);return e!==t&&(Lh.set(t,e),ng.set(e,t)),e}const Fh=t=>ng.get(t);function Zk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$r(o);return r&&o.addEventListener("upgradeneeded",c=>{r($r(o.result),c.oldVersion,c.newVersion,$r(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const eR=["get","getKey","getAll","getAllKeys","count"],tR=["put","add","delete","clear"],Uh=new Map;function Uv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uh.get(e))return Uh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=tR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eR.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Uh.set(e,i),i}Yk(t=>({...t,get:(e,n,r)=>Uv(e,n)||t.get(e,n,r),has:(e,n)=>!!Uv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hm="@firebase/app",Bv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new tg("@firebase/app"),sR="@firebase/app-compat",iR="@firebase/analytics-compat",oR="@firebase/analytics",aR="@firebase/app-check-compat",lR="@firebase/app-check",cR="@firebase/auth",uR="@firebase/auth-compat",dR="@firebase/database",hR="@firebase/data-connect",fR="@firebase/database-compat",mR="@firebase/functions",pR="@firebase/functions-compat",gR="@firebase/installations",yR="@firebase/installations-compat",vR="@firebase/messaging",xR="@firebase/messaging-compat",wR="@firebase/performance",_R="@firebase/performance-compat",ER="@firebase/remote-config",TR="@firebase/remote-config-compat",SR="@firebase/storage",bR="@firebase/storage-compat",IR="@firebase/firestore",NR="@firebase/vertexai-preview",PR="@firebase/firestore-compat",CR="firebase",AR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",kR={[hm]:"fire-core",[sR]:"fire-core-compat",[oR]:"fire-analytics",[iR]:"fire-analytics-compat",[lR]:"fire-app-check",[aR]:"fire-app-check-compat",[cR]:"fire-auth",[uR]:"fire-auth-compat",[dR]:"fire-rtdb",[hR]:"fire-data-connect",[fR]:"fire-rtdb-compat",[mR]:"fire-fn",[pR]:"fire-fn-compat",[gR]:"fire-iid",[yR]:"fire-iid-compat",[vR]:"fire-fcm",[xR]:"fire-fcm-compat",[wR]:"fire-perf",[_R]:"fire-perf-compat",[ER]:"fire-rc",[TR]:"fire-rc-compat",[SR]:"fire-gcs",[bR]:"fire-gcs-compat",[IR]:"fire-fst",[PR]:"fire-fst-compat",[NR]:"fire-vertex","fire-js":"fire-js",[CR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Map,RR=new Map,mm=new Map;function zv(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function to(t){const e=t.name;if(mm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,t);for(const n of wu.values())zv(n,t);for(const n of RR.values())zv(n,t);return!0}function rg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new hl("app","Firebase",jR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=AR;function Y1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Hr.create("bad-app-name",{appName:String(s)});if(n||(n=W1()),!n)throw Hr.create("no-options");const i=wu.get(s);if(i){if(xu(n,i.options)&&xu(r,i.config))return i;throw Hr.create("duplicate-app",{appName:s})}const o=new Uk(s);for(const c of mm.values())o.addComponent(c);const a=new DR(n,r,o);return wu.set(s,a),a}function X1(t=fm){const e=wu.get(t);if(!e&&t===fm&&W1())return Y1();if(!e)throw Hr.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let s=(r=kR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(a.join(" "));return}to(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firebase-heartbeat-database",OR=1,Ha="firebase-heartbeat-store";let Bh=null;function J1(){return Bh||(Bh=Zk(VR,OR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ha)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Bh}async function MR(t){try{const n=(await J1()).transaction(Ha),r=await n.objectStore(Ha).get(Z1(t));return await n.done,r}catch(e){if(e instanceof dr)sr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function $v(t,e){try{const r=(await J1()).transaction(Ha,"readwrite");await r.objectStore(Ha).put(e,Z1(t)),await r.done}catch(n){if(n instanceof dr)sr.warn(n.message);else{const r=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(r.message)}}}function Z1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=1024,FR=30*24*60*60*1e3;class UR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=FR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hv(),{heartbeatsToSend:r,unsentEntries:s}=BR(this._heartbeatsCache.heartbeats),i=vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return sr.warn(n),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function BR(t,e=LR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),qv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pk()?Ck().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qv(t){return vu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){to(new Bs("platform-logger",e=>new nR(e),"PRIVATE")),to(new Bs("heartbeat",e=>new UR(e),"PRIVATE")),qr(hm,Bv,t),qr(hm,Bv,"esm2017"),qr("fire-js","")}$R("");function sg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HR=eT,tT=new hl("auth","Firebase",eT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new tg("@firebase/auth");function qR(t,...e){_u.logLevel<=he.WARN&&_u.warn(`Auth (${vo}): ${t}`,...e)}function Rc(t,...e){_u.logLevel<=he.ERROR&&_u.error(`Auth (${vo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw ig(t,...e)}function kn(t,...e){return ig(t,...e)}function nT(t,e,n){const r=Object.assign(Object.assign({},HR()),{[e]:n});return new hl("auth","Firebase",r).create(e,{appName:t.name})}function Xn(t){return nT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tT.create(t,...e)}function ee(t,e,...n){if(!t)throw ig(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rc(e),new Error(e)}function ir(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WR(){return Wv()==="http:"||Wv()==="https:"}function Wv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WR()||Sk()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=_k()||bk()}get(){return KR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e){ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new ml(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function as(t,e,n,r,s={}){return sT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return Tk()||(d.referrerPolicy="no-referrer"),rT.fetch()(iT(t,t.config.apiHost,n,a),d)})}async function sT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QR),e);try{const s=new JR(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw uc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw uc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw uc(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw nT(t,h,d);En(t,h)}}catch(s){if(s instanceof dr)throw s;En(t,"network-request-failed",{message:String(s)})}}async function pl(t,e,n,r,s={}){const i=await as(t,e,n,r,s);return"mfaPendingCredential"in i&&En(t,"multi-factor-auth-required",{_serverResponse:i}),i}function iT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?og(t.config,s):`${t.config.apiScheme}://${s}`}function XR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),YR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=kn(t,e,r);return s.customData._tokenResponse=n,s}function Kv(t){return t!==void 0&&t.enterprise!==void 0}class ZR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function e2(t,e){return as(t,"GET","/v2/recaptchaConfig",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e){return as(t,"POST","/v1/accounts:delete",e)}async function oT(t,e){return as(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n2(t,e=!1){const n=St(t),r=await n.getIdToken(e),s=ag(r);ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:pa(zh(s.auth_time)),issuedAtTime:pa(zh(s.iat)),expirationTime:pa(zh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function zh(t){return Number(t)*1e3}function ag(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const s=H1(n);return s?JSON.parse(s):(Rc("Failed to decode base64 JWT payload"),null)}catch(s){return Rc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Gv(t){const e=ag(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&r2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await qa(t,oT(n,{idToken:r}));ee(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?aT(i.providerUserInfo):[],a=o2(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function i2(t){const e=St(t);await Eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function aT(t){return t.map(e=>{var{providerId:n}=e,r=sg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e){const n=await sT(t,{},async()=>{const r=fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=iT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l2(t,e){return as(t,"POST","/v2/accounts:revokeToken",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=Gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await a2(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ui;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ee(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ee(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ui,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await qa(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n2(this,e)}reload(){return i2(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Xn(this.auth));const e=await this.getIdToken();return await qa(this,t2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:C,isAnonymous:V,providerData:k,stsTokenManager:b}=n;ee(w&&b,e,"internal-error");const E=Ui.fromJSON(this.name,b);ee(typeof w=="string",e,"internal-error"),yr(f,e.name),yr(p,e.name),ee(typeof C=="boolean",e,"internal-error"),ee(typeof V=="boolean",e,"internal-error"),yr(x,e.name),yr(_,e.name),yr(T,e.name),yr(S,e.name),yr(v,e.name),yr(y,e.name);const P=new Kn({uid:w,auth:e,email:p,emailVerified:C,displayName:f,isAnonymous:V,photoURL:_,phoneNumber:x,tenantId:T,stsTokenManager:E,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(P.providerData=k.map(N=>Object.assign({},N))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ui;s.updateFromServerResponse(n);const i=new Kn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Eu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ee(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?aT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ui;a.updateFromIdToken(r);const c=new Kn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new gm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;function Gn(t){ir(t instanceof Function,"Expected a class definition");let e=Qv.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lT.type="NONE";const Yv=lT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Bi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=jc(this.userKey,s.apiKey,i),this.fullPersistenceKey=jc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Kn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bi(Gn(Yv),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Gn(Yv);const o=jc(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){const f=Kn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Bi(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Bi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mT(e))return"Blackberry";if(pT(e))return"Webos";if(uT(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cT(t=Tt()){return/firefox\//i.test(t)}function uT(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(t=Tt()){return/crios\//i.test(t)}function hT(t=Tt()){return/iemobile/i.test(t)}function fT(t=Tt()){return/android/i.test(t)}function mT(t=Tt()){return/blackberry/i.test(t)}function pT(t=Tt()){return/webos/i.test(t)}function lg(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c2(t=Tt()){var e;return lg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u2(){return Ik()&&document.documentMode===10}function gT(t=Tt()){return lg(t)||fT(t)||pT(t)||mT(t)||/windows phone/i.test(t)||hT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t,e=[]){let n;switch(t){case"Browser":n=Xv(Tt());break;case"Worker":n=`${Xv(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e={}){return as(t,"GET","/v2/passwordPolicy",os(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=6;class m2{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:f2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new d2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Bi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oT(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Xn(this));const n=e?St(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h2(this),n=new m2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gn(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zs(t){return St(t)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Dk(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g2(t){dd=t}function vT(t){return dd.loadJS(t)}function y2(){return dd.recaptchaEnterpriseScript}function v2(){return dd.gapiScript}function x2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const w2="recaptcha-enterprise",_2="NO_RECAPTCHA";class E2{constructor(e){this.type=w2,this.auth=Zs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{e2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new ZR(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;Kv(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(_2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Kv(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=y2();c.length!==0&&(c+=a),vT(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function Zv(t,e,n,r=!1){const s=new E2(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ym(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Zv(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Zv(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e){const n=rg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(xu(i,e??{}))return s;En(s,"already-initialized")}return n.initialize({options:e})}function S2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b2(t,e,n){const r=Zs(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=xT(e),{host:o,port:a}=I2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),N2()}function xT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I2(t){const e=xT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ex(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ex(o)}}}function ex(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function N2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function P2(t,e){return as(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,e){return pl(t,"POST","/v1/accounts:signInWithPassword",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(t,e){return pl(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}async function k2(t,e){return pl(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends cg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Wa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,n,"signInWithPassword",C2);case"emailLink":return A2(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,r,"signUpPassword",P2);case"emailLink":return k2(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t,e){return pl(t,"POST","/v1/accounts:signInWithIdp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="http://localhost";class zs extends cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=sg(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new zs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}buildRequest(){const e={requestUri:R2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D2(t){const e=ea(ta(t)).link,n=e?ea(ta(e)).deep_link_id:null,r=ea(ta(t)).deep_link_id;return(r?ea(ta(r)).link:null)||r||n||e||t}class ug{constructor(e){var n,r,s,i,o,a;const c=ea(ta(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=j2((s=c.mode)!==null&&s!==void 0?s:null);ee(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=D2(e);try{return new ug(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return Wa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ug.parseLink(n);return ee(r,"argument-error"),Wa._fromEmailAndCode(e,r.code,r.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends gl{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends gl{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends gl{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t,e){return pl(t,"POST","/v1/accounts:signUp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Kn._fromIdTokenResponse(e,r,s),o=tx(r);return new $s({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=tx(r);return new $s({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function tx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends dr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Tu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Tu(e,n,r,s)}}function _T(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Tu._fromErrorAndOperation(t,i,e,r):i})}async function O2(t,e,n=!1){const r=await qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e,n=!1){const{auth:r}=t;if(Pn(r.app))return Promise.reject(Xn(r));const s="reauthenticate";try{const i=await qa(t,_T(r,s,e,t),n);ee(i.idToken,r,"internal-error");const o=ag(i.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),$s._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&En(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(t,e,n=!1){if(Pn(t.app))return Promise.reject(Xn(t));const r="signIn",s=await _T(t,r,e),i=await $s._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function L2(t,e){return ET(Zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(t){const e=Zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F2(t,e,n){if(Pn(t.app))return Promise.reject(Xn(t));const r=Zs(t),o=await ym(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V2).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&TT(t),c}),a=await $s._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function U2(t,e,n){return Pn(t.app)?Promise.reject(Xn(t)):L2(St(t),xo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TT(t),r})}function B2(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function z2(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function $2(t,e,n,r){return St(t).onAuthStateChanged(e,n,r)}function H2(t){return St(t).signOut()}const Su="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Su,"1"),this.storage.removeItem(Su),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=1e3,W2=10;class bT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);u2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,W2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bT.type="LOCAL";const K2=bT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IT.type="SESSION";const NT=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await G2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=dg("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function Y2(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function X2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z2(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebaseLocalStorageDb",ej=1,bu="firebaseLocalStorage",AT="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(t,e){return t.transaction([bu],e?"readwrite":"readonly").objectStore(bu)}function tj(){const t=indexedDB.deleteDatabase(CT);return new yl(t).toPromise()}function vm(){const t=indexedDB.open(CT,ej);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bu,{keyPath:AT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bu)?e(r):(r.close(),await tj(),e(await vm()))})})}async function nx(t,e,n){const r=fd(t,!0).put({[AT]:e,value:n});return new yl(r).toPromise()}async function nj(t,e){const n=fd(t,!1).get(e),r=await new yl(n).toPromise();return r===void 0?null:r.value}function rx(t,e){const n=fd(t,!0).delete(e);return new yl(n).toPromise()}const rj=800,sj=3;class kT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(Z2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X2(),!this.activeServiceWorker)return;this.sender=new Q2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await nx(e,Su,"1"),await rx(e,Su),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=fd(s,!1).getAll();return new yl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kT.type="LOCAL";const ij=kT;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t,e){return e?Gn(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aj(t){return ET(t.auth,new hg(t),t.bypassAuthState)}function lj(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),M2(n,new hg(t),t.bypassAuthState)}async function cj(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),O2(n,new hg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aj;case"linkViaPopup":case"linkViaRedirect":return cj;case"reauthViaPopup":case"reauthViaRedirect":return lj;default:En(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new ml(2e3,1e4);class Ci extends RT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ci.currentPopupAction&&Ci.currentPopupAction.cancel(),Ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uj.get())};e()}}Ci.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="pendingRedirect",Dc=new Map;class hj extends RT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const r=await fj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fj(t,e){const n=gj(e),r=pj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function mj(t,e){Dc.set(t._key(),e)}function pj(t){return Gn(t._redirectPersistence)}function gj(t){return jc(dj,t.config.apiKey,t.name)}async function yj(t,e,n=!1){if(Pn(t.app))return Promise.reject(Xn(t));const r=Zs(t),s=oj(r,e),o=await new hj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=10*60*1e3;class xj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vj&&this.cachedEventUids.clear(),this.cachedEventUids.has(sx(e))}saveEventToCache(e){this.cachedEventUids.add(sx(e)),this.lastProcessedEventTime=Date.now()}}function sx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e={}){return as(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tj=/^https?/;async function Sj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _j(t);for(const n of e)try{if(bj(n))return}catch{}En(t,"unauthorized-domain")}function bj(t){const e=pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Tj.test(n))return!1;if(Ej.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new ml(3e4,6e4);function ix(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Nj(t){return new Promise((e,n)=>{var r,s,i;function o(){ix(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ix(),n(kn(t,"network-request-failed"))},timeout:Ij.get()})}if(!((s=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Rn().gapi)===null||i===void 0)&&i.load)o();else{const a=x2("iframefcb");return Rn()[a]=()=>{gapi.load?o():n(kn(t,"network-request-failed"))},vT(`${v2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function Pj(t){return Vc=Vc||Nj(t),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new ml(5e3,15e3),Aj="__/auth/iframe",kj="emulator/auth/iframe",Rj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dj(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?og(e,kj):`https://${t.config.authDomain}/${Aj}`,r={apiKey:e.apiKey,appName:t.name,v:vo},s=jj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fl(r).slice(1)}`}async function Vj(t){const e=await Pj(t),n=Rn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:Dj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),a=Rn().setTimeout(()=>{i(o)},Cj.get());function c(){Rn().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mj=500,Lj=600,Fj="_blank",Uj="http://localhost";class ox{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bj(t,e,n,r=Mj,s=Lj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Oj),{width:r.toString(),height:s.toString(),top:i,left:o}),d=Tt().toLowerCase();n&&(a=dT(d)?Fj:n),cT(d)&&(e=e||Uj,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[x,_])=>`${p}${x}=${_},`,"");if(c2(d)&&a!=="_self")return zj(e||"",a),new ox(null);const f=window.open(e||"",a,h);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new ox(f)}function zj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="__/auth/handler",Hj="emulator/auth/handler",qj=encodeURIComponent("fac");async function ax(t,e,n,r,s,i){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vo,eventId:s};if(e instanceof wT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof gl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${qj}=${encodeURIComponent(c)}`:"";return`${Wj(t)}?${fl(a).slice(1)}${d}`}function Wj({config:t}){return t.emulator?og(t,Hj):`https://${t.authDomain}/${$j}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="webStorageSupport";class Kj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=yj,this._overrideRedirectResult=mj}async _openPopup(e,n,r,s){var i;ir((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ax(e,n,r,pm(),s);return Bj(e,o,dg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ax(e,n,r,pm(),s);return Y2(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ir(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Vj(e),r=new xj(e);return n.register("authEvent",s=>(ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($h,{type:$h},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[$h];o!==void 0&&n(!!o),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Sj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gT()||uT()||lg()}}const Gj=Kj;var lx="@firebase/auth",cx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xj(t){to(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(t)},d=new p2(r,s,i,c);return S2(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),to(new Bs("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(r=>new Qj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(lx,cx,Yj(t)),qr(lx,cx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=5*60,Zj=K1("authIdTokenMaxAge")||Jj;let ux=null;const eD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zj)return;const s=n==null?void 0:n.token;ux!==s&&(ux=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tD(t=X1()){const e=rg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T2(t,{popupRedirectResolver:Gj,persistence:[ij,K2,NT]}),r=K1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=eD(i.toString());z2(n,o,()=>o(n.currentUser)),B2(n,a=>o(a))}}const s=q1("auth");return s&&b2(n,`http://${s}`),n}function nD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}g2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=kn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",nD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xj("Browser");var dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,DT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,E){function P(){}P.prototype=E.prototype,b.D=E.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(N,D,O){for(var A=Array(arguments.length-2),re=2;re<arguments.length;re++)A[re-2]=arguments[re];return E.prototype[D].apply(N,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,E,P){P||(P=0);var N=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)N[D]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(D=0;16>D;++D)N[D]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=b.g[0],P=b.g[1],D=b.g[2];var O=b.g[3],A=E+(O^P&(D^O))+N[0]+3614090360&4294967295;E=P+(A<<7&4294967295|A>>>25),A=O+(D^E&(P^D))+N[1]+3905402710&4294967295,O=E+(A<<12&4294967295|A>>>20),A=D+(P^O&(E^P))+N[2]+606105819&4294967295,D=O+(A<<17&4294967295|A>>>15),A=P+(E^D&(O^E))+N[3]+3250441966&4294967295,P=D+(A<<22&4294967295|A>>>10),A=E+(O^P&(D^O))+N[4]+4118548399&4294967295,E=P+(A<<7&4294967295|A>>>25),A=O+(D^E&(P^D))+N[5]+1200080426&4294967295,O=E+(A<<12&4294967295|A>>>20),A=D+(P^O&(E^P))+N[6]+2821735955&4294967295,D=O+(A<<17&4294967295|A>>>15),A=P+(E^D&(O^E))+N[7]+4249261313&4294967295,P=D+(A<<22&4294967295|A>>>10),A=E+(O^P&(D^O))+N[8]+1770035416&4294967295,E=P+(A<<7&4294967295|A>>>25),A=O+(D^E&(P^D))+N[9]+2336552879&4294967295,O=E+(A<<12&4294967295|A>>>20),A=D+(P^O&(E^P))+N[10]+4294925233&4294967295,D=O+(A<<17&4294967295|A>>>15),A=P+(E^D&(O^E))+N[11]+2304563134&4294967295,P=D+(A<<22&4294967295|A>>>10),A=E+(O^P&(D^O))+N[12]+1804603682&4294967295,E=P+(A<<7&4294967295|A>>>25),A=O+(D^E&(P^D))+N[13]+4254626195&4294967295,O=E+(A<<12&4294967295|A>>>20),A=D+(P^O&(E^P))+N[14]+2792965006&4294967295,D=O+(A<<17&4294967295|A>>>15),A=P+(E^D&(O^E))+N[15]+1236535329&4294967295,P=D+(A<<22&4294967295|A>>>10),A=E+(D^O&(P^D))+N[1]+4129170786&4294967295,E=P+(A<<5&4294967295|A>>>27),A=O+(P^D&(E^P))+N[6]+3225465664&4294967295,O=E+(A<<9&4294967295|A>>>23),A=D+(E^P&(O^E))+N[11]+643717713&4294967295,D=O+(A<<14&4294967295|A>>>18),A=P+(O^E&(D^O))+N[0]+3921069994&4294967295,P=D+(A<<20&4294967295|A>>>12),A=E+(D^O&(P^D))+N[5]+3593408605&4294967295,E=P+(A<<5&4294967295|A>>>27),A=O+(P^D&(E^P))+N[10]+38016083&4294967295,O=E+(A<<9&4294967295|A>>>23),A=D+(E^P&(O^E))+N[15]+3634488961&4294967295,D=O+(A<<14&4294967295|A>>>18),A=P+(O^E&(D^O))+N[4]+3889429448&4294967295,P=D+(A<<20&4294967295|A>>>12),A=E+(D^O&(P^D))+N[9]+568446438&4294967295,E=P+(A<<5&4294967295|A>>>27),A=O+(P^D&(E^P))+N[14]+3275163606&4294967295,O=E+(A<<9&4294967295|A>>>23),A=D+(E^P&(O^E))+N[3]+4107603335&4294967295,D=O+(A<<14&4294967295|A>>>18),A=P+(O^E&(D^O))+N[8]+1163531501&4294967295,P=D+(A<<20&4294967295|A>>>12),A=E+(D^O&(P^D))+N[13]+2850285829&4294967295,E=P+(A<<5&4294967295|A>>>27),A=O+(P^D&(E^P))+N[2]+4243563512&4294967295,O=E+(A<<9&4294967295|A>>>23),A=D+(E^P&(O^E))+N[7]+1735328473&4294967295,D=O+(A<<14&4294967295|A>>>18),A=P+(O^E&(D^O))+N[12]+2368359562&4294967295,P=D+(A<<20&4294967295|A>>>12),A=E+(P^D^O)+N[5]+4294588738&4294967295,E=P+(A<<4&4294967295|A>>>28),A=O+(E^P^D)+N[8]+2272392833&4294967295,O=E+(A<<11&4294967295|A>>>21),A=D+(O^E^P)+N[11]+1839030562&4294967295,D=O+(A<<16&4294967295|A>>>16),A=P+(D^O^E)+N[14]+4259657740&4294967295,P=D+(A<<23&4294967295|A>>>9),A=E+(P^D^O)+N[1]+2763975236&4294967295,E=P+(A<<4&4294967295|A>>>28),A=O+(E^P^D)+N[4]+1272893353&4294967295,O=E+(A<<11&4294967295|A>>>21),A=D+(O^E^P)+N[7]+4139469664&4294967295,D=O+(A<<16&4294967295|A>>>16),A=P+(D^O^E)+N[10]+3200236656&4294967295,P=D+(A<<23&4294967295|A>>>9),A=E+(P^D^O)+N[13]+681279174&4294967295,E=P+(A<<4&4294967295|A>>>28),A=O+(E^P^D)+N[0]+3936430074&4294967295,O=E+(A<<11&4294967295|A>>>21),A=D+(O^E^P)+N[3]+3572445317&4294967295,D=O+(A<<16&4294967295|A>>>16),A=P+(D^O^E)+N[6]+76029189&4294967295,P=D+(A<<23&4294967295|A>>>9),A=E+(P^D^O)+N[9]+3654602809&4294967295,E=P+(A<<4&4294967295|A>>>28),A=O+(E^P^D)+N[12]+3873151461&4294967295,O=E+(A<<11&4294967295|A>>>21),A=D+(O^E^P)+N[15]+530742520&4294967295,D=O+(A<<16&4294967295|A>>>16),A=P+(D^O^E)+N[2]+3299628645&4294967295,P=D+(A<<23&4294967295|A>>>9),A=E+(D^(P|~O))+N[0]+4096336452&4294967295,E=P+(A<<6&4294967295|A>>>26),A=O+(P^(E|~D))+N[7]+1126891415&4294967295,O=E+(A<<10&4294967295|A>>>22),A=D+(E^(O|~P))+N[14]+2878612391&4294967295,D=O+(A<<15&4294967295|A>>>17),A=P+(O^(D|~E))+N[5]+4237533241&4294967295,P=D+(A<<21&4294967295|A>>>11),A=E+(D^(P|~O))+N[12]+1700485571&4294967295,E=P+(A<<6&4294967295|A>>>26),A=O+(P^(E|~D))+N[3]+2399980690&4294967295,O=E+(A<<10&4294967295|A>>>22),A=D+(E^(O|~P))+N[10]+4293915773&4294967295,D=O+(A<<15&4294967295|A>>>17),A=P+(O^(D|~E))+N[1]+2240044497&4294967295,P=D+(A<<21&4294967295|A>>>11),A=E+(D^(P|~O))+N[8]+1873313359&4294967295,E=P+(A<<6&4294967295|A>>>26),A=O+(P^(E|~D))+N[15]+4264355552&4294967295,O=E+(A<<10&4294967295|A>>>22),A=D+(E^(O|~P))+N[6]+2734768916&4294967295,D=O+(A<<15&4294967295|A>>>17),A=P+(O^(D|~E))+N[13]+1309151649&4294967295,P=D+(A<<21&4294967295|A>>>11),A=E+(D^(P|~O))+N[4]+4149444226&4294967295,E=P+(A<<6&4294967295|A>>>26),A=O+(P^(E|~D))+N[11]+3174756917&4294967295,O=E+(A<<10&4294967295|A>>>22),A=D+(E^(O|~P))+N[2]+718787259&4294967295,D=O+(A<<15&4294967295|A>>>17),A=P+(O^(D|~E))+N[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,E){E===void 0&&(E=b.length);for(var P=E-this.blockSize,N=this.B,D=this.h,O=0;O<E;){if(D==0)for(;O<=P;)s(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<E;)if(N[D++]=b.charCodeAt(O++),D==this.blockSize){s(this,N),D=0;break}}else for(;O<E;)if(N[D++]=b[O++],D==this.blockSize){s(this,N),D=0;break}}this.h=D,this.o+=E},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;var P=8*this.o;for(E=b.length-8;E<b.length;++E)b[E]=P&255,P/=256;for(this.u(b),b=Array(16),E=P=0;4>E;++E)for(var N=0;32>N;N+=8)b[P++]=this.g[E]>>>N&255;return b};function i(b,E){var P=a;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=E(b)}function o(b,E){this.h=E;for(var P=[],N=!0,D=b.length-1;0<=D;D--){var O=b[D]|0;N&&O==E||(P[D]=O,N=!1)}this.g=P}var a={};function c(b){return-128<=b&&128>b?i(b,function(E){return new o([E|0],0>E?-1:0)}):new o([b|0],0>b?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return S(d(-b));for(var E=[],P=1,N=0;b>=P;N++)E[N]=b/P|0,P*=4294967296;return new o(E,0)}function h(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return S(h(b.substring(1),E));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(E,8)),N=f,D=0;D<b.length;D+=8){var O=Math.min(8,b.length-D),A=parseInt(b.substring(D,D+O),E);8>O?(O=d(Math.pow(E,O)),N=N.j(O).add(d(A))):(N=N.j(P),N=N.add(d(A)))}return N}var f=c(0),p=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(T(this))return-S(this).m();for(var b=0,E=1,P=0;P<this.g.length;P++){var N=this.i(P);b+=(0<=N?N:4294967296+N)*E,E*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(T(this))return"-"+S(this).toString(b);for(var E=d(Math.pow(b,6)),P=this,N="";;){var D=C(P,E).g;P=v(P,D.j(E));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=D,_(P))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(var E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function T(b){return b.h==-1}t.l=function(b){return b=v(this,b),T(b)?-1:_(b)?0:1};function S(b){for(var E=b.g.length,P=[],N=0;N<E;N++)P[N]=~b.g[N];return new o(P,~b.h).add(p)}t.abs=function(){return T(this)?S(this):this},t.add=function(b){for(var E=Math.max(this.g.length,b.g.length),P=[],N=0,D=0;D<=E;D++){var O=N+(this.i(D)&65535)+(b.i(D)&65535),A=(O>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);N=A>>>16,O&=65535,A&=65535,P[D]=A<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(b,E){return b.add(S(E))}t.j=function(b){if(_(this)||_(b))return f;if(T(this))return T(b)?S(this).j(S(b)):S(S(this).j(b));if(T(b))return S(this.j(S(b)));if(0>this.l(x)&&0>b.l(x))return d(this.m()*b.m());for(var E=this.g.length+b.g.length,P=[],N=0;N<2*E;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<b.g.length;D++){var O=this.i(N)>>>16,A=this.i(N)&65535,re=b.i(D)>>>16,_e=b.i(D)&65535;P[2*N+2*D]+=A*_e,y(P,2*N+2*D),P[2*N+2*D+1]+=O*_e,y(P,2*N+2*D+1),P[2*N+2*D+1]+=A*re,y(P,2*N+2*D+1),P[2*N+2*D+2]+=O*re,y(P,2*N+2*D+2)}for(N=0;N<E;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=E;N<2*E;N++)P[N]=0;return new o(P,0)};function y(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function w(b,E){this.g=b,this.h=E}function C(b,E){if(_(E))throw Error("division by zero");if(_(b))return new w(f,f);if(T(b))return E=C(S(b),E),new w(S(E.g),S(E.h));if(T(E))return E=C(b,S(E)),new w(S(E.g),E.h);if(30<b.g.length){if(T(b)||T(E))throw Error("slowDivide_ only works with positive integers.");for(var P=p,N=E;0>=N.l(b);)P=V(P),N=V(N);var D=k(P,1),O=k(N,1);for(N=k(N,2),P=k(P,2);!_(N);){var A=O.add(N);0>=A.l(b)&&(D=D.add(P),O=A),N=k(N,1),P=k(P,1)}return E=v(b,D.j(E)),new w(D,E)}for(D=f;0<=b.l(E);){for(P=Math.max(1,Math.floor(b.m()/E.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=d(P),A=O.j(E);T(A)||0<A.l(b);)P-=N,O=d(P),A=O.j(E);_(O)&&(O=p),D=D.add(O),b=v(b,A)}return new w(D,b)}t.A=function(b){return C(this,b).h},t.and=function(b){for(var E=Math.max(this.g.length,b.g.length),P=[],N=0;N<E;N++)P[N]=this.i(N)&b.i(N);return new o(P,this.h&b.h)},t.or=function(b){for(var E=Math.max(this.g.length,b.g.length),P=[],N=0;N<E;N++)P[N]=this.i(N)|b.i(N);return new o(P,this.h|b.h)},t.xor=function(b){for(var E=Math.max(this.g.length,b.g.length),P=[],N=0;N<E;N++)P[N]=this.i(N)^b.i(N);return new o(P,this.h^b.h)};function V(b){for(var E=b.g.length+1,P=[],N=0;N<E;N++)P[N]=b.i(N)<<1|b.i(N-1)>>>31;return new o(P,b.h)}function k(b,E){var P=E>>5;E%=32;for(var N=b.g.length-P,D=[],O=0;O<N;O++)D[O]=0<E?b.i(O+P)>>>E|b.i(O+P+1)<<32-E:b.i(O+P);return new o(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,js=o}).apply(typeof dx<"u"?dx:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VT,na,OT,Oc,xm,MT,LT,FT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var g=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var M=u[I];if(!(M in g))break e;g=g[M]}u=u[u.length-1],I=g[u],m=m(I),m!=I&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var g=0,I=!1,M={next:function(){if(!I&&g<u.length){var F=g++;return{value:m(F,u[F]),done:!1}}return I=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,g){return u.call.apply(u.bind,arguments)}function f(u,m,g){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,I),u.apply(m,M)}}return function(){return u.apply(m,arguments)}}function p(u,m,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function x(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function _(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(I,M,F){for(var W=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)W[Ee-2]=arguments[Ee];return m.prototype[M].apply(I,W)}}function T(u){const m=u.length;if(0<m){const g=Array(m);for(let I=0;I<m;I++)g[I]=u[I];return g}return[]}function S(u,m){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(c(I)){const M=u.length||0,F=I.length||0;u.length=M+F;for(let W=0;W<F;W++)u[M+W]=I[W]}else u.push(I)}}class v{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function C(u){return C[" "](u),u}C[" "]=function(){};var V=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function k(u,m,g){for(const I in u)m.call(g,u[I],I,u)}function b(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function E(u){const m={};for(const g in u)m[g]=u[g];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let g,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(g in I)u[g]=I[g];for(let F=0;F<P.length;F++)g=P[F],Object.prototype.hasOwnProperty.call(I,g)&&(u[g]=I[g])}}function D(u){var m=1;u=u.split(":");const g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function O(u){a.setTimeout(()=>{throw u},0)}function A(){var u=U;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class re{constructor(){this.h=this.g=null}add(m,g){const I=_e.get();I.set(m,g),this.h?this.h.next=I:this.g=I,this.h=I}}var _e=new v(()=>new le,u=>u.reset());class le{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,R=!1,U=new re,B=()=>{const u=a.Promise.resolve(void 0);ve=()=>{u.then(q)}};var q=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(g){O(g)}var m=_e;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}R=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return u}();function It(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(V){e:{try{C(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Xe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&It.aa.h.call(this)}}_(It,me);var Xe={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),ii=0;function hr(u,m,g,I,M){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!I,this.ha=M,this.key=++ii,this.da=this.fa=!1}function rn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u){this.src=u,this.g={},this.h=0}Pt.prototype.add=function(u,m,g,I,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var W=oi(u,m,I,M);return-1<W?(m=u[W],g||(m.fa=!1)):(m=new hr(m,this.src,F,!!I,M),m.fa=g,u.push(m)),m};function ds(u,m){var g=m.type;if(g in u.g){var I=u.g[g],M=Array.prototype.indexOf.call(I,m,void 0),F;(F=0<=M)&&Array.prototype.splice.call(I,M,1),F&&(rn(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function oi(u,m,g,I){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==m&&F.capture==!!g&&F.ha==I)return M}return-1}var Y="closure_lm_"+(1e6*Math.random()|0),Ct={};function vy(u,m,g,I,M){if(Array.isArray(m)){for(var F=0;F<m.length;F++)vy(u,m[F],g,I,M);return null}return g=_y(g),u&&u[Nt]?u.K(m,g,d(I)?!!I.capture:!1,M):aN(u,m,g,!1,I,M)}function aN(u,m,g,I,M,F){if(!m)throw Error("Invalid event type");var W=d(M)?!!M.capture:!!M,Ee=Wd(u);if(Ee||(u[Y]=Ee=new Pt(u)),g=Ee.add(m,g,I,W,F),g.proxy)return g;if(I=lN(),g.proxy=I,I.src=u,I.listener=g,u.addEventListener)bt||(M=W),M===void 0&&(M=!1),u.addEventListener(m.toString(),I,M);else if(u.attachEvent)u.attachEvent(wy(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function lN(){function u(g){return m.call(u.src,u.listener,g)}const m=cN;return u}function xy(u,m,g,I,M){if(Array.isArray(m))for(var F=0;F<m.length;F++)xy(u,m[F],g,I,M);else I=d(I)?!!I.capture:!!I,g=_y(g),u&&u[Nt]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],g=oi(F,g,I,M),-1<g&&(rn(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Wd(u))&&(m=u.g[m.toString()],u=-1,m&&(u=oi(m,g,I,M)),(g=-1<u?m[u]:null)&&qd(g))}function qd(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Nt])ds(m.i,u);else{var g=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(g,I,u.capture):m.detachEvent?m.detachEvent(wy(g),I):m.addListener&&m.removeListener&&m.removeListener(I),(g=Wd(m))?(ds(g,u),g.h==0&&(g.src=null,m[Y]=null)):rn(u)}}}function wy(u){return u in Ct?Ct[u]:Ct[u]="on"+u}function cN(u,m){if(u.da)u=!0;else{m=new It(m,this);var g=u.listener,I=u.ha||u.src;u.fa&&qd(u),u=g.call(I,m)}return u}function Wd(u){return u=u[Y],u instanceof Pt?u:null}var Kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function _y(u){return typeof u=="function"?u:(u[Kd]||(u[Kd]=function(m){return u.handleEvent(m)}),u[Kd])}function ut(){te.call(this),this.i=new Pt(this),this.M=this,this.F=null}_(ut,te),ut.prototype[Nt]=!0,ut.prototype.removeEventListener=function(u,m,g,I){xy(this,u,m,g,I)};function At(u,m){var g,I=u.F;if(I)for(g=[];I;I=I.F)g.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var M=m;m=new me(I,u),N(m,M)}if(M=!0,g)for(var F=g.length-1;0<=F;F--){var W=m.g=g[F];M=kl(W,I,!0,m)&&M}if(W=m.g=u,M=kl(W,I,!0,m)&&M,M=kl(W,I,!1,m)&&M,g)for(F=0;F<g.length;F++)W=m.g=g[F],M=kl(W,I,!1,m)&&M}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],I=0;I<g.length;I++)rn(g[I]);delete u.g[m],u.h--}}this.F=null},ut.prototype.K=function(u,m,g,I){return this.i.add(String(u),m,!1,g,I)},ut.prototype.L=function(u,m,g,I){return this.i.add(String(u),m,!0,g,I)};function kl(u,m,g,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,F=0;F<m.length;++F){var W=m[F];if(W&&!W.da&&W.capture==g){var Ee=W.listener,tt=W.ha||W.src;W.fa&&ds(u.i,W),M=Ee.call(tt,I)!==!1&&M}}return M&&!I.defaultPrevented}function Ey(u,m,g){if(typeof u=="function")g&&(u=p(u,g));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Ty(u){u.g=Ey(()=>{u.g=null,u.i&&(u.i=!1,Ty(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class uN extends te{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ty(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bo(u){te.call(this),this.h=u,this.g={}}_(bo,te);var Sy=[];function by(u){k(u.g,function(m,g){this.g.hasOwnProperty(g)&&qd(m)},u),u.g={}}bo.prototype.N=function(){bo.aa.N.call(this),by(this)},bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gd=a.JSON.stringify,dN=a.JSON.parse,hN=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Qd(){}Qd.prototype.h=null;function Iy(u){return u.h||(u.h=u.i())}function Ny(){}var Io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yd(){me.call(this,"d")}_(Yd,me);function Xd(){me.call(this,"c")}_(Xd,me);var hs={},Py=null;function Rl(){return Py=Py||new ut}hs.La="serverreachability";function Cy(u){me.call(this,hs.La,u)}_(Cy,me);function No(u){const m=Rl();At(m,new Cy(m))}hs.STAT_EVENT="statevent";function Ay(u,m){me.call(this,hs.STAT_EVENT,u),this.stat=m}_(Ay,me);function kt(u){const m=Rl();At(m,new Ay(m,u))}hs.Ma="timingevent";function ky(u,m){me.call(this,hs.Ma,u),this.size=m}_(ky,me);function Po(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Co(){this.g=!0}Co.prototype.xa=function(){this.g=!1};function fN(u,m,g,I,M,F){u.info(function(){if(u.g)if(F)for(var W="",Ee=F.split("&"),tt=0;tt<Ee.length;tt++){var ge=Ee[tt].split("=");if(1<ge.length){var dt=ge[0];ge=ge[1];var ht=dt.split("_");W=2<=ht.length&&ht[1]=="type"?W+(dt+"="+ge+"&"):W+(dt+"=redacted&")}}else W=null;else W=F;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+m+`
`+g+`
`+W})}function mN(u,m,g,I,M,F,W){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+m+`
`+g+`
`+F+" "+W})}function ai(u,m,g,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+gN(u,g)+(I?" "+I:"")})}function pN(u,m){u.info(function(){return"TIMEOUT: "+m})}Co.prototype.info=function(){};function gN(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var I=g[u];if(!(2>I.length)){var M=I[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return Gd(g)}catch{return m}}var jl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ry={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jd;function Dl(){}_(Dl,Qd),Dl.prototype.g=function(){return new XMLHttpRequest},Dl.prototype.i=function(){return{}},Jd=new Dl;function fr(u,m,g,I){this.j=u,this.i=m,this.l=g,this.R=I||1,this.U=new bo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jy}function jy(){this.i=null,this.g="",this.h=!1}var Dy={},Zd={};function eh(u,m,g){u.L=1,u.v=Ll(Fn(m)),u.m=g,u.P=!0,Vy(u,null)}function Vy(u,m){u.F=Date.now(),Vl(u),u.A=Fn(u.v);var g=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Qy(g.i,"t",I),u.C=0,g=u.j.J,u.h=new jy,u.g=f0(u.j,g?m:null,!u.m),0<u.O&&(u.M=new uN(p(u.Y,u,u.g),u.O)),m=u.U,g=u.g,I=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Sy[0]=M.toString()),M=Sy);for(var F=0;F<M.length;F++){var W=vy(g,M[F],I||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),No(),fN(u.i,u.u,u.A,u.l,u.R,u.m)}fr.prototype.ca=function(u){u=u.target;const m=this.M;m&&Un(u)==3?m.j():this.Y(u)},fr.prototype.Y=function(u){try{if(u==this.g)e:{const ht=Un(this.g);var m=this.g.Ba();const ui=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||n0(this.g)))){this.J||ht!=4||m==7||(m==8||0>=ui?No(3):No(2)),th(this);var g=this.g.Z();this.X=g;t:if(Oy(this)){var I=n0(this.g);u="";var M=I.length,F=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),Ao(this);var W="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(F&&m==M-1)});I.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,mN(this.i,this.u,this.A,this.l,this.R,ht,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,tt=this.g;if((Ee=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ee)){var ge=Ee;break t}}ge=null}if(g=ge)ai(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nh(this,g);else{this.o=!1,this.s=3,kt(12),fs(this),Ao(this);break e}}if(this.P){g=!0;let fn;for(;!this.J&&this.C<W.length;)if(fn=yN(this,W),fn==Zd){ht==4&&(this.s=4,kt(14),g=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Dy){this.s=4,kt(15),ai(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else ai(this.i,this.l,fn,null),nh(this,fn);if(Oy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||W.length!=0||this.h.h||(this.s=1,kt(16),g=!1),this.o=this.o&&g,!g)ai(this.i,this.l,W,"[Invalid Chunked Response]"),fs(this),Ao(this);else if(0<W.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),lh(dt),dt.M=!0,kt(11))}}else ai(this.i,this.l,W,null),nh(this,W);ht==4&&fs(this),this.o&&!this.J&&(ht==4?c0(this.j,this):(this.o=!1,Vl(this)))}else DN(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),fs(this),Ao(this)}}}catch{}finally{}};function Oy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function yN(u,m){var g=u.C,I=m.indexOf(`
`,g);return I==-1?Zd:(g=Number(m.substring(g,I)),isNaN(g)?Dy:(I+=1,I+g>m.length?Zd:(m=m.slice(I,I+g),u.C=I+g,m)))}fr.prototype.cancel=function(){this.J=!0,fs(this)};function Vl(u){u.S=Date.now()+u.I,My(u,u.I)}function My(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Po(p(u.ba,u),m)}function th(u){u.B&&(a.clearTimeout(u.B),u.B=null)}fr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(pN(this.i,this.A),this.L!=2&&(No(),kt(17)),fs(this),this.s=2,Ao(this)):My(this,this.S-u)};function Ao(u){u.j.G==0||u.J||c0(u.j,u)}function fs(u){th(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,by(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function nh(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||rh(g.h,u))){if(!u.K&&rh(g.h,u)&&g.G==3){try{var I=g.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Hl(g),zl(g);else break e;ah(g),kt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=Po(p(g.Za,g),6e3));if(1>=Uy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ps(g,11)}else if((u.K||g.g==u)&&Hl(g),!y(m))for(M=g.Da.g.parse(m),m=0;m<M.length;m++){let ge=M[m];if(g.T=ge[0],ge=ge[1],g.G==2)if(ge[0]=="c"){g.K=ge[1],g.ia=ge[2];const dt=ge[3];dt!=null&&(g.la=dt,g.j.info("VER="+g.la));const ht=ge[4];ht!=null&&(g.Aa=ht,g.j.info("SVER="+g.Aa));const ui=ge[5];ui!=null&&typeof ui=="number"&&0<ui&&(I=1.5*ui,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const fn=u.g;if(fn){const Wl=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wl){var F=I.h;F.g||Wl.indexOf("spdy")==-1&&Wl.indexOf("quic")==-1&&Wl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(sh(F,F.h),F.h=null))}if(I.D){const ch=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ch&&(I.ya=ch,be(I.I,I.D,ch))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var W=u;if(I.qa=h0(I,I.J?I.ia:null,I.W),W.K){By(I.h,W);var Ee=W,tt=I.L;tt&&(Ee.I=tt),Ee.B&&(th(Ee),Vl(Ee)),I.g=W}else a0(I);0<g.i.length&&$l(g)}else ge[0]!="stop"&&ge[0]!="close"||ps(g,7);else g.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ps(g,7):oh(g):ge[0]!="noop"&&g.l&&g.l.ta(ge),g.v=0)}}No(4)}catch{}}var vN=class{constructor(u,m){this.g=u,this.map=m}};function Ly(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Uy(u){return u.h?1:u.g?u.g.size:0}function rh(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function sh(u,m){u.g?u.g.add(m):u.h=m}function By(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ly.prototype.cancel=function(){if(this.i=zy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zy(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.D);return m}return T(u.i)}function xN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],g=u.length,I=0;I<g;I++)m.push(u[I]);return m}m=[],g=0;for(I in u)m[g++]=u[I];return m}function wN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(const I in u)m[g++]=I;return m}}}function $y(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=wN(u),I=xN(u),M=I.length,F=0;F<M;F++)m.call(void 0,I[F],g&&g[F],u)}var Hy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _N(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var I=u[g].indexOf("="),M=null;if(0<=I){var F=u[g].substring(0,I);M=u[g].substring(I+1)}else F=u[g];m(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ms(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ms){this.h=u.h,Ol(this,u.j),this.o=u.o,this.g=u.g,Ml(this,u.s),this.l=u.l;var m=u.i,g=new jo;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),qy(this,g),this.m=u.m}else u&&(m=String(u).match(Hy))?(this.h=!1,Ol(this,m[1]||"",!0),this.o=ko(m[2]||""),this.g=ko(m[3]||"",!0),Ml(this,m[4]),this.l=ko(m[5]||"",!0),qy(this,m[6]||"",!0),this.m=ko(m[7]||"")):(this.h=!1,this.i=new jo(null,this.h))}ms.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ro(m,Wy,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ro(m,Wy,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Ro(g,g.charAt(0)=="/"?SN:TN,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Ro(g,IN)),u.join("")};function Fn(u){return new ms(u)}function Ol(u,m,g){u.j=g?ko(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ml(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function qy(u,m,g){m instanceof jo?(u.i=m,NN(u.i,u.h)):(g||(m=Ro(m,bN)),u.i=new jo(m,u.h))}function be(u,m,g){u.i.set(m,g)}function Ll(u){return be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ko(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ro(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,EN),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function EN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wy=/[#\/\?@]/g,TN=/[#\?:]/g,SN=/[#\?]/g,bN=/[#\?@]/g,IN=/#/g;function jo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mr(u){u.g||(u.g=new Map,u.h=0,u.i&&_N(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=jo.prototype,t.add=function(u,m){mr(this),this.i=null,u=li(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function Ky(u,m){mr(u),m=li(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Gy(u,m){return mr(u),m=li(u,m),u.g.has(m)}t.forEach=function(u,m){mr(this),this.g.forEach(function(g,I){g.forEach(function(M){u.call(m,M,I,this)},this)},this)},t.na=function(){mr(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let I=0;I<m.length;I++){const M=u[I];for(let F=0;F<M.length;F++)g.push(m[I])}return g},t.V=function(u){mr(this);let m=[];if(typeof u=="string")Gy(this,u)&&(m=m.concat(this.g.get(li(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},t.set=function(u,m){return mr(this),this.i=null,u=li(this,u),Gy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Qy(u,m,g){Ky(u,m),0<g.length&&(u.i=null,u.g.set(li(u,m),T(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var I=m[g];const F=encodeURIComponent(String(I)),W=this.V(I);for(I=0;I<W.length;I++){var M=F;W[I]!==""&&(M+="="+encodeURIComponent(String(W[I]))),u.push(M)}}return this.i=u.join("&")};function li(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function NN(u,m){m&&!u.j&&(mr(u),u.i=null,u.g.forEach(function(g,I){var M=I.toLowerCase();I!=M&&(Ky(this,I),Qy(this,M,g))},u)),u.j=m}function PN(u,m){const g=new Co;if(a.Image){const I=new Image;I.onload=x(pr,g,"TestLoadImage: loaded",!0,m,I),I.onerror=x(pr,g,"TestLoadImage: error",!1,m,I),I.onabort=x(pr,g,"TestLoadImage: abort",!1,m,I),I.ontimeout=x(pr,g,"TestLoadImage: timeout",!1,m,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function CN(u,m){const g=new Co,I=new AbortController,M=setTimeout(()=>{I.abort(),pr(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(F=>{clearTimeout(M),F.ok?pr(g,"TestPingServer: ok",!0,m):pr(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),pr(g,"TestPingServer: error",!1,m)})}function pr(u,m,g,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(g)}catch{}}function AN(){this.g=new hN}function kN(u,m,g){const I=g||"";try{$y(u,function(M,F){let W=M;d(M)&&(W=Gd(M)),m.push(I+F+"="+encodeURIComponent(W))})}catch(M){throw m.push(I+"type="+encodeURIComponent("_badmap")),M}}function Fl(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Fl,Qd),Fl.prototype.g=function(){return new Ul(this.l,this.j)},Fl.prototype.i=function(u){return function(){return u}}({});function Ul(u,m){ut.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ul,ut),t=Ul.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Vo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Do(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vo(this)),this.g&&(this.readyState=3,Vo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Do(this):Vo(this),this.readyState==3&&Yy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Do(this))},t.Qa=function(u){this.g&&(this.response=u,Do(this))},t.ga=function(){this.g&&Do(this)};function Do(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Vo(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Vo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xy(u){let m="";return k(u,function(g,I){m+=I,m+=":",m+=g,m+=`\r
`}),m}function ih(u,m,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=Xy(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):be(u,m,g))}function Ve(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ve,ut);var RN=/^https?$/i,jN=["POST","PUT"];t=Ve.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jd.g(),this.v=this.o?Iy(this.o):Iy(Jd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Jy(this,F);return}if(u=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)g.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const F of I.keys())g.set(F,I.get(F));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jN,m,void 0))||I||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of g)this.g.setRequestHeader(F,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{t0(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Jy(this,F)}};function Jy(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Zy(u),Bl(u)}function Zy(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),Bl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bl(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?e0(this):this.bb())},t.bb=function(){e0(this)};function e0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Un(u)!=4||u.Z()!=2)){if(u.u&&Un(u)==4)Ey(u.Ea,0,u);else if(At(u,"readystatechange"),Un(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var I;if(I=W===0){var M=String(u.D).match(Hy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),I=!RN.test(M?M.toLowerCase():"")}g=I}if(g)At(u,"complete"),At(u,"success");else{u.m=6;try{var F=2<Un(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Zy(u)}}finally{Bl(u)}}}}function Bl(u,m){if(u.g){t0(u);const g=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||At(u,"ready");try{g.onreadystatechange=I}catch{}}}function t0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Un(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),dN(m)}};function n0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function DN(u){const m={};u=(u.g&&2<=Un(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(y(u[I]))continue;var g=D(u[I]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=m[M]||[];m[M]=F,F.push(g)}b(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oo(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function r0(u){this.Aa=0,this.i=[],this.j=new Co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oo("baseRetryDelayMs",5e3,u),this.cb=Oo("retryDelaySeedMs",1e4,u),this.Wa=Oo("forwardChannelMaxRetries",2,u),this.wa=Oo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ly(u&&u.concurrentRequestLimit),this.Da=new AN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=r0.prototype,t.la=8,t.G=1,t.connect=function(u,m,g,I){kt(0),this.W=u,this.H=m||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=h0(this,null,this.W),$l(this)};function oh(u){if(s0(u),u.G==3){var m=u.U++,g=Fn(u.I);if(be(g,"SID",u.K),be(g,"RID",m),be(g,"TYPE","terminate"),Mo(u,g),m=new fr(u,u.j,m),m.L=2,m.v=Ll(Fn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=f0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Vl(m)}d0(u)}function zl(u){u.g&&(lh(u),u.g.cancel(),u.g=null)}function s0(u){zl(u),u.u&&(a.clearTimeout(u.u),u.u=null),Hl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function $l(u){if(!Fy(u.h)&&!u.s){u.s=!0;var m=u.Ga;ve||B(),R||(ve(),R=!0),U.add(m,u),u.B=0}}function VN(u,m){return Uy(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Po(p(u.Ga,u,m),u0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new fr(this,this.j,u);let F=this.o;if(this.S&&(F?(F=E(F),N(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=o0(this,M,m),g=Fn(this.I),be(g,"RID",u),be(g,"CVER",22),this.D&&be(g,"X-HTTP-Session-Id",this.D),Mo(this,g),F&&(this.O?m="headers="+encodeURIComponent(String(Xy(F)))+"&"+m:this.m&&ih(g,this.m,F)),sh(this.h,M),this.Ua&&be(g,"TYPE","init"),this.P?(be(g,"$req",m),be(g,"SID","null"),M.T=!0,eh(M,g,null)):eh(M,g,m),this.G=2}}else this.G==3&&(u?i0(this,u):this.i.length==0||Fy(this.h)||i0(this))};function i0(u,m){var g;m?g=m.l:g=u.U++;const I=Fn(u.I);be(I,"SID",u.K),be(I,"RID",g),be(I,"AID",u.T),Mo(u,I),u.m&&u.o&&ih(I,u.m,u.o),g=new fr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=o0(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),sh(u.h,g),eh(g,I,m)}function Mo(u,m){u.H&&k(u.H,function(g,I){be(m,I,g)}),u.l&&$y({},function(g,I){be(m,I,g)})}function o0(u,m,g){g=Math.min(u.i.length,g);var I=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){const W=["count="+g];F==-1?0<g?(F=M[0].g,W.push("ofs="+F)):F=0:W.push("ofs="+F);let Ee=!0;for(let tt=0;tt<g;tt++){let ge=M[tt].g;const dt=M[tt].map;if(ge-=F,0>ge)F=Math.max(0,M[tt].g-100),Ee=!1;else try{kN(dt,W,"req"+ge+"_")}catch{I&&I(dt)}}if(Ee){I=W.join("&");break e}}}return u=u.i.splice(0,g),m.D=u,I}function a0(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ve||B(),R||(ve(),R=!0),U.add(m,u),u.v=0}}function ah(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Po(p(u.Fa,u),u0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,l0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Po(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),zl(this),l0(this))};function lh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function l0(u){u.g=new fr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Fn(u.qa);be(m,"RID","rpc"),be(m,"SID",u.K),be(m,"AID",u.T),be(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&be(m,"TO",u.ja),be(m,"TYPE","xmlhttp"),Mo(u,m),u.m&&u.o&&ih(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Ll(Fn(m)),g.m=null,g.P=!0,Vy(g,u)}t.Za=function(){this.C!=null&&(this.C=null,zl(this),ah(this),kt(19))};function Hl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function c0(u,m){var g=null;if(u.g==m){Hl(u),lh(u),u.g=null;var I=2}else if(rh(u.h,m))g=m.D,By(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var M=u.B;I=Rl(),At(I,new ky(I,g)),$l(u)}else a0(u);else if(M=m.s,M==3||M==0&&0<m.X||!(I==1&&VN(u,m)||I==2&&ah(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),M){case 1:ps(u,5);break;case 4:ps(u,10);break;case 3:ps(u,6);break;default:ps(u,2)}}}function u0(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function ps(u,m){if(u.j.info("Error code "+m),m==2){var g=p(u.fb,u),I=u.Xa;const M=!I;I=new ms(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ol(I,"https"),Ll(I),M?PN(I.toString(),g):CN(I.toString(),g)}else kt(2);u.G=0,u.l&&u.l.sa(m),d0(u),s0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function d0(u){if(u.G=0,u.ka=[],u.l){const m=zy(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ka,m),S(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function h0(u,m,g){var I=g instanceof ms?Fn(g):new ms(g);if(I.g!="")m&&(I.g=m+"."+I.g),Ml(I,I.s);else{var M=a.location;I=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var F=new ms(null);I&&Ol(F,I),m&&(F.g=m),M&&Ml(F,M),g&&(F.l=g),I=F}return g=u.D,m=u.ya,g&&m&&be(I,g,m),be(I,"VER",u.la),Mo(u,I),I}function f0(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ve(new Fl({eb:g})):new Ve(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function m0(){}t=m0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ql(){}ql.prototype.g=function(u,m){return new Kt(u,m)};function Kt(u,m){ut.call(this),this.g=new r0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ci(this)}_(Kt,ut),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){oh(this.g)},Kt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Gd(u),u=g);m.i.push(new vN(m.Ya++,u)),m.G==3&&$l(m)},Kt.prototype.N=function(){this.g.l=null,delete this.j,oh(this.g),delete this.g,Kt.aa.N.call(this)};function p0(u){Yd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const g in m){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}_(p0,Yd);function g0(){Xd.call(this),this.status=1}_(g0,Xd);function ci(u){this.g=u}_(ci,m0),ci.prototype.ua=function(){At(this.g,"a")},ci.prototype.ta=function(u){At(this.g,new p0(u))},ci.prototype.sa=function(u){At(this.g,new g0)},ci.prototype.ra=function(){At(this.g,"b")},ql.prototype.createWebChannel=ql.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,FT=function(){return new ql},LT=function(){return Rl()},MT=hs,xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jl.NO_ERROR=0,jl.TIMEOUT=8,jl.HTTP_ERROR=6,Oc=jl,Ry.COMPLETE="complete",OT=Ry,Ny.EventType=Io,Io.OPEN="a",Io.CLOSE="b",Io.ERROR="c",Io.MESSAGE="d",ut.prototype.listen=ut.prototype.K,na=Ny,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,VT=Ve}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const hx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new tg("@firebase/firestore");function Wo(){return Hs.logLevel}function G(t,...e){if(Hs.logLevel<=he.DEBUG){const n=e.map(fg);Hs.debug(`Firestore (${wo}): ${t}`,...n)}}function or(t,...e){if(Hs.logLevel<=he.ERROR){const n=e.map(fg);Hs.error(`Firestore (${wo}): ${t}`,...n)}}function no(t,...e){if(Hs.logLevel<=he.WARN){const n=e.map(fg);Hs.warn(`Firestore (${wo}): ${t}`,...n)}}function fg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function we(t,e){t||ne()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class sD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iD{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new UT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new yt(e)}}class oD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){we(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new lD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=uD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function ro(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Ye(0,0))}static max(){return new se(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends Ka{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const dD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends Ka{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return dD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Le.fromString(e))}static fromName(e){return new J(Le.fromString(e).popFirst(5))}static empty(){return new J(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Le(e.slice()))}}function hD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=se.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Yr(s,J.empty(),e)}function fD(t){return new Yr(t.readTime,t.key,-1)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(se.min(),J.empty(),-1)}static max(){return new Yr(se.max(),J.empty(),-1)}}function mD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==pD)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function yD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}mg.oe=-1;function md(t){return t==null}function Iu(t){return t===0&&1/t==-1/0}function vD(t){return typeof t=="number"&&Number.isInteger(t)&&!Iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??rt.RED,this.left=s??rt.EMPTY,this.right=i??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,s,i){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mx(this.data.getIterator())}getIteratorFrom(e){return new mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Yt([])}unionWith(e){let n=new at(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $T("Invalid base64 string: "+i):i}}(e);return new ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(t){if(we(!!t),typeof t=="string"){let e=0;const n=xD.exec(t);if(we(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gg(t){const e=t.mapValue.fields.__previous_value__;return pg(e)?gg(e):e}function Ga(t){const e=Xr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,r,s,i,o,a,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Qa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={mapValue:{}};function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pg(t)?4:ED(t)?9007199254740991:_D(t)?10:11:ne()}function Mn(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ga(t).isEqual(Ga(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Xr(s.timestampValue),a=Xr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qs(s.bytesValue).isEqual(qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Fe(s.geoPointValue.latitude)===Fe(i.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Fe(s.integerValue)===Fe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Fe(s.doubleValue),a=Fe(i.doubleValue);return o===a?Iu(o)===Iu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ro(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(fx(o)!==fx(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Mn(o[c],a[c])))return!1;return!0}(t,e);default:return ne()}}function Ya(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function so(t,e){if(t===e)return 0;const n=Ws(t),r=Ws(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Fe(i.integerValue||i.doubleValue),c=Fe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return px(t.timestampValue,e.timestampValue);case 4:return px(Ga(t),Ga(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(i,o){const a=qs(i),c=qs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=ye(a[d],c[d]);if(h!==0)return h}return ye(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ye(Fe(i.latitude),Fe(o.latitude));return a!==0?a:ye(Fe(i.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,d,h;const f=i.fields||{},p=o.fields||{},x=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(c=p.value)===null||c===void 0?void 0:c.arrayValue,T=ye(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:gx(x,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===fc.mapValue&&o===fc.mapValue)return 0;if(i===fc.mapValue)return 1;if(o===fc.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=ye(c[f],h[f]);if(p!==0)return p;const x=so(a[c[f]],d[h[f]]);if(x!==0)return x}return ye(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function px(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Xr(t),r=Xr(e),s=ye(n.seconds,r.seconds);return s!==0?s:ye(n.nanos,r.nanos)}function gx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=so(n[s],r[s]);if(i)return i}return ye(n.length,r.length)}function io(t){return wm(t)}function wm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${wm(n.fields[o])}`;return s+"}"}(t.mapValue):ne()}function _m(t){return!!t&&"integerValue"in t}function yg(t){return!!t&&"arrayValue"in t}function yx(t){return!!t&&"nullValue"in t}function vx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mc(t){return!!t&&"mapValue"in t}function _D(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ga(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ED(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(n)}setAll(e){let n=st.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ga(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Mc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ei(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Lt(ga(this.value))}}function HT(t){const e=[];return ei(t.fields,(n,r)=>{const s=new st([n]);if(Mc(r)){const i=HT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Yt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,se.min(),se.min(),se.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,s){return new xt(e,1,n,se.min(),r,s,0)}static newNoDocument(e,n){return new xt(e,2,n,se.min(),se.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,se.min(),se.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.position=e,this.inclusive=n}}function xx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=so(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function wx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function TD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class Ge extends qT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bD(e,n,r):n==="array-contains"?new PD(e,r):n==="in"?new CD(e,r):n==="not-in"?new AD(e,r):n==="array-contains-any"?new kD(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ID(e,r):new ND(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(so(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends qT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ln(e,n)}matches(e){return WT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WT(t){return t.op==="and"}function KT(t){return SD(t)&&WT(t)}function SD(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function Em(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+io(t.value);if(KT(t))return t.filters.map(e=>Em(e)).join(",");{const e=t.filters.map(n=>Em(n)).join(",");return`${t.op}(${e})`}}function GT(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&Mn(r.value,s.value)}(t,e):t instanceof Ln?function(r,s){return s instanceof Ln&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&GT(o,s.filters[a]),!0):!1}(t,e):void ne()}function QT(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"}(t):"Filter"}class bD extends Ge{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class ID extends Ge{constructor(e,n){super(e,"in",n),this.keys=YT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ND extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=YT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class PD extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yg(n)&&Ya(n.arrayValue,this.value)}}class CD extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ya(this.value.arrayValue,n)}}class AD extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ya(this.value.arrayValue,n)}}class kD extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ya(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function _x(t,e=null,n=[],r=[],s=null,i=null,o=null){return new RD(t,e,n,r,s,i,o)}function vg(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Em(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>io(r)).join(",")),e.ue=n}return e.ue}function xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wx(t.startAt,e.startAt)&&wx(t.endAt,e.endAt)}function Tm(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jD(t,e,n,r,s,i,o,a){return new pd(t,e,n,r,s,i,o,a)}function wg(t){return new pd(t)}function Ex(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DD(t){return t.collectionGroup!==null}function ya(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(st.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Pu(i,r))}),n.has(st.keyField().canonicalString())||e.ce.push(new Pu(st.keyField(),r))}return e.ce}function jn(t){const e=ie(t);return e.le||(e.le=VD(e,ya(t))),e.le}function VD(t,e){if(t.limitType==="F")return _x(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Pu(s.field,i)});const n=t.endAt?new Nu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nu(t.startAt.position,t.startAt.inclusive):null;return _x(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sm(t,e,n){return new pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gd(t,e){return xg(jn(t),jn(e))&&t.limitType===e.limitType}function XT(t){return`${vg(jn(t))}|lt:${t.limitType}`}function mi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QT(s)).join(", ")}]`),md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>io(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>io(s)).join(",")),`Target(${r})`}(jn(t))}; limitType=${t.limitType})`}function yd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ya(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=xx(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,ya(r),s)||r.endAt&&!function(o,a,c){const d=xx(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,ya(r),s))}(t,e)}function OD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JT(t){return(e,n)=>{let r=!1;for(const s of ya(t)){const i=MD(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function MD(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?so(c,d):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new De(J.comparator);function ar(){return LD}const ZT=new De(J.comparator);function ra(...t){let e=ZT;for(const n of t)e=e.insert(n.key,n);return e}function eS(t){let e=ZT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ns(){return va()}function tS(){return va()}function va(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const FD=new De(J.comparator),UD=new at(J.comparator);function de(...t){let e=UD;for(const n of t)e=e.add(n);return e}const BD=new at(ye);function zD(){return BD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(e)?"-0":e}}function nS(t){return{integerValue:""+t}}function $D(t,e){return vD(e)?nS(e):_g(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function HD(t,e,n){return t instanceof Cu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&pg(i)&&(i=gg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Xa?sS(t,e):t instanceof Ja?iS(t,e):function(s,i){const o=rS(s,i),a=Tx(o)+Tx(s.Pe);return _m(o)&&_m(s.Pe)?nS(a):_g(s.serializer,a)}(t,e)}function qD(t,e,n){return t instanceof Xa?sS(t,e):t instanceof Ja?iS(t,e):n}function rS(t,e){return t instanceof Au?function(r){return _m(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Cu extends vd{}class Xa extends vd{constructor(e){super(),this.elements=e}}function sS(t,e){const n=oS(e);for(const r of t.elements)n.some(s=>Mn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ja extends vd{constructor(e){super(),this.elements=e}}function iS(t,e){let n=oS(e);for(const r of t.elements)n=n.filter(s=>!Mn(s,r));return{arrayValue:{values:n}}}class Au extends vd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Tx(t){return Fe(t.integerValue||t.doubleValue)}function oS(t){return yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Xa&&s instanceof Xa||r instanceof Ja&&s instanceof Ja?ro(r.elements,s.elements,Mn):r instanceof Au&&s instanceof Au?Mn(r.Pe,s.Pe):r instanceof Cu&&s instanceof Cu}(t.transform,e.transform)}class KD{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xd{}function aS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cS(t.key,Dn.none()):new wl(t.key,t.data,Dn.none());{const n=t.data,r=Lt.empty();let s=new at(st.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ls(t.key,r,new Yt(s.toArray()),Dn.none())}}function GD(t,e,n){t instanceof wl?function(s,i,o){const a=s.value.clone(),c=bx(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(s,i,o){if(!Lc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=bx(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(lS(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xa(t,e,n,r){return t instanceof wl?function(i,o,a,c){if(!Lc(i.precondition,o))return a;const d=i.value.clone(),h=Ix(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ls?function(i,o,a,c){if(!Lc(i.precondition,o))return a;const d=Ix(i.fieldTransforms,c,o),h=o.data;return h.setAll(lS(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Lc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function QD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=rS(r.transform,s||null);i!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,i))}return n||null}function Sx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ro(r,s,(i,o)=>WD(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wl extends xd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ls extends xd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bx(t,e,n){const r=new Map;we(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,qD(o,a,n[s]))}return r}function Ix(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,HD(i,o,e))}return r}class cS extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YD extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&GD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=aS(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,r)=>Sx(n,r))&&ro(this.baseMutations,e.baseMutations,(n,r)=>Sx(n,r))}}class Eg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){we(e.mutations.length===r.length);let s=function(){return FD}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Eg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,fe;function eV(t){switch(t){default:return ne();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function uS(t){if(t===void 0)return or("GRPC error has no .code"),$.UNKNOWN;switch(t){case He.OK:return $.OK;case He.CANCELLED:return $.CANCELLED;case He.UNKNOWN:return $.UNKNOWN;case He.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case He.INTERNAL:return $.INTERNAL;case He.UNAVAILABLE:return $.UNAVAILABLE;case He.UNAUTHENTICATED:return $.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case He.NOT_FOUND:return $.NOT_FOUND;case He.ALREADY_EXISTS:return $.ALREADY_EXISTS;case He.PERMISSION_DENIED:return $.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case He.ABORTED:return $.ABORTED;case He.OUT_OF_RANGE:return $.OUT_OF_RANGE;case He.UNIMPLEMENTED:return $.UNIMPLEMENTED;case He.DATA_LOSS:return $.DATA_LOSS;default:return ne()}}(fe=He||(He={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new js([4294967295,4294967295],0);function Nx(t){const e=tV().encode(t),n=new DT;return n.update(e),new Uint8Array(n.digest())}function Px(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new js([n,r],0),new js([s,i],0)]}class Tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sa(`Invalid padding: ${n}`);if(r<0)throw new sa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=js.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(js.fromNumber(r)));return s.compare(nV)===1&&(s=new js([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Nx(e),[r,s]=Px(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Tg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Nx(e),[r,s]=Px(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wd(se.min(),s,new De(ye),ar(),de())}}class _l{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _l(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class dS{constructor(e,n){this.targetId=e,this.me=n}}class hS{constructor(e,n,r=ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Cx{constructor(){this.fe=0,this.ge=kx(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne()}}),new _l(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=kx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rV{constructor(e){this.Le=e,this.Be=new Map,this.ke=ar(),this.qe=Ax(),this.Qe=new De(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Tm(i))if(r===0){const o=new J(i.path);this.Ue(n,o,xt.newNoDocument(o,se.min()))}else we(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(c){if(c instanceof $T)return no("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Tg(o,s,i)}catch(c){return no(c instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Tm(a.target)){const c=new J(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,xt.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=de();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new wd(e,n,this.Qe,this.ke,r);return this.ke=ar(),this.qe=Ax(),this.Qe=new De(ye),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Cx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Cx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ax(){return new De(J.comparator)}function kx(){return new De(J.comparator)}const sV={asc:"ASCENDING",desc:"DESCENDING"},iV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oV={and:"AND",or:"OR"};class aV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bm(t,e){return t.useProto3Json||md(e)?e:{value:e}}function ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lV(t,e){return ku(t,e.toTimestamp())}function Vn(t){return we(!!t),se.fromTimestamp(function(n){const r=Xr(n);return new Ye(r.seconds,r.nanos)}(t))}function Sg(t,e){return Im(t,e).canonicalString()}function Im(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mS(t){const e=Le.fromString(t);return we(xS(e)),e}function Nm(t,e){return Sg(t.databaseId,e.path)}function Hh(t,e){const n=mS(e);if(n.get(1)!==t.databaseId.projectId)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(gS(n))}function pS(t,e){return Sg(t.databaseId,e)}function cV(t){const e=mS(t);return e.length===4?Le.emptyPath():gS(e)}function Pm(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gS(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rx(t,e,n){return{name:Nm(t,e),fields:n.value.mapValue.fields}}function uV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(we(h===void 0||typeof h=="string"),ct.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?$.UNKNOWN:uS(d.code);return new X(h,d.message||"")}(o);n=new hS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Hh(t,r.document.name),i=Vn(r.document.updateTime),o=r.document.createTime?Vn(r.document.createTime):se.min(),a=new Lt({mapValue:{fields:r.document.fields}}),c=xt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Fc(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Hh(t,r.document),i=r.readTime?Vn(r.readTime):se.min(),o=xt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Fc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Hh(t,r.document),i=r.removedTargetIds||[];n=new Fc([],i,s,null)}else{if(!("filter"in e))return ne();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new ZD(s,i),a=r.targetId;n=new dS(a,o)}}return n}function dV(t,e){let n;if(e instanceof wl)n={update:Rx(t,e.key,e.value)};else if(e instanceof cS)n={delete:Nm(t,e.key)};else if(e instanceof ls)n={update:Rx(t,e.key,e.data),updateMask:wV(e.fieldMask)};else{if(!(e instanceof YD))return ne();n={verify:Nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Cu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ja)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Au)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:lV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne()}(t,e.precondition)),n}function hV(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Vn(s.updateTime):Vn(i);return o.isEqual(se.min())&&(o=Vn(i)),new KD(o,s.transformResults||[])}(n,e))):[]}function fV(t,e){return{documents:[pS(t,e.path)]}}function mV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pS(t,s);const i=function(d){if(d.length!==0)return vS(Ln.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:pi(p.field),direction:yV(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=bm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function pV(t){let e=cV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){we(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=yS(f);return p instanceof Ln&&KT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new Pu(gi(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,md(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,x=f.values||[];return new Nu(x,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,x=f.values||[];return new Nu(x,p)}(n.endAt)),jD(e,s,o,i,a,"F",c,d)}function gV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gi(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gi(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gi(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gi(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(gi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>yS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function yV(t){return sV[t]}function vV(t){return iV[t]}function xV(t){return oV[t]}function pi(t){return{fieldPath:t.canonicalString()}}function gi(t){return st.fromServerFormat(t.fieldPath)}function vS(t){return t instanceof Ge?function(n){if(n.op==="=="){if(vx(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NAN"}};if(yx(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vx(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NOT_NAN"}};if(yx(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pi(n.field),op:vV(n.op),value:n.value}}}(t):t instanceof Ln?function(n){const r=n.getFilters().map(s=>vS(s));return r.length===1?r[0]:{compositeFilter:{op:xV(n.op),filters:r}}}(t):ne()}function wV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,s,i=se.min(),o=se.min(),a=ct.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.ct=e}}function EV(t){const e=pV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.un=new SV}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Yr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class SV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new at(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new at(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new oo(0)}static kn(){return new oo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&xa(r.mutation,s,Yt.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const s=Ns();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ra();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ar();const o=va(),a=function(){return va()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ls)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),xa(h.mutation,d,h.mutation.getFieldMask(),Ye.now())):o.set(d.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return a.set(d,new IV(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=va();let s=new De((o,a)=>o-a),i=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Yt.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||de()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=tS();h.forEach(p=>{if(!i.has(p)){const x=aS(n.get(p),r.get(p));x!==null&&f.set(p,x),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Ns());let a=-1,c=i;return o.next(d=>z.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,de())).next(h=>({batchId:a,changes:eS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=ra();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ra();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,c=>{const d=function(f,p){return new pd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let a=ra();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&xa(h.mutation,d,Yt.empty(),Ye.now()),yd(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vn(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:EV(s.bundledQuery),readTime:Vn(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.overlays=new De(J.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Ns(),i=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new De((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ns(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ns(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return z.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JD(n,r));let i=this.Ir.get(n);i===void 0&&(i=de(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.Tr=new at(Je.Er),this.dr=new at(Je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new J(new Le([])),r=new Je(n,e),s=new Je(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new J(new Le([])),r=new Je(n,e),s=new Je(n,e+1);let i=de();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Je{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(Je.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new XD(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Je(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Je(n,0),s=new Je(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(ye);return n.forEach(s=>{const i=new Je(s,0),o=new Je(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new Je(new J(i),0);let a=new at(ye);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){we(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,s=>{const i=new Je(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Je(n,0),s=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.Mr=e,this.docs=function(){return new De(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=ar();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():xt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ar();const o=n.path,a=new J(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||mD(fD(h),r)<=0||(s.has(h.key)||yd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jV(this)}getSize(e){return z.resolve(this.size)}}class jV extends bV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.persistence=e,this.Nr=new _o(n=>vg(n),xg),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bg,this.targetCount=0,this.kr=oo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new mg(0),this.Kr=!1,this.Kr=!0,this.$r=new AV,this.referenceDelegate=e(this),this.Ur=new DV(this),this.indexManager=new TV,this.remoteDocumentCache=function(s){return new RV(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _V(n),this.Gr=new PV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new kV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new OV(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class OV extends gD{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Jr=new bg,this.Yr=null}static Zr(e){return new Ig(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const s=J.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=de(),s=de();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ng(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Nk()?8:yD(Tt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new MV;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Wo()<=he.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",mi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Wo()<=he.DEBUG&&G("QueryEngine","Query:",mi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Wo()<=he.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",mi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):z.resolve())}Yi(e,n){if(Ex(n))return z.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Sm(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=de(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,a);return this.ns(n,d,o,c.readTime)?this.Yi(e,Sm(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return Ex(n)||s.isEqual(se.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?z.resolve(null):(Wo()<=he.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mi(n)),this.rs(e,o,n,hD(s,-1)).next(a=>a))})}ts(e,n){let r=new at(JT(e));return n.forEach((s,i)=>{yd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Wo()<=he.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",mi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Yr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new De(ye),this._s=new _o(i=>vg(i),xg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function UV(t,e,n,r){return new FV(t,e,n,r)}async function wS(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=de();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function BV(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let x=z.resolve();return p.forEach(_=>{x=x.next(()=>h.getEntry(c,_)).next(T=>{const S=d.docVersions.get(_);we(S!==null),T.version.compareTo(S)<0&&(f.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),h.addEntry(T)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=de();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function _S(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function zV(t,e){const n=ie(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let x=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(ct.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(f,x),function(T,S,v){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,x,h)&&a.push(n.Ur.updateTargetData(i,x))});let c=ar(),d=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push($V(i,o,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(se.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function $V(t,e,n){let r=de(),s=de();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ar();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function HV(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qV(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Rr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Cm(t,e,n){const r=ie(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xl(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function jx(t,e,n){const r=ie(t);let s=se.min(),i=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=ie(c),p=f._s.get(h);return p!==void 0?z.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(r,o,jn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:se.min(),n?i:de())).next(a=>(WV(r,OD(e),a),{documents:a,Ts:i})))}function WV(t,e,n){let r=t.us.get(e)||se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Dx{constructor(){this.activeTargetIds=zD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KV{constructor(){this.so=new Dx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Dx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function qh(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class XV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=qh(),c=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,c,d,s).then(h=>(G("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw no("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=QV[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=qh();return new Promise((o,a)=>{const c=new VT;c.setWithCredentials(!0),c.listenOnce(OT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Oc.NO_ERROR:const h=c.getResponseJson();G(pt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Oc.TIMEOUT:G(pt,`RPC '${e}' ${i} timed out`),a(new X($.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const f=c.getStatus();if(G(pt,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const x=p==null?void 0:p.error;if(x&&x.status&&x.message){const _=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(x.status);a(new X(_,x.message))}else a(new X($.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new X($.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{G(pt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);G(pt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=qh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=FT(),a=LT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");G(pt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,x=!1;const _=new YV({Io:S=>{x?G(pt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(G(pt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),G(pt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},To:()=>f.close()}),T=(S,v,y)=>{S.listen(v,w=>{try{y(w)}catch(C){setTimeout(()=>{throw C},0)}})};return T(f,na.EventType.OPEN,()=>{x||(G(pt,`RPC '${e}' stream ${s} transport opened.`),_.yo())}),T(f,na.EventType.CLOSE,()=>{x||(x=!0,G(pt,`RPC '${e}' stream ${s} transport closed`),_.So())}),T(f,na.EventType.ERROR,S=>{x||(x=!0,no(pt,`RPC '${e}' stream ${s} transport errored:`,S),_.So(new X($.UNAVAILABLE,"The operation could not be completed")))}),T(f,na.EventType.MESSAGE,S=>{var v;if(!x){const y=S.data[0];we(!!y);const w=y,C=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(C){G(pt,`RPC '${e}' stream ${s} received error:`,C);const V=C.status;let k=function(P){const N=He[P];if(N!==void 0)return uS(N)}(V),b=C.message;k===void 0&&(k=$.INTERNAL,b="Unknown error status: "+V+" with message "+C.message),x=!0,_.So(new X(k,b)),f.close()}else G(pt,`RPC '${e}' stream ${s} received:`,y),_.bo(y)}}),T(a,MT.STAT_EVENT,S=>{S.stat===xm.PROXY?G(pt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===xm.NOPROXY&&G(pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new aV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n,r,s,i,o,a,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ES(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new X($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JV extends TS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=uV(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Vn(o.readTime):se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Tm(c)?{documents:fV(i,c)}:{query:mV(i,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fS(i,o.resumeToken);const d=bm(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=ku(i,o.snapshotVersion.toTimestamp());const d=bm(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=gV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.a_(n)}}class ZV extends TS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return we(!!e.streamToken),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=hV(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Pm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Im(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X($.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Im(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class tO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(or(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ti(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=ie(c);d.L_.add(4),await El(d),d.q_.set("Unknown"),d.L_.delete(4),await Ed(d)}(this))})}),this.q_=new tO(r,s)}}async function Ed(t){if(ti(t))for(const e of t.B_)await e(!0)}async function El(t){for(const e of t.B_)await e(!1)}function SS(t,e){const n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),kg(n)?Ag(n):Eo(n).r_()&&Cg(n,e))}function Pg(t,e){const n=ie(t),r=Eo(n);n.N_.delete(e),r.r_()&&bS(n,e),n.N_.size===0&&(r.r_()?r.o_():ti(n)&&n.q_.set("Unknown"))}function Cg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(t).A_(e)}function bS(t,e){t.Q_.xe(e),Eo(t).R_(e)}function Ag(t){t.Q_=new rV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Eo(t).start(),t.q_.v_()}function kg(t){return ti(t)&&!Eo(t).n_()&&t.N_.size>0}function ti(t){return ie(t).L_.size===0}function IS(t){t.Q_=void 0}async function rO(t){t.q_.set("Online")}async function sO(t){t.N_.forEach((e,n)=>{Cg(t,e)})}async function iO(t,e){IS(t),kg(t)?(t.q_.M_(e),Ag(t)):t.q_.set("Unknown")}async function oO(t,e,n){if(t.q_.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ru(t,r)}else if(e instanceof Fc?t.Q_.Ke(e):e instanceof dS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(se.min()))try{const r=await _S(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(ct.EMPTY_BYTE_STRING,h.snapshotVersion)),bS(i,c);const f=new Rr(h.target,c,d,h.sequenceNumber);Cg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Ru(t,r)}}async function Ru(t,e,n){if(!xl(e))throw e;t.L_.add(1),await El(t),t.q_.set("Offline"),n||(n=()=>_S(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ed(t)})}function NS(t,e){return e().catch(n=>Ru(t,n,e))}async function Td(t){const e=ie(t),n=Jr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;aO(e);)try{const s=await HV(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,lO(e,s)}catch(s){await Ru(e,s)}PS(e)&&CS(e)}function aO(t){return ti(t)&&t.O_.length<10}function lO(t,e){t.O_.push(e);const n=Jr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function PS(t){return ti(t)&&!Jr(t).n_()&&t.O_.length>0}function CS(t){Jr(t).start()}async function cO(t){Jr(t).p_()}async function uO(t){const e=Jr(t);for(const n of t.O_)e.m_(n.mutations)}async function dO(t,e,n){const r=t.O_.shift(),s=Eg.from(r,e,n);await NS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Td(t)}async function hO(t,e){e&&Jr(t).V_&&await async function(r,s){if(function(o){return eV(o)&&o!==$.ABORTED}(s.code)){const i=r.O_.shift();Jr(r).s_(),await NS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Td(r)}}(t,e),PS(t)&&CS(t)}async function Ox(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=ti(n);n.L_.add(3),await El(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ed(n)}async function fO(t,e){const n=ie(t);e?(n.L_.delete(2),await Ed(n)):e||(n.L_.add(2),await El(n),n.q_.set("Unknown"))}function Eo(t){return t.K_||(t.K_=function(n,r,s){const i=ie(n);return i.w_(),new JV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:rO.bind(null,t),Ro:sO.bind(null,t),mo:iO.bind(null,t),d_:oO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),kg(t)?Ag(t):t.q_.set("Unknown")):(await t.K_.stop(),IS(t))})),t.K_}function Jr(t){return t.U_||(t.U_=function(n,r,s){const i=ie(n);return i.w_(),new ZV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cO.bind(null,t),mo:hO.bind(null,t),f_:uO.bind(null,t),g_:dO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Td(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Rg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(t,e){if(or("AsyncQueue",`${e}: ${t}`),xl(t))return new X($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=ra(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new $i(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $i;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.W_=new De(J.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ao{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ao(e,n,$i.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class pO{constructor(){this.queries=Lx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ie(n),i=s.queries;s.queries=Lx(),i.forEach((o,a)=>{for(const c of a.j_)c.onError(r)})})(this,new X($.ABORTED,"Firestore shutting down"))}}function Lx(){return new _o(t=>XT(t),gd)}async function gO(t,e){const n=ie(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new mO,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=jg(o,`Initialization of query '${mi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Dg(n)}async function yO(t,e){const n=ie(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vO(t,e){const n=ie(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Dg(n)}function xO(t,e,n){const r=ie(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Dg(t){t.Y_.forEach(e=>{e.next()})}var Am,Fx;(Fx=Am||(Am={})).ea="default",Fx.Cache="cache";class wO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.key=e}}class kS{constructor(e){this.key=e}}class _O{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=JT(e),this.Ra=new $i(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Mx,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),x=yd(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;p&&x?p.data.isEqual(x.data)?_!==T&&(r.track({type:3,doc:x}),S=!0):this.ga(p,x)||(r.track({type:2,doc:x}),S=!0,(c&&this.Aa(x,c)>0||d&&this.Aa(x,d)<0)&&(a=!0)):!p&&x?(r.track({type:0,doc:x}),S=!0):p&&!x&&(r.track({type:1,doc:p}),S=!0,(c||d)&&(a=!0)),S&&(x?(o=o.add(x),i=T?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(x,_){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return T(x)-T(_)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new ao(this.query,e.Ra,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Mx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new kS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new AS(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ao.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class EO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TO{constructor(e){this.key=e,this.va=!1}}class SO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new _o(a=>XT(a),gd),this.Ma=new Map,this.xa=new Set,this.Oa=new De(J.comparator),this.Na=new Map,this.La=new bg,this.Ba={},this.ka=new Map,this.qa=oo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bO(t,e,n=!0){const r=MS(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await RS(r,e,n,!0),s}async function IO(t,e){const n=MS(t);await RS(n,e,!0,!1)}async function RS(t,e,n,r){const s=await qV(t.localStore,jn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await NO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&SS(t.remoteStore,s),a}async function NO(t,e,n,r,s){t.Ka=(f,p,x)=>async function(T,S,v,y){let w=S.view.ma(v);w.ns&&(w=await jx(T.localStore,S.query,!1).then(({documents:b})=>S.view.ma(b,w)));const C=y&&y.targetChanges.get(S.targetId),V=y&&y.targetMismatches.get(S.targetId)!=null,k=S.view.applyChanges(w,T.isPrimaryClient,C,V);return Bx(T,S.targetId,k.wa),k.snapshot}(t,f,p,x);const i=await jx(t.localStore,e,!0),o=new _O(e,i.Ts),a=o.ma(i.documents),c=_l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);Bx(t,n,d.wa);const h=new EO(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function PO(t,e,n){const r=ie(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!gd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Cm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Pg(r.remoteStore,s.targetId),km(r,s.targetId)}).catch(vl)):(km(r,s.targetId),await Cm(r.localStore,s.targetId,!0))}async function CO(t,e){const n=ie(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pg(n.remoteStore,r.targetId))}async function AO(t,e,n){const r=MO(t);try{const s=await function(o,a){const c=ie(o),d=Ye.now(),h=a.reduce((x,_)=>x.add(_.key),de());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let _=ar(),T=de();return c.cs.getEntries(x,h).next(S=>{_=S,_.forEach((v,y)=>{y.isValidDocument()||(T=T.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,_)).next(S=>{f=S;const v=[];for(const y of a){const w=QD(y,f.get(y.key).overlayedDocument);w!=null&&v.push(new ls(y.key,w,HT(w.value.mapValue),Dn.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,v,a)}).next(S=>{p=S;const v=S.applyToLocalDocumentSet(f,T);return c.documentOverlayCache.saveOverlays(x,S.batchId,v)})}).then(()=>({batchId:p.batchId,changes:eS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new De(ye)),d=d.insert(a,c),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await Tl(r,s.changes),await Td(r.remoteStore)}catch(s){const i=jg(s,"Failed to persist write");n.reject(i)}}async function jS(t,e){const n=ie(t);try{const r=await zV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?we(o.va):s.removedDocuments.size>0&&(we(o.va),o.va=!1))}),await Tl(n,r,e)}catch(r){await vl(r)}}function Ux(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ie(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(d=!0)}),d&&Dg(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kO(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new De(J.comparator);o=o.insert(i,xt.newNoDocument(i,se.min()));const a=de().add(i),c=new wd(se.min(),new Map,new De(ye),o,a);await jS(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),Vg(r)}else await Cm(r.localStore,e,!1).then(()=>km(r,e,n)).catch(vl)}async function RO(t,e){const n=ie(t),r=e.batch.batchId;try{const s=await BV(n.localStore,e);VS(n,r,null),DS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tl(n,s)}catch(s){await vl(s)}}async function jO(t,e,n){const r=ie(t);try{const s=await function(o,a){const c=ie(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(we(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);VS(r,e,n),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tl(r,s)}catch(s){await vl(s)}}function DS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function VS(t,e,n){const r=ie(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function km(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||OS(t,r)})}function OS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Pg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Vg(t))}function Bx(t,e,n){for(const r of n)r instanceof AS?(t.La.addReference(r.key,e),DO(t,r)):r instanceof kS?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||OS(t,r.key)):ne()}function DO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),Vg(t))}function Vg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new J(Le.fromString(e)),r=t.qa.next();t.Na.set(r,new TO(n)),t.Oa=t.Oa.insert(n,r),SS(t.remoteStore,new Rr(jn(wg(n.path)),r,"TargetPurposeLimboResolution",mg.oe))}}async function Tl(t,e,n){const r=ie(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Ng.Wi(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,d){const h=ie(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(d,p=>z.forEach(p.$i,x=>h.persistence.referenceDelegate.addReference(f,p.targetId,x)).next(()=>z.forEach(p.Ui,x=>h.persistence.referenceDelegate.removeReference(f,p.targetId,x)))))}catch(f){if(!xl(f))throw f;G("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const x=h.os.get(p),_=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(_);h.os=h.os.insert(p,T)}}}(r.localStore,i))}async function VO(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await wS(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(c=>{c.reject(new X($.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tl(n,r.hs)}}function OO(t,e){const n=ie(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let s=de();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function MS(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.Ca.d_=vO.bind(null,e.eventManager),e.Ca.$a=xO.bind(null,e.eventManager),e}function MO(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jO.bind(null,e),e}class ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return UV(this.persistence,new LV,e.initialUser,this.serializer)}Ga(e){return new VV(Ig.Zr,this.serializer)}Wa(e){return new KV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ju.provider={build:()=>new ju};class Rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ux(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VO.bind(null,this.syncEngine),await fO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pO}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),r=function(i){return new XV(i)}(e.databaseInfo);return function(i,o,a,c){return new eO(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new nO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ux(this.syncEngine,n,0),function(){return Vx.D()?new Vx:new GV}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new SO(s,i,o,a,c,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ie(s);G("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await El(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yt.UNAUTHENTICATED,this.clientId=BT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UO(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ox(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Ox(e.remoteStore,s)),t._onlineComponents=e}async function UO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await Kh(t,new ju)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Kh(t,new ju);return t._offlineComponents}async function LS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await zx(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await zx(t,new Rm))),t._onlineComponents}function BO(t){return LS(t).then(e=>e.syncEngine)}async function zO(t){const e=await LS(t),n=e.eventManager;return n.onListen=bO.bind(null,e.syncEngine),n.onUnlisten=PO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CO.bind(null,e.syncEngine),n}function $O(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new LO({next:p=>{h.Za(),o.enqueueAndForget(()=>yO(i,f));const x=p.docs.has(a);!x&&p.fromCache?d.reject(new X($.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&p.fromCache&&c&&c.source==="server"?d.reject(new X($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new wO(wg(a.path),h,{includeMetadataChanges:!0,_a:!0});return gO(i,f)}(await zO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t,e,n){if(!n)throw new X($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qO(t,e,n,r){if(e===!0&&r===!0)throw new X($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hx(t){if(!J.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Ks(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Og(t);throw new X($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rD;switch(r.type){case"firstParty":return new aD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$x.get(n);r&&(G("ComponentProvider","Removing Datastore"),$x.delete(n),r.terminate())}(this),Promise.resolve()}}function WO(t,e,n,r={}){var s;const i=(t=Ks(t,Mg))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=yt.MOCK_USER;else{a=wk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new X($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new yt(d)}t._authCredentials=new sD(new UT(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lg(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Za extends Lg{constructor(e,n,r){super(e,n,wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new J(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function hi(t,e,...n){if(t=St(t),arguments.length===1&&(e=BT.newId()),HO("doc","path",e),t instanceof Mg){const r=Le.fromString(e,...n);return Hx(r),new Jt(t,null,new J(r))}{if(!(t instanceof Jt||t instanceof Za))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Hx(r),new Jt(t.firestore,t instanceof Za?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ES(this,"async_queue_retry"),this.Vu=()=>{const r=Wh();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Wr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xl(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Rg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Sd extends Mg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Wx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wx(e),this._firestoreClient=void 0,await e}}}function KO(t,e){const n=typeof t=="object"?t:X1(),r=typeof t=="string"?t:"(default)",s=rg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=vk("firestore");i&&WO(s,...i)}return s}function US(t){if(t._terminated)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GO(t),t._firestoreClient}function GO(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,d,h){return new wD(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new FO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lo(ct.fromBase64String(e))}catch(n){throw new X($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lo(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=/^__.*__$/;class YO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new wl(e,this.data,n,this.fieldTransforms)}}class BS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class zg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Du(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(zS(this.Cu)&&QO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class XO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_d(e)}Qu(e,n,r,s=!1){return new zg({Cu:e,methodName:n,qu:r,path:st.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $S(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new XO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JO(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);$g("Data must be an object, but it was:",o,r);const a=HS(r,o);let c,d;if(i.merge)c=new Yt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=jm(e,f,n);if(!o.contains(p))throw new X($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);WS(h,p)||h.push(p)}c=new Yt(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new YO(new Lt(a),c,d)}class Id extends Fg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}function ZO(t,e,n,r){const s=t.Qu(1,e,n);$g("Data must be an object, but it was:",s,r);const i=[],o=Lt.empty();ei(r,(c,d)=>{const h=Hg(e,c,n);d=St(d);const f=s.Nu(h);if(d instanceof Id)i.push(h);else{const p=Nd(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new Yt(i);return new BS(o,a,s.fieldTransforms)}function eM(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[jm(e,r,n)],c=[s];if(i.length%2!=0)throw new X($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(jm(e,i[p])),c.push(i[p+1]);const d=[],h=Lt.empty();for(let p=a.length-1;p>=0;--p)if(!WS(d,a[p])){const x=a[p];let _=c[p];_=St(_);const T=o.Nu(x);if(_ instanceof Id)d.push(x);else{const S=Nd(_,T);S!=null&&(d.push(x),h.set(x,S))}}const f=new Yt(d);return new BS(h,f,o.fieldTransforms)}function Nd(t,e){if(qS(t=St(t)))return $g("Unsupported field value:",e,t),HS(t,e);if(t instanceof Fg)return function(r,s){if(!zS(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Nd(a,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $D(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:ku(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ku(s.serializer,i)}}if(r instanceof Ug)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lo)return{bytesValue:fS(s.serializer,r._byteString)};if(r instanceof Jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Bg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return _g(a.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Og(r)}`)}(t,e)}function HS(t,e){const n={};return zT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(t,(r,s)=>{const i=Nd(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function qS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Ug||t instanceof lo||t instanceof Jt||t instanceof Fg||t instanceof Bg)}function $g(t,e,n){if(!qS(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Og(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function jm(t,e,n){if((e=St(e))instanceof bd)return e._internalPath;if(typeof e=="string")return Hg(t,e);throw Du("Field path arguments must be of type string or ",t,!1,void 0,n)}const tM=new RegExp("[~\\*/\\[\\]]");function Hg(t,e,n){if(e.search(tM)>=0)throw Du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bd(...e.split("."))._internalPath}catch{throw Du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Du(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new X($.INVALID_ARGUMENT,a+t+c)}function WS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(GS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nM extends KS{data(){return super.data()}}function GS(t,e){return typeof e=="string"?Hg(t,e):e instanceof bd?e._internalPath:e._delegate._internalPath}class rM{convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ei(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Fe(o.doubleValue));return new Bg(i)}convertGeoPoint(e){return new Ug(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ga(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);we(xS(r));const s=new Qa(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||or(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QS extends KS{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(GS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class oM extends QS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){t=Ks(t,Jt);const e=Ks(t.firestore,Sd);return $O(US(e),t._key).then(n=>cM(e,t,n))}class lM extends rM{constructor(e){super(),this.firestore=e}convertBytes(e){return new lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Gh(t,e,n){t=Ks(t,Jt);const r=Ks(t.firestore,Sd),s=sM(t.converter,e);return YS(r,[JO($S(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Dn.none())])}function Kx(t,e,n,...r){t=Ks(t,Jt);const s=Ks(t.firestore,Sd),i=$S(s);let o;return o=typeof(e=St(e))=="string"||e instanceof bd?eM(i,"updateDoc",t._key,e,n,r):ZO(i,"updateDoc",t._key,e),YS(s,[o.toMutation(t._key,Dn.exists(!0))])}function YS(t,e){return function(r,s){const i=new Wr;return r.asyncQueue.enqueueAndForget(async()=>AO(await BO(r),s,i)),i.promise}(US(t),e)}function cM(t,e,n){const r=n.docs.get(e._key),s=new lM(t);return new QS(t,s,e._key,r,new iM(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){wo=s})(vo),to(new Bs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Sd(new iD(r.getProvider("auth-internal")),new cD(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),qr(hx,"4.7.3",e),qr(hx,"4.7.3","esm2017")})();var uM="firebase",dM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(uM,dM,"app");const hM={apiKey:"AIzaSyD2QdLSfYX587yackaTTUtx_D_MLoLcvS4",authDomain:"bfsi-fraud-detection-app.firebaseapp.com",projectId:"bfsi-fraud-detection-app",storageBucket:"bfsi-fraud-detection-app.firebasestorage.app",messagingSenderId:"73965566370",appId:"1:73965566370:web:7326e3529b30a08cde5afb",measurementId:"G-HJ3HSCNXMN"},XS=Y1(hM),jr=tD(XS),fi=KO(XS);let fM={data:""},mM=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||fM,pM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gM=/\/\*[^]*?\*\/|  +/g,Gx=/\n+/g,Pr=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Pr(o,i):i+"{"+Pr(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Pr(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Pr.p?Pr.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Bn={},JS=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+JS(t[n]);return e}return t},yM=(t,e,n,r,s)=>{let i=JS(t),o=Bn[i]||(Bn[i]=(c=>{let d=0,h=11;for(;d<c.length;)h=101*h+c.charCodeAt(d++)>>>0;return"go"+h})(i));if(!Bn[o]){let c=i!==t?t:(d=>{let h,f,p=[{}];for(;h=pM.exec(d.replace(gM,""));)h[4]?p.shift():h[3]?(f=h[3].replace(Gx," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][h[1]]=h[2].replace(Gx," ").trim();return p[0]})(t);Bn[o]=Pr(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let a=n&&Bn.g?Bn.g:null;return n&&(Bn.g=Bn[o]),((c,d,h,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=h?c+d.data:d.data+c)})(Bn[o],e,r,a),o},vM=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=c?"."+c:a&&typeof a=="object"?a.props?"":Pr(a,""):a===!1?"":a}return r+s+(o??"")},"");function Pd(t){let e=this||{},n=t.call?t(e.p):t;return yM(n.unshift?n.raw?vM(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,mM(e.target),e.g,e.o,e.k)}let ZS,Dm,Vm;Pd.bind({g:1});let lr=Pd.bind({k:1});function xM(t,e,n,r){Pr.p=e,ZS=t,Dm=n,Vm=r}function cs(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),c=a.className||s.className;n.p=Object.assign({theme:Dm&&Dm()},a),n.o=/ *go\d+/.test(c),a.className=Pd.apply(n,r)+(c?" "+c:"");let d=t;return t[0]&&(d=a.as||t,delete a.as),Vm&&d[0]&&Vm(a),ZS(d,a)}return s}}var wM=t=>typeof t=="function",Vu=(t,e)=>wM(t)?t(e):t,_M=(()=>{let t=0;return()=>(++t).toString()})(),eb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),EM=20,tb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,EM)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return tb(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Uc=[],Ps={toasts:[],pausedAt:void 0},ni=t=>{Ps=tb(Ps,t),Uc.forEach(e=>{e(Ps)})},TM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},SM=(t={})=>{let[e,n]=j.useState(Ps),r=j.useRef(Ps);j.useEffect(()=>(r.current!==Ps&&n(Ps),Uc.push(n),()=>{let i=Uc.indexOf(n);i>-1&&Uc.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||TM[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:s}},bM=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||_M()}),Sl=t=>(e,n)=>{let r=bM(e,t,n);return ni({type:2,toast:r}),r.id},Me=(t,e)=>Sl("blank")(t,e);Me.error=Sl("error");Me.success=Sl("success");Me.loading=Sl("loading");Me.custom=Sl("custom");Me.dismiss=t=>{ni({type:3,toastId:t})};Me.remove=t=>ni({type:4,toastId:t});Me.promise=(t,e,n)=>{let r=Me.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Vu(e.success,s):void 0;return i?Me.success(i,{id:r,...n,...n==null?void 0:n.success}):Me.dismiss(r),s}).catch(s=>{let i=e.error?Vu(e.error,s):void 0;i?Me.error(i,{id:r,...n,...n==null?void 0:n.error}):Me.dismiss(r)}),t};var IM=(t,e)=>{ni({type:1,toast:{id:t,height:e}})},NM=()=>{ni({type:5,time:Date.now()})},wa=new Map,PM=1e3,CM=(t,e=PM)=>{if(wa.has(t))return;let n=setTimeout(()=>{wa.delete(t),ni({type:4,toastId:t})},e);wa.set(t,n)},AM=t=>{let{toasts:e,pausedAt:n}=SM(t);j.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let c=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(c<0){a.visible&&Me.dismiss(a.id);return}return setTimeout(()=>Me.dismiss(a.id),c)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=j.useCallback(()=>{n&&ni({type:6,time:Date.now()})},[n]),s=j.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:c=8,defaultPosition:d}=o||{},h=e.filter(x=>(x.position||d)===(i.position||d)&&x.height),f=h.findIndex(x=>x.id===i.id),p=h.filter((x,_)=>_<f&&x.visible).length;return h.filter(x=>x.visible).slice(...a?[p+1]:[0,p]).reduce((x,_)=>x+(_.height||0)+c,0)},[e]);return j.useEffect(()=>{e.forEach(i=>{if(i.dismissed)CM(i.id,i.removeDelay);else{let o=wa.get(i.id);o&&(clearTimeout(o),wa.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:IM,startPause:NM,endPause:r,calculateOffset:s}}},kM=lr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,RM=lr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jM=lr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,DM=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${RM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,VM=lr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,OM=cs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${VM} 1s linear infinite;
`,MM=lr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,LM=lr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,FM=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${LM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,UM=cs("div")`
  position: absolute;
`,BM=cs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zM=lr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$M=cs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,HM=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?j.createElement($M,null,e):e:n==="blank"?null:j.createElement(BM,null,j.createElement(OM,{...r}),n!=="loading"&&j.createElement(UM,null,n==="error"?j.createElement(DM,{...r}):j.createElement(FM,{...r})))},qM=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,WM=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,KM="0%{opacity:0;} 100%{opacity:1;}",GM="0%{opacity:1;} 100%{opacity:0;}",QM=cs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,YM=cs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,XM=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=eb()?[KM,GM]:[qM(n),WM(n)];return{animation:e?`${lr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${lr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},JM=j.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?XM(t.position||e||"top-center",t.visible):{opacity:0},i=j.createElement(HM,{toast:t}),o=j.createElement(YM,{...t.ariaProps},Vu(t.message,t));return j.createElement(QM,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):j.createElement(j.Fragment,null,i,o))});xM(j.createElement);var ZM=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=j.useCallback(o=>{if(o){let a=()=>{let c=o.getBoundingClientRect().height;r(t,c)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return j.createElement("div",{ref:i,className:e,style:n},s)},eL=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},tL=Pd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pc=16,nL=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:c}=AM(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:pc,left:pc,right:pc,bottom:pc,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},a.map(d=>{let h=d.position||e,f=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),p=eL(h,f);return j.createElement(ZM,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?tL:"",style:p},d.type==="custom"?Vu(d.message,d):s?s(d):j.createElement(JM,{toast:d,position:h}))}))},ce=Me;const nb=j.createContext(),Wt=()=>{const t=j.useContext(nb);if(!t)throw new Error("useAuth must be used within a UserProvider");return t},rL=({children:t})=>{const[e,n]=j.useState(null),[r,s]=j.useState(!0),[i,o]=j.useState(null),[a,c]=j.useState(!0);j.useEffect(()=>$2(jr,async v=>{if(console.log("Auth state changed:",v?"User logged in":"No user"),n(v),v)try{const y=await aM(hi(fi,"users",v.uid));if(y.exists()){const w=y.data();console.log("Profile data:",w),o(w)}else try{const w={email:v.email,createdAt:new Date,profileComplete:!1};await Gh(hi(fi,"users",v.uid),w),o(w)}catch{console.warn("Firestore not available, using local storage fallback"),c(!1);const C=localStorage.getItem(`userProfile_${v.uid}`);if(C){const V=JSON.parse(C);o(V)}else{const V={email:v.email,createdAt:new Date,profileComplete:!1};o(V)}}}catch(y){console.error("Error checking user profile:",y),c(!1);const w=localStorage.getItem(`userProfile_${v.uid}`);if(w){const C=JSON.parse(w);o(C)}else{const C={email:v.email,createdAt:new Date,profileComplete:!1};o(C)}}else o(null);s(!1)}),[]);const T={user:e,userProfile:i,loading:r,firestoreAvailable:a,signup:async(S,v)=>{try{const w=(await F2(jr,S,v)).user;try{const C={email:w.email,createdAt:new Date,profileComplete:!1};await Gh(hi(fi,"users",w.uid),C),o(C)}catch{console.warn("Firestore not available, using local storage fallback"),c(!1);const V={email:w.email,createdAt:new Date,profileComplete:!1};localStorage.setItem(`userProfile_${w.uid}`,JSON.stringify(V)),o(V)}return ce.success("Account created successfully!"),w}catch(y){throw console.error("Signup error:",y),y.code==="auth/email-already-in-use"?ce.error("An account with this email already exists. Please try logging in."):y.code==="auth/weak-password"?ce.error("Password should be at least 6 characters long."):ce.error("Failed to create account. Please try again."),y}},login:async(S,v)=>{try{const y=await U2(jr,S,v);return ce.success("Logged in successfully!"),y.user}catch(y){throw console.error("Login error:",y),y.code==="auth/invalid-credential"?ce.error("Invalid email or password. Please try again."):y.code==="auth/user-not-found"?ce.error("No account found with this email. Please sign up first."):y.code==="auth/wrong-password"?ce.error("Incorrect password. Please try again."):ce.error("Login failed. Please try again."),y}},logout:async()=>{try{await H2(jr),o(null),ce.success("Logged out successfully!")}catch(S){console.error("Logout error:",S),ce.error("Logout failed. Please try again.")}},saveProfile:async S=>{if(!e)throw new Error("No user logged in");try{const v={...S,profileComplete:!0,updatedAt:new Date};return a?await Kx(hi(fi,"users",e.uid),v):localStorage.setItem(`userProfile_${e.uid}`,JSON.stringify(v)),o(v),ce.success("Profile saved successfully!"),{success:!0}}catch(v){throw console.error("Error saving profile:",v),ce.error("Failed to save profile. Please try again."),v}},updateProfile:async S=>{if(!e)throw new Error("No user logged in");try{const v={...i,...S,updatedAt:new Date};return a?await Kx(hi(fi,"users",e.uid),v):localStorage.setItem(`userProfile_${e.uid}`,JSON.stringify(v)),o(v),ce.success("Profile updated successfully!"),{success:!0}}catch(v){throw console.error("Error updating profile:",v),ce.error("Failed to update profile. Please try again."),v}},clearAllData:async()=>{try{return localStorage.clear(),a&&e&&await Gh(hi(fi,"users",e.uid),{email:e.email,createdAt:new Date,profileComplete:!1}),o(null),ce.success("All data cleared successfully!"),{success:!0}}catch(S){throw console.error("Error clearing data:",S),ce.error("Failed to clear data. Please try again."),S}}};return l.jsx(nb.Provider,{value:T,children:t})},rb=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Cd=j.createContext({}),Ad=j.createContext(null),kd=typeof document<"u",qg=kd?j.useLayoutEffect:j.useEffect,sb=j.createContext({strict:!1}),Wg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),sL="framerAppearId",ib="data-"+Wg(sL);function iL(t,e,n,r){const{visualElement:s}=j.useContext(Cd),i=j.useContext(sb),o=j.useContext(Ad),a=j.useContext(rb).reducedMotion,c=j.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const d=c.current;j.useInsertionEffect(()=>{d&&d.update(n,o)});const h=j.useRef(!!(n[ib]&&!window.HandoffComplete));return qg(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),j.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function Ai(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oL(t,e,n){return j.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ai(n)&&(n.current=r))},[e])}function el(t){return typeof t=="string"||Array.isArray(t)}function Rd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Kg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gg=["initial",...Kg];function jd(t){return Rd(t.animate)||Gg.some(e=>el(t[e]))}function ob(t){return!!(jd(t)||t.variants)}function aL(t,e){if(jd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||el(n)?n:void 0,animate:el(r)?r:void 0}}return t.inherit!==!1?e:{}}function lL(t){const{initial:e,animate:n}=aL(t,j.useContext(Cd));return j.useMemo(()=>({initial:e,animate:n}),[Qx(e),Qx(n)])}function Qx(t){return Array.isArray(t)?t.join(" "):t}const Yx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const t in Yx)tl[t]={isEnabled:e=>Yx[t].some(n=>!!e[n])};function cL(t){for(const e in t)tl[e]={...tl[e],...t[e]}}const Qg=j.createContext({}),ab=j.createContext({}),uL=Symbol.for("motionComponentSymbol");function dL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&cL(t);function i(a,c){let d;const h={...j.useContext(rb),...a,layoutId:hL(a)},{isStatic:f}=h,p=lL(a),x=r(a,f);if(!f&&kd){p.visualElement=iL(s,x,h,e);const _=j.useContext(ab),T=j.useContext(sb).strict;p.visualElement&&(d=p.visualElement.loadFeatures(h,T,t,_))}return j.createElement(Cd.Provider,{value:p},d&&p.visualElement?j.createElement(d,{visualElement:p.visualElement,...h}):null,n(s,a,oL(x,p.visualElement,c),x,f,p.visualElement))}const o=j.forwardRef(i);return o[uL]=s,o}function hL({layoutId:t}){const e=j.useContext(Qg).id;return e&&t!==void 0?e+"-"+t:t}function fL(t){function e(r,s={}){return dL(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const mL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yg(t){return typeof t!="string"||t.includes("-")?!1:!!(mL.indexOf(t)>-1||/[A-Z]/.test(t))}const Ou={};function pL(t){Object.assign(Ou,t)}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ri=new Set(bl);function lb(t,{layout:e,layoutId:n}){return ri.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ou[t]||t==="opacity")}const qt=t=>!!(t&&t.getVelocity),gL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yL=bl.length;function vL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<yL;o++){const a=bl[o];if(t[a]!==void 0){const c=gL[a]||a;i+=`${c}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const cb=t=>e=>typeof e=="string"&&e.startsWith(t),ub=cb("--"),Om=cb("var(--"),xL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,wL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Zr=(t,e,n)=>Math.min(Math.max(n,t),e),si={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_a={...si,transform:t=>Zr(0,1,t)},gc={...si,default:1},Ea=t=>Math.round(t*1e5)/1e5,Dd=/(-)?([\d]*\.?[\d])+/g,db=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,_L=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Il(t){return typeof t=="string"}const Nl=t=>({test:e=>Il(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vr=Nl("deg"),On=Nl("%"),Z=Nl("px"),EL=Nl("vh"),TL=Nl("vw"),Xx={...On,parse:t=>On.parse(t)/100,transform:t=>On.transform(t*100)},Jx={...si,transform:Math.round},hb={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:vr,rotateX:vr,rotateY:vr,rotateZ:vr,scale:gc,scaleX:gc,scaleY:gc,scaleZ:gc,skew:vr,skewX:vr,skewY:vr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:_a,originX:Xx,originY:Xx,originZ:Z,zIndex:Jx,fillOpacity:_a,strokeOpacity:_a,numOctaves:Jx};function Xg(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let c=!1,d=!1,h=!0;for(const f in e){const p=e[f];if(ub(f)){i[f]=p;continue}const x=hb[f],_=wL(p,x);if(ri.has(f)){if(c=!0,o[f]=_,!h)continue;p!==(x.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,a[f]=_):s[f]=_}if(e.transform||(c||r?s.transform=vL(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:x=0}=a;s.transformOrigin=`${f} ${p} ${x}`}}const Jg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fb(t,e,n){for(const r in e)!qt(e[r])&&!lb(r,n)&&(t[r]=e[r])}function SL({transformTemplate:t},e,n){return j.useMemo(()=>{const r=Jg();return Xg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function bL(t,e,n){const r=t.style||{},s={};return fb(s,r,t),Object.assign(s,SL(t,e,n)),t.transformValues?t.transformValues(s):s}function IL(t,e,n){const r={},s=bL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const NL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||NL.has(t)}let mb=t=>!Mu(t);function PL(t){t&&(mb=e=>e.startsWith("on")?!Mu(e):t(e))}try{PL(require("@emotion/is-prop-valid").default)}catch{}function CL(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(mb(s)||n===!0&&Mu(s)||!e&&!Mu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Zx(t,e,n){return typeof t=="string"?t:Z.transform(e+n*t)}function AL(t,e,n){const r=Zx(e,t.x,t.width),s=Zx(n,t.y,t.height);return`${r} ${s}`}const kL={offset:"stroke-dashoffset",array:"stroke-dasharray"},RL={offset:"strokeDashoffset",array:"strokeDasharray"};function jL(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?kL:RL;t[i.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[i.array]=`${o} ${a}`}function Zg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...d},h,f,p){if(Xg(t,d,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:_,dimensions:T}=t;x.transform&&(T&&(_.transform=x.transform),delete x.transform),T&&(s!==void 0||i!==void 0||_.transform)&&(_.transformOrigin=AL(T,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),o!==void 0&&jL(x,o,a,c,!1)}const pb=()=>({...Jg(),attrs:{}}),ey=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DL(t,e,n,r){const s=j.useMemo(()=>{const i=pb();return Zg(i,e,{enableHardwareAcceleration:!1},ey(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};fb(i,t.style,t),s.style={...i,...s.style}}return s}function VL(t=!1){return(n,r,s,{latestValues:i},o)=>{const c=(Yg(n)?DL:IL)(r,i,o,n),h={...CL(r,typeof n=="string",t),...c,ref:s},{children:f}=r,p=j.useMemo(()=>qt(f)?f.get():f,[f]);return j.createElement(n,{...h,children:p})}}function gb(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const yb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vb(t,e,n,r){gb(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(yb.has(s)?s:Wg(s),e.attrs[s])}function ty(t,e){const{style:n}=t,r={};for(const s in n)(qt(n[s])||e.style&&qt(e.style[s])||lb(s,t))&&(r[s]=n[s]);return r}function xb(t,e){const n=ty(t,e);for(const r in t)if(qt(t[r])||qt(e[r])){const s=bl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function ny(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function wb(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const Lu=t=>Array.isArray(t),OL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),ML=t=>Lu(t)?t[t.length-1]||0:t;function Bc(t){const e=qt(t)?t.get():t;return OL(e)?e.toValue():e}function LL({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:FL(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const _b=t=>(e,n)=>{const r=j.useContext(Cd),s=j.useContext(Ad),i=()=>LL(t,e,r,s);return n?i():wb(i)};function FL(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Bc(i[p]);let{initial:o,animate:a}=t;const c=jd(t),d=ob(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!Rd(f)&&(Array.isArray(f)?f:[f]).forEach(x=>{const _=ny(t,x);if(!_)return;const{transitionEnd:T,transition:S,...v}=_;for(const y in v){let w=v[y];if(Array.isArray(w)){const C=h?w.length-1:0;w=w[C]}w!==null&&(s[y]=w)}for(const y in T)s[y]=T[y]}),s}const Be=t=>t;class ew{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function UL(t){let e=new ew,n=new ew,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,d=!1,h=!1)=>{const f=h&&s,p=f?e:n;return d&&o.add(c),p.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(c),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(c))}};return a}const yc=["prepare","read","update","preRender","render","postRender"],BL=40;function zL(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=yc.reduce((f,p)=>(f[p]=UL(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,BL),1),s.timestamp=f,s.isProcessing=!0,yc.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},c=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:yc.reduce((f,p)=>{const x=i[p];return f[p]=(_,T=!1,S=!1)=>(n||c(),x.schedule(_,T,S)),f},{}),cancel:f=>yc.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:Se,cancel:cr,state:gt,steps:Qh}=zL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Be,!0),$L={useVisualState:_b({scrapeMotionValuesFromProps:xb,createRenderState:pb,onMount:(t,e,{renderState:n,latestValues:r})=>{Se.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Se.render(()=>{Zg(n,r,{enableHardwareAcceleration:!1},ey(e.tagName),t.transformTemplate),vb(e,n)})}})},HL={useVisualState:_b({scrapeMotionValuesFromProps:ty,createRenderState:Jg})};function qL(t,{forwardMotionProps:e=!1},n,r){return{...Yg(t)?$L:HL,preloadedFeatures:n,useRender:VL(e),createVisualElement:r,Component:t}}function Qn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Eb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Vd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const WL=t=>e=>Eb(e)&&t(e,Vd(e));function Jn(t,e,n,r){return Qn(t,e,WL(n),r)}const KL=(t,e)=>n=>e(t(n)),Kr=(...t)=>t.reduce(KL);function Tb(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const tw=Tb("dragHorizontal"),nw=Tb("dragVertical");function Sb(t){let e=!1;if(t==="y")e=nw();else if(t==="x")e=tw();else{const n=tw(),r=nw();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function bb(){const t=Sb(!0);return t?(t(),!1):!0}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}function rw(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||bb())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Se.update(()=>a[r](i,o))};return Jn(t.current,n,s,{passive:!t.getProps()[r]})}class GL extends us{mount(){this.unmount=Kr(rw(this.node,!0),rw(this.node,!1))}unmount(){}}class QL extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kr(Qn(this.node.current,"focus",()=>this.onFocus()),Qn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ib=(t,e)=>e?t===e?!0:Ib(t,e.parentElement):!1;function Yh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Vd(n))}class YL extends us{constructor(){super(...arguments),this.removeStartListeners=Be,this.removeEndListeners=Be,this.removeAccessibleListeners=Be,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Jn(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();Se.update(()=>{!f&&!Ib(this.node.current,a.target)?h&&h(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Jn(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Kr(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Yh("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&Se.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=Qn(this.node.current,"keyup",o),Yh("down",(a,c)=>{this.startPress(a,c)})},n=Qn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Yh("cancel",(i,o)=>this.cancelPress(i,o))},s=Qn(this.node.current,"blur",r);this.removeAccessibleListeners=Kr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Se.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Se.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Jn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Qn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Mm=new WeakMap,Xh=new WeakMap,XL=t=>{const e=Mm.get(t.target);e&&e(t)},JL=t=>{t.forEach(XL)};function ZL({root:t,...e}){const n=t||document;Xh.has(n)||Xh.set(n,{});const r=Xh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(JL,{root:t,...e})),r[s]}function e4(t,e,n){const r=ZL(e);return Mm.set(t,n),r.observe(t),()=>{Mm.delete(t),r.unobserve(t)}}const t4={some:0,all:1};class n4 extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:t4[s]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return e4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(r4(e,n))&&this.startObserver()}unmount(){}}function r4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const s4={inView:{Feature:n4},tap:{Feature:YL},focus:{Feature:QL},hover:{Feature:GL}};function Nb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function i4(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function o4(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Od(t,e,n){const r=t.getProps();return ny(r,e,n!==void 0?n:r.custom,i4(t),o4(t))}let ry=Be;const Ds=t=>t*1e3,Zn=t=>t/1e3,a4={current:!1},Pb=t=>Array.isArray(t)&&typeof t[0]=="number";function Cb(t){return!!(!t||typeof t=="string"&&Ab[t]||Pb(t)||Array.isArray(t)&&t.every(Cb))}const ia=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ab={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ia([0,.65,.55,1]),circOut:ia([.55,0,1,.45]),backIn:ia([.31,.01,.66,-.59]),backOut:ia([.33,1.53,.69,.99])};function kb(t){if(t)return Pb(t)?ia(t):Array.isArray(t)?t.map(kb):Ab[t]}function l4(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=kb(a);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function c4(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Rb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,u4=1e-7,d4=12;function h4(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Rb(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>u4&&++a<d4);return o}function Pl(t,e,n,r){if(t===e&&n===r)return Be;const s=i=>h4(i,0,1,t,n);return i=>i===0||i===1?i:Rb(s(i),e,r)}const f4=Pl(.42,0,1,1),m4=Pl(0,0,.58,1),jb=Pl(.42,0,.58,1),p4=t=>Array.isArray(t)&&typeof t[0]!="number",Db=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Vb=t=>e=>1-t(1-e),sy=t=>1-Math.sin(Math.acos(t)),Ob=Vb(sy),g4=Db(sy),Mb=Pl(.33,1.53,.69,.99),iy=Vb(Mb),y4=Db(iy),v4=t=>(t*=2)<1?.5*iy(t):.5*(2-Math.pow(2,-10*(t-1))),x4={linear:Be,easeIn:f4,easeInOut:jb,easeOut:m4,circIn:sy,circInOut:g4,circOut:Ob,backIn:iy,backInOut:y4,backOut:Mb,anticipate:v4},sw=t=>{if(Array.isArray(t)){ry(t.length===4);const[e,n,r,s]=t;return Pl(e,n,r,s)}else if(typeof t=="string")return x4[t];return t},oy=(t,e)=>n=>!!(Il(n)&&_L.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Lb=(t,e,n)=>r=>{if(!Il(r))return r;const[s,i,o,a]=r.match(Dd);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},w4=t=>Zr(0,255,t),Jh={...si,transform:t=>Math.round(w4(t))},Cs={test:oy("rgb","red"),parse:Lb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jh.transform(t)+", "+Jh.transform(e)+", "+Jh.transform(n)+", "+Ea(_a.transform(r))+")"};function _4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Lm={test:oy("#"),parse:_4,transform:Cs.transform},ki={test:oy("hsl","hue"),parse:Lb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+On.transform(Ea(e))+", "+On.transform(Ea(n))+", "+Ea(_a.transform(r))+")"},Rt={test:t=>Cs.test(t)||Lm.test(t)||ki.test(t),parse:t=>Cs.test(t)?Cs.parse(t):ki.test(t)?ki.parse(t):Lm.parse(t),transform:t=>Il(t)?t:t.hasOwnProperty("red")?Cs.transform(t):ki.transform(t)},ke=(t,e,n)=>-n*t+n*e+t;function Zh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function E4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;s=Zh(c,a,t+1/3),i=Zh(c,a,t),o=Zh(c,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const ef=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},T4=[Lm,Cs,ki],S4=t=>T4.find(e=>e.test(t));function iw(t){const e=S4(t);let n=e.parse(t);return e===ki&&(n=E4(n)),n}const Fb=(t,e)=>{const n=iw(t),r=iw(e),s={...n};return i=>(s.red=ef(n.red,r.red,i),s.green=ef(n.green,r.green,i),s.blue=ef(n.blue,r.blue,i),s.alpha=ke(n.alpha,r.alpha,i),Cs.transform(s))};function b4(t){var e,n;return isNaN(t)&&Il(t)&&(((e=t.match(Dd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(db))===null||n===void 0?void 0:n.length)||0)>0}const Ub={regex:xL,countKey:"Vars",token:"${v}",parse:Be},Bb={regex:db,countKey:"Colors",token:"${c}",parse:Rt.parse},zb={regex:Dd,countKey:"Numbers",token:"${n}",parse:si.parse};function tf(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Fu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tf(n,Ub),tf(n,Bb),tf(n,zb),n}function $b(t){return Fu(t).values}function Hb(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Fu(t),i=e.length;return o=>{let a=s;for(let c=0;c<i;c++)c<r?a=a.replace(Ub.token,o[c]):c<r+n?a=a.replace(Bb.token,Rt.transform(o[c])):a=a.replace(zb.token,Ea(o[c]));return a}}const I4=t=>typeof t=="number"?0:t;function N4(t){const e=$b(t);return Hb(t)(e.map(I4))}const es={test:b4,parse:$b,createTransformer:Hb,getAnimatableNone:N4},qb=(t,e)=>n=>`${n>0?e:t}`;function Wb(t,e){return typeof t=="number"?n=>ke(t,e,n):Rt.test(t)?Fb(t,e):t.startsWith("var(")?qb(t,e):Gb(t,e)}const Kb=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>Wb(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},P4=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Wb(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Gb=(t,e)=>{const n=es.createTransformer(e),r=Fu(t),s=Fu(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Kr(Kb(r.values,s.values),n):qb(t,e)},nl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ow=(t,e)=>n=>ke(t,e,n);function C4(t){return typeof t=="number"?ow:typeof t=="string"?Rt.test(t)?Fb:Gb:Array.isArray(t)?Kb:typeof t=="object"?P4:ow}function A4(t,e,n){const r=[],s=n||C4(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Be:e;a=Kr(c,a)}r.push(a)}return r}function Qb(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(ry(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=A4(e,r,s),a=o.length,c=d=>{let h=0;if(a>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=nl(t[h],t[h+1],d);return o[h](f)};return n?d=>c(Zr(t[0],t[i-1],d)):c}function k4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=nl(0,e,r);t.push(ke(n,1,s))}}function R4(t){const e=[0];return k4(e,t.length-1),e}function j4(t,e){return t.map(n=>n*e)}function D4(t,e){return t.map(()=>e||jb).splice(0,t.length-1)}function Uu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=p4(r)?r.map(sw):sw(r),i={done:!1,value:e[0]},o=j4(n&&n.length===e.length?n:R4(e),t),a=Qb(o,e,{ease:Array.isArray(s)?s:D4(e,s)});return{calculatedDuration:t,next:c=>(i.value=a(c),i.done=c>=t,i)}}function Yb(t,e){return e?t*(1e3/e):0}const V4=5;function Xb(t,e,n){const r=Math.max(e-V4,0);return Yb(n-t(r),e-r)}const nf=.001,O4=.01,M4=10,L4=.05,F4=1;function U4({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Zr(L4,F4,o),t=Zr(O4,M4,Zn(t)),o<1?(s=d=>{const h=d*o,f=h*t,p=h-n,x=Fm(d,o),_=Math.exp(-f);return nf-p/x*_},i=d=>{const f=d*o*t,p=f*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,_=Math.exp(-f),T=Fm(Math.pow(d,2),o);return(-s(d)+nf>0?-1:1)*((p-x)*_)/T}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-nf+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const a=5/t,c=z4(s,i,a);if(t=Ds(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const B4=12;function z4(t,e,n){let r=n;for(let s=1;s<B4;s++)r=r-t(r)/e(r);return r}function Fm(t,e){return t*Math.sqrt(1-e*e)}const $4=["duration","bounce"],H4=["stiffness","damping","mass"];function aw(t,e){return e.some(n=>t[n]!==void 0)}function q4(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!aw(t,H4)&&aw(t,$4)){const n=U4(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Jb({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=q4({...r,velocity:-Zn(r.velocity||0)}),x=f||0,_=c/(2*Math.sqrt(a*d)),T=i-s,S=Zn(Math.sqrt(a/d)),v=Math.abs(T)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let y;if(_<1){const w=Fm(S,_);y=C=>{const V=Math.exp(-_*S*C);return i-V*((x+_*S*T)/w*Math.sin(w*C)+T*Math.cos(w*C))}}else if(_===1)y=w=>i-Math.exp(-S*w)*(T+(x+S*T)*w);else{const w=S*Math.sqrt(_*_-1);y=C=>{const V=Math.exp(-_*S*C),k=Math.min(w*C,300);return i-V*((x+_*S*T)*Math.sinh(k)+w*T*Math.cosh(k))/w}}return{calculatedDuration:p&&h||null,next:w=>{const C=y(w);if(p)o.done=w>=h;else{let V=x;w!==0&&(_<1?V=Xb(y,w,C):V=0);const k=Math.abs(V)<=n,b=Math.abs(i-C)<=e;o.done=k&&b}return o.value=o.done?i:C,o}}}function lw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},x=E=>a!==void 0&&E<a||c!==void 0&&E>c,_=E=>a===void 0?c:c===void 0||Math.abs(a-E)<Math.abs(c-E)?a:c;let T=n*e;const S=f+T,v=o===void 0?S:o(S);v!==S&&(T=v-f);const y=E=>-T*Math.exp(-E/r),w=E=>v+y(E),C=E=>{const P=y(E),N=w(E);p.done=Math.abs(P)<=d,p.value=p.done?v:N};let V,k;const b=E=>{x(p.value)&&(V=E,k=Jb({keyframes:[p.value,_(p.value)],velocity:Xb(w,E,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return b(0),{calculatedDuration:null,next:E=>{let P=!1;return!k&&V===void 0&&(P=!0,C(E),b(E)),V!==void 0&&E>V?k.next(E-V):(!P&&C(E),p)}}}const W4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Se.update(e,!0),stop:()=>cr(e),now:()=>gt.isProcessing?gt.timestamp:performance.now()}},cw=2e4;function uw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cw;)e+=n,r=t.next(e);return e>=cw?1/0:e}const K4={decay:lw,inertia:lw,tween:Uu,keyframes:Uu,spring:Jb};function Bu({autoplay:t=!0,delay:e=0,driver:n=W4,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:f,...p}){let x=1,_=!1,T,S;const v=()=>{S=new Promise(q=>{T=q})};v();let y;const w=K4[s]||Uu;let C;w!==Uu&&typeof r[0]!="number"&&(C=Qb([0,100],r,{clamp:!1}),r=[0,100]);const V=w({...p,keyframes:r});let k;a==="mirror"&&(k=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let b="idle",E=null,P=null,N=null;V.calculatedDuration===null&&i&&(V.calculatedDuration=uw(V));const{calculatedDuration:D}=V;let O=1/0,A=1/0;D!==null&&(O=D+o,A=O*(i+1)-o);let re=0;const _e=q=>{if(P===null)return;x>0&&(P=Math.min(P,q)),x<0&&(P=Math.min(q-A/x,P)),E!==null?re=E:re=Math.round(q-P)*x;const te=re-e*(x>=0?1:-1),me=x>=0?te<0:te>A;re=Math.max(te,0),b==="finished"&&E===null&&(re=A);let bt=re,It=V;if(i){const hr=Math.min(re,A)/O;let rn=Math.floor(hr),Pt=hr%1;!Pt&&hr>=1&&(Pt=1),Pt===1&&rn--,rn=Math.min(rn,i+1),!!(rn%2)&&(a==="reverse"?(Pt=1-Pt,o&&(Pt-=o/O)):a==="mirror"&&(It=k)),bt=Zr(0,1,Pt)*O}const Xe=me?{done:!1,value:r[0]}:It.next(bt);C&&(Xe.value=C(Xe.value));let{done:Nt}=Xe;!me&&D!==null&&(Nt=x>=0?re>=A:re<=0);const ii=E===null&&(b==="finished"||b==="running"&&Nt);return f&&f(Xe.value),ii&&R(),Xe},le=()=>{y&&y.stop(),y=void 0},ve=()=>{b="idle",le(),T(),v(),P=N=null},R=()=>{b="finished",h&&h(),le(),T()},U=()=>{if(_)return;y||(y=n(_e));const q=y.now();c&&c(),E!==null?P=q-E:(!P||b==="finished")&&(P=q),b==="finished"&&v(),N=P,E=null,b="running",y.start()};t&&U();const B={then(q,te){return S.then(q,te)},get time(){return Zn(re)},set time(q){q=Ds(q),re=q,E!==null||!y||x===0?E=q:P=y.now()-q/x},get duration(){const q=V.calculatedDuration===null?uw(V):V.calculatedDuration;return Zn(q)},get speed(){return x},set speed(q){q===x||!y||(x=q,B.time=Zn(re))},get state(){return b},play:U,pause:()=>{b="paused",E=re},stop:()=>{_=!0,b!=="idle"&&(b="idle",d&&d(),ve())},cancel:()=>{N!==null&&_e(N),ve()},complete:()=>{b="finished"},sample:q=>(P=0,_e(q))};return B}function G4(t){let e;return()=>(e===void 0&&(e=t()),e)}const Q4=G4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Y4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),vc=10,X4=2e4,J4=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Cb(e.ease);function Z4(t,e,{onUpdate:n,onComplete:r,...s}){if(!(Q4()&&Y4.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,c,d=!1;const h=()=>{c=new Promise(w=>{a=w})};h();let{keyframes:f,duration:p=300,ease:x,times:_}=s;if(J4(e,s)){const w=Bu({...s,repeat:0,delay:0});let C={done:!1,value:f[0]};const V=[];let k=0;for(;!C.done&&k<X4;)C=w.sample(k),V.push(C.value),k+=vc;_=void 0,f=V,p=k-vc,x="linear"}const T=l4(t.owner.current,e,f,{...s,duration:p,ease:x,times:_}),S=()=>{d=!1,T.cancel()},v=()=>{d=!0,Se.update(S),a(),h()};return T.onfinish=()=>{d||(t.set(c4(f,s)),r&&r(),v())},{then(w,C){return c.then(w,C)},attachTimeline(w){return T.timeline=w,T.onfinish=null,Be},get time(){return Zn(T.currentTime||0)},set time(w){T.currentTime=Ds(w)},get speed(){return T.playbackRate},set speed(w){T.playbackRate=w},get duration(){return Zn(p)},play:()=>{o||(T.play(),cr(S))},pause:()=>T.pause(),stop:()=>{if(o=!0,T.playState==="idle")return;const{currentTime:w}=T;if(w){const C=Bu({...s,autoplay:!1});t.setWithVelocity(C.sample(w-vc).value,C.sample(w).value,vc)}v()},complete:()=>{d||T.finish()},cancel:v}}function eF({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Be,pause:Be,stop:Be,then:i=>(i(),Promise.resolve()),cancel:Be,complete:Be});return e?Bu({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const tF={type:"spring",stiffness:500,damping:25,restSpeed:10},nF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rF={type:"keyframes",duration:.8},sF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iF=(t,{keyframes:e})=>e.length>2?rF:ri.has(t)?t.startsWith("scale")?nF(e[1]):tF:sF,Um=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(es.test(e)||e==="0")&&!e.startsWith("url(")),oF=new Set(["brightness","contrast","saturate","opacity"]);function aF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Dd)||[];if(!r)return t;const s=n.replace(r,"");let i=oF.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const lF=/([a-z-]*)\(.*?\)/g,Bm={...es,getAnimatableNone:t=>{const e=t.match(lF);return e?e.map(aF).join(" "):t}},cF={...hb,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:Bm,WebkitFilter:Bm},ay=t=>cF[t];function Zb(t,e){let n=ay(t);return n!==Bm&&(n=es),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const eI=t=>/^0[^.\s]+$/.test(t);function uF(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||eI(t)}function dF(t,e,n,r){const s=Um(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),uF(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(a=i[d]);if(s&&c.length&&a)for(let d=0;d<c.length;d++){const h=c[d];i[h]=Zb(e,a)}return i}function hF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function ly(t,e){return t[e]||t.default||t}const fF={skipAnimations:!1},cy=(t,e,n,r={})=>s=>{const i=ly(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ds(o);const c=dF(e,t,n,i),d=c[0],h=c[c.length-1],f=Um(t,d),p=Um(t,h);let x={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:_=>{e.set(_),i.onUpdate&&i.onUpdate(_)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(hF(i)||(x={...x,...iF(t,x)}),x.duration&&(x.duration=Ds(x.duration)),x.repeatDelay&&(x.repeatDelay=Ds(x.repeatDelay)),!f||!p||a4.current||i.type===!1||fF.skipAnimations)return eF(x);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=Z4(e,t,x);if(_)return _}return Bu(x)};function zu(t){return!!(qt(t)&&t.add)}const tI=t=>/^\-?\d*\.?\d+$/.test(t);function uy(t,e){t.indexOf(e)===-1&&t.push(e)}function dy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hy{constructor(){this.subscriptions=[]}add(e){return uy(this.subscriptions,e),()=>dy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mF=t=>!isNaN(parseFloat(t));class pF{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=gt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Se.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Se.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=mF(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Yb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function co(t,e){return new pF(t,e)}const nI=t=>e=>e.test(t),gF={test:t=>t==="auto",parse:t=>t},rI=[si,Z,On,vr,TL,EL,gF],Ko=t=>rI.find(nI(t)),yF=[...rI,Rt,es],vF=t=>yF.find(nI(t));function xF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,co(n))}function wF(t,e){const n=Od(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=ML(i[o]);xF(t,o,a)}}function _F(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const c=i[a],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),h!=null&&(typeof h=="string"&&(tI(h)||eI(h))?h=parseFloat(h):!vF(h)&&es.test(d)&&(h=Zb(c,d)),t.addValue(c,co(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function EF(t,e){return e?(e[t]||e.default||e).from:void 0}function TF(t,e,n){const r={};for(const s in t){const i=EF(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function SF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bF(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function sI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const p=t.getValue(f),x=a[f];if(!p||x===void 0||h&&SF(h,f))continue;const _={delay:n,elapsed:0,...ly(i||{},f)};if(window.HandoffAppearAnimations){const v=t.getProps()[ib];if(v){const y=window.HandoffAppearAnimations(v,f,p,Se);y!==null&&(_.elapsed=y,_.isHandoff=!0)}}let T=!_.isHandoff&&!bF(p,x);if(_.type==="spring"&&(p.getVelocity()||_.velocity)&&(T=!1),p.animation&&(T=!1),T)continue;p.start(cy(f,p,x,t.shouldReduceMotion&&ri.has(f)?{type:!1}:_));const S=p.animation;zu(c)&&(c.add(f),S.then(()=>c.remove(f))),d.push(S)}return o&&Promise.all(d).then(()=>{o&&wF(t,o)}),d}function zm(t,e,n={}){const r=Od(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(sI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return IF(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function IF(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(t.variantChildren).sort(NF).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(zm(d,e,{...i,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function NF(t,e){return t.sortNodePosition(e)}function PF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>zm(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=zm(t,e,n);else{const s=typeof e=="function"?Od(t,e,n.custom):e;r=Promise.all(sI(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const CF=[...Kg].reverse(),AF=Kg.length;function kF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>PF(t,n,r)))}function RF(t){let e=kF(t);const n=DF();let r=!0;const s=(c,d)=>{const h=Od(t,d);if(h){const{transition:f,transitionEnd:p,...x}=h;c={...c,...x,...p}}return c};function i(c){e=c(t)}function o(c,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],x=new Set;let _={},T=1/0;for(let v=0;v<AF;v++){const y=CF[v],w=n[y],C=h[y]!==void 0?h[y]:f[y],V=el(C),k=y===d?w.isActive:null;k===!1&&(T=v);let b=C===f[y]&&C!==h[y]&&V;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),w.protectedKeys={..._},!w.isActive&&k===null||!C&&!w.prevProp||Rd(C)||typeof C=="boolean")continue;let P=jF(w.prevProp,C)||y===d&&w.isActive&&!b&&V||v>T&&V,N=!1;const D=Array.isArray(C)?C:[C];let O=D.reduce(s,{});k===!1&&(O={});const{prevResolvedValues:A={}}=w,re={...A,...O},_e=le=>{P=!0,x.has(le)&&(N=!0,x.delete(le)),w.needsAnimating[le]=!0};for(const le in re){const ve=O[le],R=A[le];if(_.hasOwnProperty(le))continue;let U=!1;Lu(ve)&&Lu(R)?U=!Nb(ve,R):U=ve!==R,U?ve!==void 0?_e(le):x.add(le):ve!==void 0&&x.has(le)?_e(le):w.protectedKeys[le]=!0}w.prevProp=C,w.prevResolvedValues=O,w.isActive&&(_={..._,...O}),r&&t.blockInitialAnimation&&(P=!1),P&&(!b||N)&&p.push(...D.map(le=>({animation:le,options:{type:y,...c}})))}if(x.size){const v={};x.forEach(y=>{const w=t.getBaseTarget(y);w!==void 0&&(v[y]=w)}),p.push({animation:v})}let S=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function a(c,d,h){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(x=>{var _;return(_=x.animationState)===null||_===void 0?void 0:_.setActive(c,d)}),n[c].isActive=d;const p=o(h,c);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function jF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Nb(e,t):!1}function gs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DF(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}class VF extends us{constructor(e){super(e),e.animationState||(e.animationState=RF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Rd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let OF=0;class MF extends us{constructor(){super(...arguments),this.id=OF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LF={animation:{Feature:VF},exit:{Feature:MF}},dw=(t,e)=>Math.abs(t-e);function FF(t,e){const n=dw(t.x,e.x),r=dw(t.y,e.y);return Math.sqrt(n**2+r**2)}class iI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=sf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=FF(f.offset,{x:0,y:0})>=3;if(!p&&!x)return;const{point:_}=f,{timestamp:T}=gt;this.history.push({..._,timestamp:T});const{onStart:S,onMove:v}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=rf(p,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:x,onSessionEnd:_,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=sf(f.type==="pointercancel"?this.lastMoveEventInfo:rf(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,S),_&&_(f,S)},!Eb(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Vd(e),a=rf(o,this.transformPagePoint),{point:c}=a,{timestamp:d}=gt;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,sf(a,this.history)),this.removeListeners=Kr(Jn(this.contextWindow,"pointermove",this.handlePointerMove),Jn(this.contextWindow,"pointerup",this.handlePointerUp),Jn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cr(this.updatePoint)}}function rf(t,e){return e?{point:e(t.point)}:t}function hw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sf({point:t},e){return{point:t,delta:hw(t,oI(e)),offset:hw(t,UF(e)),velocity:BF(e,.1)}}function UF(t){return t[0]}function oI(t){return t[t.length-1]}function BF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=oI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ds(e)));)n--;if(!r)return{x:0,y:0};const i=Zn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function en(t){return t.max-t.min}function $m(t,e=0,n=.01){return Math.abs(t-e)<=n}function fw(t,e,n,r=.5){t.origin=r,t.originPoint=ke(e.min,e.max,t.origin),t.scale=en(n)/en(e),($m(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ke(n.min,n.max,t.origin)-t.originPoint,($m(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ta(t,e,n,r){fw(t.x,e.x,n.x,r?r.originX:void 0),fw(t.y,e.y,n.y,r?r.originY:void 0)}function mw(t,e,n){t.min=n.min+e.min,t.max=t.min+en(e)}function zF(t,e,n){mw(t.x,e.x,n.x),mw(t.y,e.y,n.y)}function pw(t,e,n){t.min=e.min-n.min,t.max=t.min+en(e)}function Sa(t,e,n){pw(t.x,e.x,n.x),pw(t.y,e.y,n.y)}function $F(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ke(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ke(n,t,r.max):Math.min(t,n)),t}function gw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function HF(t,{top:e,left:n,bottom:r,right:s}){return{x:gw(t.x,n,s),y:gw(t.y,e,r)}}function yw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function qF(t,e){return{x:yw(t.x,e.x),y:yw(t.y,e.y)}}function WF(t,e){let n=.5;const r=en(t),s=en(e);return s>r?n=nl(e.min,e.max-r,t.min):r>s&&(n=nl(t.min,t.max-s,e.min)),Zr(0,1,n)}function KF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hm=.35;function GF(t=Hm){return t===!1?t=0:t===!0&&(t=Hm),{x:vw(t,"left","right"),y:vw(t,"top","bottom")}}function vw(t,e,n){return{min:xw(t,e),max:xw(t,n)}}function xw(t,e){return typeof t=="number"?t:t[e]||0}const ww=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ri=()=>({x:ww(),y:ww()}),_w=()=>({min:0,max:0}),qe=()=>({x:_w(),y:_w()});function on(t){return[t("x"),t("y")]}function aI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function QF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function YF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function of(t){return t===void 0||t===1}function qm({scale:t,scaleX:e,scaleY:n}){return!of(t)||!of(e)||!of(n)}function _s(t){return qm(t)||lI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function lI(t){return Ew(t.x)||Ew(t.y)}function Ew(t){return t&&t!=="0%"}function $u(t,e,n){const r=t-n,s=e*r;return n+s}function Tw(t,e,n,r,s){return s!==void 0&&(t=$u(t,s,r)),$u(t,n,r)+e}function Wm(t,e=0,n=1,r,s){t.min=Tw(t.min,e,n,r,s),t.max=Tw(t.max,e,n,r,s)}function cI(t,{x:e,y:n}){Wm(t.x,e.translate,e.scale,e.originPoint),Wm(t.y,n.translate,n.scale,n.originPoint)}function XF(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ji(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,cI(t,o)),r&&_s(i.latestValues)&&ji(t,i.latestValues))}e.x=Sw(e.x),e.y=Sw(e.y)}function Sw(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function _r(t,e){t.min=t.min+e,t.max=t.max+e}function bw(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=ke(t.min,t.max,i);Wm(t,e[n],e[r],o,e.scale)}const JF=["x","scaleX","originX"],ZF=["y","scaleY","originY"];function ji(t,e){bw(t.x,e,JF),bw(t.y,e,ZF)}function uI(t,e){return aI(YF(t.getBoundingClientRect(),e))}function e5(t,e,n){const r=uI(t,n),{scroll:s}=e;return s&&(_r(r.x,s.offset.x),_r(r.y,s.offset.y)),r}const dI=({current:t})=>t?t.ownerDocument.defaultView:null,t5=new WeakMap;class n5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vd(h,"page").point)},i=(h,f)=>{const{drag:p,dragPropagation:x,onDragStart:_}=this.getProps();if(p&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Sb(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),on(S=>{let v=this.getAxisMotionValue(S).get()||0;if(On.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[S];w&&(v=en(w)*(parseFloat(v)/100))}}this.originPoint[S]=v}),_&&Se.update(()=>_(h,f),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:_,onDrag:T}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=f;if(x&&this.currentDirection===null){this.currentDirection=r5(S),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),T&&T(h,f)},a=(h,f)=>this.stop(h,f),c=()=>on(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new iI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:dI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Se.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!xc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$F(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ai(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=HF(s.layoutBox,n):this.constraints=!1,this.elastic=GF(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&on(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=KF(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ai(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=e5(r,s.root,this.visualElement.getTransformPagePoint());let o=qF(s.layout.layoutBox,i);if(n){const a=n(QF(o));this.hasMutatedConstraints=!!a,a&&(o=aI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=on(h=>{if(!xc(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,x=s?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,_)});return Promise.all(d).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(cy(e,r,0,n))}stopAnimation(){on(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){on(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){on(n=>{const{drag:r}=this.getProps();if(!xc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-ke(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ai(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};on(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();s[o]=WF({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),on(o=>{if(!xc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(ke(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;t5.set(this.visualElement,this);const e=this.visualElement.current,n=Jn(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ai(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Qn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(on(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Hm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function xc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function r5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class s5 extends us{constructor(e){super(e),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new n5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}}const Iw=t=>(e,n)=>{t&&Se.update(()=>t(e,n))};class i5 extends us{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(e){this.session=new iI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Iw(e),onStart:Iw(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Se.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Jn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function o5(){const t=j.useContext(Ad);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=j.useId();return j.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const zc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Go={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=Nw(t,e.target.x),r=Nw(t,e.target.y);return`${n}% ${r}%`}},a5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=es.parse(t);if(s.length>5)return r;const i=es.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=c;const d=ke(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class l5 extends il.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;pL(c5),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Se.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hI(t){const[e,n]=o5(),r=j.useContext(Qg);return il.createElement(l5,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(ab),isPresent:e,safeToRemove:n})}const c5={borderRadius:{...Go,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Go,borderTopRightRadius:Go,borderBottomLeftRadius:Go,borderBottomRightRadius:Go,boxShadow:a5},fI=["TopLeft","TopRight","BottomLeft","BottomRight"],u5=fI.length,Pw=t=>typeof t=="string"?parseFloat(t):t,Cw=t=>typeof t=="number"||Z.test(t);function d5(t,e,n,r,s,i){s?(t.opacity=ke(0,n.opacity!==void 0?n.opacity:1,h5(r)),t.opacityExit=ke(e.opacity!==void 0?e.opacity:1,0,f5(r))):i&&(t.opacity=ke(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<u5;o++){const a=`border${fI[o]}Radius`;let c=Aw(e,a),d=Aw(n,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Cw(c)===Cw(d)?(t[a]=Math.max(ke(Pw(c),Pw(d),r),0),(On.test(d)||On.test(c))&&(t[a]+="%")):t[a]=d}(e.rotate||n.rotate)&&(t.rotate=ke(e.rotate||0,n.rotate||0,r))}function Aw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const h5=mI(0,.5,Ob),f5=mI(.5,.95,Be);function mI(t,e,n){return r=>r<t?0:r>e?1:n(nl(t,e,r))}function kw(t,e){t.min=e.min,t.max=e.max}function sn(t,e){kw(t.x,e.x),kw(t.y,e.y)}function Rw(t,e,n,r,s){return t-=e,t=$u(t,1/n,r),s!==void 0&&(t=$u(t,1/s,r)),t}function m5(t,e=0,n=1,r=.5,s,i=t,o=t){if(On.test(e)&&(e=parseFloat(e),e=ke(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ke(i.min,i.max,r);t===i&&(a-=e),t.min=Rw(t.min,e,n,a,s),t.max=Rw(t.max,e,n,a,s)}function jw(t,e,[n,r,s],i,o){m5(t,e[n],e[r],e[s],e.scale,i,o)}const p5=["x","scaleX","originX"],g5=["y","scaleY","originY"];function Dw(t,e,n,r){jw(t.x,e,p5,n?n.x:void 0,r?r.x:void 0),jw(t.y,e,g5,n?n.y:void 0,r?r.y:void 0)}function Vw(t){return t.translate===0&&t.scale===1}function pI(t){return Vw(t.x)&&Vw(t.y)}function y5(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function gI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Ow(t){return en(t.x)/en(t.y)}class v5{constructor(){this.members=[]}add(e){uy(this.members,e),e.scheduleRender()}remove(e){if(dy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mw(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const x5=(t,e)=>t.depth-e.depth;class w5{constructor(){this.children=[],this.isDirty=!1}add(e){uy(this.children,e),this.isDirty=!0}remove(e){dy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(x5),this.isDirty=!1,this.children.forEach(e)}}function _5(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(cr(r),t(i-e))};return Se.read(r,!0),()=>cr(r)}function E5(t){window.MotionDebug&&window.MotionDebug.record(t)}function T5(t){return t instanceof SVGElement&&t.tagName!=="svg"}function S5(t,e,n){const r=qt(t)?t:co(t);return r.start(cy("",r,e,n)),r.animation}const Lw=["","X","Y","Z"],b5={visibility:"hidden"},Fw=1e3;let I5=0;const Es={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function yI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=I5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Es.totalNodes=Es.resolvedTargetDeltas=Es.recalculatedProjection=0,this.nodes.forEach(C5),this.nodes.forEach(D5),this.nodes.forEach(V5),this.nodes.forEach(A5),E5(Es)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new w5)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new hy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=T5(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=_5(p,250),zc.hasAnimatedSinceResize&&(zc.hasAnimatedSinceResize=!1,this.nodes.forEach(Bw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||U5,{onLayoutAnimationStart:S,onLayoutAnimationComplete:v}=h.getProps(),y=!this.targetLayout||!gI(this.targetLayout,_)||x,w=!p&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...ly(T,"layout"),onPlay:S,onComplete:v};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||Bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uw);return}this.isUpdating||this.nodes.forEach(R5),this.isUpdating=!1,this.nodes.forEach(j5),this.nodes.forEach(N5),this.nodes.forEach(P5),this.clearAllSnapshots();const a=performance.now();gt.delta=Zr(0,1e3/60,a-gt.timestamp),gt.timestamp=a,gt.isProcessing=!0,Qh.update.process(gt),Qh.preRender.process(gt),Qh.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(k5),this.sharedNodes.forEach(M5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!pI(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(a||_s(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),B5(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return qe();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(_r(a.x,c.offset.x),_r(a.y,c.offset.y)),a}removeElementScroll(o){const a=qe();sn(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){sn(a,o);const{scroll:p}=this.root;p&&(_r(a.x,-p.offset.x),_r(a.y,-p.offset.y))}_r(a.x,h.offset.x),_r(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const c=qe();sn(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ji(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),_s(h.latestValues)&&ji(c,h.latestValues)}return _s(this.latestValues)&&ji(c,this.latestValues),c}removeTransform(o){const a=qe();sn(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!_s(d.latestValues))continue;qm(d.latestValues)&&d.updateSnapshot();const h=qe(),f=d.measurePageBox();sn(h,f),Dw(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return _s(this.latestValues)&&Dw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),Sa(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sn(this.target,this.layout.layoutBox),cI(this.target,this.targetDelta)):sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),Sa(this.relativeTargetOrigin,this.target,x.target),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Es.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qm(this.parent.latestValues)||lI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;sn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;XF(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=Ri(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ri(),this.projectionDeltaWithTransform=Ri());const T=this.projectionTransform;Ta(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=Mw(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==p||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Es.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=Ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=qe(),x=c?c.source:void 0,_=this.layout?this.layout.source:void 0,T=x!==_,S=this.getStack(),v=!S||S.members.length<=1,y=!!(T&&!v&&this.options.crossfade===!0&&!this.path.some(F5));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const V=C/1e3;zw(f.x,o.x,V),zw(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sa(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),L5(this.relativeTarget,this.relativeTargetOrigin,p,V),w&&y5(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=qe()),sn(w,this.relativeTarget)),T&&(this.animationValues=h,d5(h,d,this.latestValues,V,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{zc.hasAnimatedSinceResize=!0,this.currentAnimation=S5(0,Fw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:h}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&vI(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||qe();const f=en(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=en(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}sn(a,c),ji(a,h),Ta(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new v5),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const d={};for(let h=0;h<Lw.length;h++){const f="rotate"+Lw[h];c[f]&&(d[f]=c[f],o.setStaticValue(f,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return b5;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!_s(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=Mw(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x,y:_}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const T in Ou){if(p[T]===void 0)continue;const{correct:S,applyTo:v}=Ou[T],y=d.transform==="none"?p[T]:S(p[T],f);if(v){const w=v.length;for(let C=0;C<w;C++)d[v[C]]=y}else d[T]=y}return this.options.layoutId&&(d.pointerEvents=f===this?Bc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Uw),this.root.sharedNodes.clear()}}}function N5(t){t.updateLayout()}function P5(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?on(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],x=en(p);p.min=r[f].min,p.max=p.min+x}):vI(i,n.layoutBox,r)&&on(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],x=en(r[f]);p.max=p.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const a=Ri();Ta(a,r,n.layoutBox);const c=Ri();o?Ta(c,t.applyTransform(s,!0),n.measuredBox):Ta(c,r,n.layoutBox);const d=!pI(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:x}=f;if(p&&x){const _=qe();Sa(_,n.layoutBox,p.layoutBox);const T=qe();Sa(T,r,x.layoutBox),gI(_,T)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function C5(t){Es.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function A5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function k5(t){t.clearSnapshot()}function Uw(t){t.clearMeasurements()}function R5(t){t.isLayoutDirty=!1}function j5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function D5(t){t.resolveTargetDelta()}function V5(t){t.calcProjection()}function O5(t){t.resetRotation()}function M5(t){t.removeLeadSnapshot()}function zw(t,e,n){t.translate=ke(e.translate,0,n),t.scale=ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $w(t,e,n,r){t.min=ke(e.min,n.min,r),t.max=ke(e.max,n.max,r)}function L5(t,e,n,r){$w(t.x,e.x,n.x,r),$w(t.y,e.y,n.y,r)}function F5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const U5={duration:.45,ease:[.4,0,.1,1]},Hw=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),qw=Hw("applewebkit/")&&!Hw("chrome/")?Math.round:Be;function Ww(t){t.min=qw(t.min),t.max=qw(t.max)}function B5(t){Ww(t.x),Ww(t.y)}function vI(t,e,n){return t==="position"||t==="preserve-aspect"&&!$m(Ow(e),Ow(n),.2)}const z5=yI({attachResizeListener:(t,e)=>Qn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),af={current:void 0},xI=yI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!af.current){const t=new z5({});t.mount(window),t.setOptions({layoutScroll:!0}),af.current=t}return af.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$5={pan:{Feature:i5},drag:{Feature:s5,ProjectionNode:xI,MeasureLayout:hI}},H5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function q5(t){const e=H5.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Km(t,e,n=1){const[r,s]=q5(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return tI(o)?parseFloat(o):o}else return Om(s)?Km(s,e,n+1):s}function W5(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Om(i))return;const o=Km(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Om(i))continue;const o=Km(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const K5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),wI=t=>K5.has(t),G5=t=>Object.keys(t).some(wI),Kw=t=>t===si||t===Z,Gw=(t,e)=>parseFloat(t.split(", ")[e]),Qw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Gw(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Gw(i[1],t):0}},Q5=new Set(["x","y","z"]),Y5=bl.filter(t=>!Q5.has(t));function X5(t){const e=[];return Y5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const uo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Qw(4,13),y:Qw(5,14)};uo.translateX=uo.x;uo.translateY=uo.y;const J5=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{a[d]=uo[d](r,i)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(a[d]),t[d]=uo[d](c,i)}),t},Z5=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(wI);let i=[],o=!1;const a=[];if(s.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=Ko(h);const p=e[c];let x;if(Lu(p)){const _=p.length,T=p[0]===null?1:0;h=p[T],f=Ko(h);for(let S=T;S<_&&p[S]!==null;S++)x?ry(Ko(p[S])===x):x=Ko(p[S])}else x=Ko(p);if(f!==x)if(Kw(f)&&Kw(x)){const _=d.get();typeof _=="string"&&d.set(parseFloat(_)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&x===Z&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(x!=null&&x.transform)&&(h===0||p===0)?h===0?d.set(x.transform(h)):e[c]=f.transform(p):(o||(i=X5(t),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:e[c],d.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,d=J5(e,t,a);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),kd&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function e6(t,e,n,r){return G5(e)?Z5(t,e,n,r):{target:e,transitionEnd:r}}const t6=(t,e,n,r)=>{const s=W5(t,e,r);return e=s.target,r=s.transitionEnd,e6(t,e,n,r)},Gm={current:null},_I={current:!1};function n6(){if(_I.current=!0,!!kd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gm.current=t.matches;t.addListener(e),e()}else Gm.current=!1}function r6(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(qt(i))t.addValue(s,i),zu(r)&&r.add(s);else if(qt(o))t.addValue(s,co(i,{owner:t})),zu(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,co(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Yw=new WeakMap,EI=Object.keys(tl),s6=EI.length,Xw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],i6=Gg.length;class o6{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Se.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=jd(n),this.isVariantNode=ob(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];a[f]!==void 0&&qt(p)&&(p.set(a[f],!1),zu(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Yw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_I.current||n6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Yw.delete(this.current),this.projection&&this.projection.unmount(),cr(this.notifyUpdate),cr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ri.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Se.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let c=0;c<s6;c++){const d=EI[c],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:x}=tl[d];p&&(o=p),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),x&&(a=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:x}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||f&&Ai(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:x})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Xw.length;r++){const s=Xw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=r6(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<i6;r++){const s=Gg[r],i=this.props[s];(el(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=co(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=ny(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!qt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class TI extends o6{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=TF(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){_F(this,r,o);const a=t6(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function a6(t){return window.getComputedStyle(t)}class l6 extends TI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ri.has(n)){const r=ay(n);return r&&r.default||0}else{const r=a6(e),s=(ub(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uI(e,n)}build(e,n,r,s){Xg(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ty(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){gb(e,n,r,s)}}class c6 extends TI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ri.has(n)){const r=ay(n);return r&&r.default||0}return n=yb.has(n)?n:Wg(n),e.getAttribute(n)}measureInstanceViewportBox(){return qe()}scrapeMotionValuesFromProps(e,n){return xb(e,n)}build(e,n,r,s){Zg(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){vb(e,n,r,s)}mount(e){this.isSVGTag=ey(e.tagName),super.mount(e)}}const u6=(t,e)=>Yg(t)?new c6(e,{enableHardwareAcceleration:!1}):new l6(e,{enableHardwareAcceleration:!0}),d6={layout:{ProjectionNode:xI,MeasureLayout:hI}},h6={...LF,...s4,...$5,...d6},ae=fL((t,e)=>qL(t,e,h6,u6));function SI(){const t=j.useRef(!1);return qg(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function f6(){const t=SI(),[e,n]=j.useState(0),r=j.useCallback(()=>{t.current&&n(e+1)},[e]);return[j.useCallback(()=>Se.postRender(r),[r]),e]}class m6 extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p6({children:t,isPresent:e}){const n=j.useId(),r=j.useRef(null),s=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:c}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),j.createElement(m6,{isPresent:e,childRef:r,sizeRef:s},j.cloneElement(t,{ref:r}))}const lf=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=wb(g6),c=j.useId(),d=j.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),i?void 0:[n]);return j.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),j.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=j.createElement(p6,{isPresent:n},t)),j.createElement(Ad.Provider,{value:d},t)};function g6(){return new Map}function y6(t){return j.useEffect(()=>()=>t(),[])}const Ts=t=>t.key||"";function v6(t,e){t.forEach(n=>{const r=Ts(n);e.set(r,n)})}function x6(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const bI=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=j.useContext(Qg).forceRender||f6()[0],c=SI(),d=x6(t);let h=d;const f=j.useRef(new Map).current,p=j.useRef(h),x=j.useRef(new Map).current,_=j.useRef(!0);if(qg(()=>{_.current=!1,v6(d,x),p.current=h}),y6(()=>{_.current=!0,x.clear(),f.clear()}),_.current)return j.createElement(j.Fragment,null,h.map(y=>j.createElement(lf,{key:Ts(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},y)));h=[...h];const T=p.current.map(Ts),S=d.map(Ts),v=T.length;for(let y=0;y<v;y++){const w=T[y];S.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((y,w)=>{if(S.indexOf(w)!==-1)return;const C=x.get(w);if(!C)return;const V=T.indexOf(w);let k=y;if(!k){const b=()=>{f.delete(w);const E=Array.from(x.keys()).filter(P=>!S.includes(P));if(E.forEach(P=>x.delete(P)),p.current=d.filter(P=>{const N=Ts(P);return N===w||E.includes(N)}),!f.size){if(c.current===!1)return;a(),r&&r()}};k=j.createElement(lf,{key:Ts(C),isPresent:!1,onExitComplete:b,custom:e,presenceAffectsLayout:i,mode:o},C),f.set(w,k)}h.splice(V,0,k)}),h=h.map(y=>{const w=y.key;return f.has(w)?y:j.createElement(lf,{key:Ts(y),isPresent:!0,presenceAffectsLayout:i,mode:o},y)}),j.createElement(j.Fragment,null,f.size?h:h.map(y=>j.cloneElement(y)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:c,...d},h)=>j.createElement("svg",{ref:h,...w6,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${_6(t)}`,a].join(" "),...d},[...e.map(([f,p])=>j.createElement(f,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Q("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Q("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Q("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Q("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=Q("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=Q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Q("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=Q("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Q("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Q("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=Q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Q("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=Q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),$6=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),H6=t=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{6,}$/.test(t),q6=t=>{let e=0;return t.length>=6&&e++,t.match(/[a-z]/)&&e++,t.match(/[A-Z]/)&&e++,t.match(/[0-9]/)&&e++,t.match(/[^a-zA-Z0-9]/)&&e++,e<2?{level:"weak",color:"red"}:e<4?{level:"medium",color:"yellow"}:{level:"strong",color:"green"}},VI=({mode:t="login",onSubmit:e,loading:n=!1})=>{const[r,s]=j.useState({email:"",password:"",confirmPassword:"",name:""}),[i,o]=j.useState(!1),[a,c]=j.useState(!1),[d,h]=j.useState({}),f=T=>{const{name:S,value:v}=T.target;s(y=>({...y,[S]:v})),d[S]&&h(y=>({...y,[S]:""}))},p=()=>{const T={};return r.email?$6(r.email)||(T.email="Please enter a valid email"):T.email="Email is required",r.password?H6(r.password)||(T.password="Password must be at least 6 characters with uppercase, lowercase, and number"):T.password="Password is required",t==="signup"&&(r.name||(T.name="Name is required"),r.confirmPassword?r.password!==r.confirmPassword&&(T.confirmPassword="Passwords do not match"):T.confirmPassword="Please confirm your password"),h(T),Object.keys(T).length===0},x=T=>{T.preventDefault(),p()&&e(r)},_=q6(r.password);return l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto",children:l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t==="signup"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),l.jsx("input",{type:"text",name:"name",value:r.name,onChange:f,className:`input-field pl-10 ${d.name?"border-red-500":""}`,placeholder:"Enter your full name"})]}),d.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(D6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),l.jsx("input",{type:"email",name:"email",value:r.email,onChange:f,className:`input-field pl-10 ${d.email?"border-red-500":""}`,placeholder:"Enter your email"})]}),d.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(j6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),l.jsx("input",{type:i?"text":"password",name:"password",value:r.password,onChange:f,className:`input-field pl-10 pr-10 ${d.password?"border-red-500":""}`,placeholder:"Enter your password"}),l.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?l.jsx(Jw,{className:"h-5 w-5"}):l.jsx(Zw,{className:"h-5 w-5"})})]}),t==="signup"&&r.password&&l.jsx("div",{className:"mt-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full bg-${_.color}-500`}),l.jsxs("span",{className:"text-xs text-gray-600",children:["Password strength: ",_.level]})]})}),d.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password})]}),t==="signup"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),l.jsx("input",{type:a?"text":"password",name:"confirmPassword",value:r.confirmPassword,onChange:f,className:`input-field pl-10 pr-10 ${d.confirmPassword?"border-red-500":""}`,placeholder:"Confirm your password"}),l.jsx("button",{type:"button",onClick:()=>c(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?l.jsx(Jw,{className:"h-5 w-5"}):l.jsx(Zw,{className:"h-5 w-5"})})]}),d.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.confirmPassword})]}),l.jsxs(ae.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-primary w-full flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n?l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):null,l.jsx("span",{children:n?"Processing...":t==="login"?"Sign In":"Create Account"})]})]})})},W6=()=>{const[t,e]=j.useState(!1),{login:n}=Wt(),r=dl(),s=async o=>{e(!0);try{await n(o.email,o.password),setTimeout(()=>{r("/dashboard")},500)}catch(a){console.error("Login error:",a)}finally{e(!1)}},i=[{icon:l.jsx(Ce,{className:"h-6 w-6"}),title:"Fraud Detection",description:"AI-powered fraud detection to keep your finances safe"},{icon:l.jsx(wn,{className:"h-6 w-6"}),title:"Smart Recommendations",description:"Personalized financial product recommendations"},{icon:l.jsx(jI,{className:"h-6 w-6"}),title:"24/7 Support",description:"AI chatbot available round the clock for assistance"},{icon:l.jsx(DI,{className:"h-6 w-6"}),title:"Learning Modules",description:"Bite-sized lessons on financial literacy"}];return l.jsxs("div",{className:"min-h-screen flex",children:[l.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary-600 to-primary-800 text-white p-12",children:l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs(ae.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[l.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Your Personal Financial Advisor"}),l.jsx("p",{className:"text-xl mb-12 text-primary-100",children:"Get personalized financial guidance, learn about investments, and protect yourself from fraud with AI-powered insights."}),l.jsx("div",{className:"space-y-8",children:i.map((o,a)=>l.jsxs(ae.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,delay:a*.1},className:"flex items-start space-x-4",children:[l.jsx("div",{className:"flex-shrink-0 p-2 bg-white/20 rounded-lg",children:o.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-1",children:o.title}),l.jsx("p",{className:"text-primary-100",children:o.description})]})]},a))})]})})}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue"})]}),l.jsx(VI,{mode:"login",onSubmit:s,loading:t}),l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},className:"mt-8 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",l.jsx(B1,{to:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up here"})]})}),l.jsxs("div",{className:"lg:hidden mt-12",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Why Choose BFSI Advisor?"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map((o,a)=>l.jsxs(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5+a*.1},className:"text-center p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"flex justify-center mb-2",children:l.jsx("div",{className:"p-2 bg-primary-100 rounded-lg text-primary-600",children:o.icon})}),l.jsx("h4",{className:"font-medium text-sm text-gray-900 mb-1",children:o.title}),l.jsx("p",{className:"text-xs text-gray-600",children:o.description})]},a))})]})]})})]})},K6=()=>{const[t,e]=j.useState(!1),{signup:n}=Wt(),r=dl(),s=async o=>{e(!0);try{await n(o.email,o.password),r("/profile-setup")}catch(a){console.error("Signup error:",a)}finally{e(!1)}},i=[{icon:l.jsx(Ce,{className:"h-5 w-5"}),text:"Secure & encrypted data protection"},{icon:l.jsx(wn,{className:"h-5 w-5"}),text:"AI-powered financial insights"},{icon:l.jsx(jI,{className:"h-5 w-5"}),text:"24/7 AI chatbot support"},{icon:l.jsx(DI,{className:"h-5 w-5"}),text:"Personalized learning modules"}];return l.jsxs("div",{className:"min-h-screen flex",children:[l.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-secondary-600 to-secondary-800 text-white p-12",children:l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs(ae.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[l.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Start Your Financial Journey"}),l.jsx("p",{className:"text-xl mb-12 text-secondary-100",children:"Join thousands of users who are taking control of their financial future with AI-powered guidance."}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"What you'll get:"}),i.map((o,a)=>l.jsxs(ae.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,delay:a*.1},className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0 p-1 bg-white/20 rounded-full",children:o.icon}),l.jsx("span",{className:"text-secondary-100",children:o.text})]},a))]}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-12 p-6 bg-white/10 rounded-lg backdrop-blur-sm",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Free Forever"}),l.jsx("p",{className:"text-secondary-100 text-sm",children:"No hidden fees, no premium tiers. Get access to all features completely free."})]})]})})}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),l.jsx("p",{className:"text-gray-600",children:"Join us and start your financial education journey"})]}),l.jsx(VI,{mode:"signup",onSubmit:s,loading:t}),l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},className:"mt-8 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",l.jsx(B1,{to:"/login",className:"text-secondary-600 hover:text-secondary-700 font-medium",children:"Sign in here"})]})}),l.jsxs("div",{className:"lg:hidden mt-12",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Why Join BFSI Advisor?"}),l.jsx("div",{className:"space-y-3",children:i.map((o,a)=>l.jsxs(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5+a*.1},className:"flex items-center space-x-3 p-3 bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"flex-shrink-0 p-1 bg-secondary-100 rounded-full text-secondary-600",children:o.icon}),l.jsx("span",{className:"text-sm text-gray-700",children:o.text})]},a))})]})]})})]})},G6=()=>{const{userProfile:t}=Wt(),[e,n]=j.useState(null),[r,s]=j.useState([]),[i,o]=j.useState({}),a=[{id:"insurance-basics",title:"Insurance Fundamentals",description:"Master the basics of insurance, types, and how they protect your financial future",duration:"45 minutes",difficulty:"Beginner",icon:l.jsx(Ce,{className:"h-8 w-8"}),color:"bg-blue-500",topics:["What is Insurance and Why You Need It","Types of Insurance: Life, Health, Auto, Home","Understanding Premiums, Deductibles, and Coverage","How to Choose the Right Insurance Policy","Insurance Myths and Misconceptions"],content:{overview:"Insurance is a financial safety net that protects you and your family from unexpected financial losses. This module covers everything from basic concepts to advanced strategies for choosing the right coverage.",keyTakeaways:["Understanding different types of insurance and their purposes","How to calculate your insurance needs based on your lifestyle","Strategies for finding the best insurance rates","Common mistakes to avoid when buying insurance"],practicalExercises:["Calculate your life insurance needs using the DIME method","Compare different health insurance plans","Create a personal insurance checklist"]}},{id:"investment-strategies",title:"Investment Strategies",description:"Learn proven investment strategies to grow your wealth and achieve financial goals",duration:"60 minutes",difficulty:"Intermediate",icon:l.jsx(wn,{className:"h-8 w-8"}),color:"bg-green-500",topics:["Investment Basics: Stocks, Bonds, and Mutual Funds","Risk Management and Portfolio Diversification","Long-term vs Short-term Investment Strategies","Tax-efficient Investing Strategies","Building a Retirement Portfolio"],content:{overview:"Investment strategies are systematic approaches to growing your wealth over time. This module teaches you how to build a diversified portfolio that matches your risk tolerance and financial goals.",keyTakeaways:["Understanding different asset classes and their risk-return profiles","How to create a diversified investment portfolio","Tax-efficient investment strategies for long-term wealth building","Retirement planning through systematic investment"],practicalExercises:["Create a personal investment plan based on your goals","Analyze and compare different mutual funds","Design a retirement portfolio strategy"]}},{id:"financial-planning",title:"Financial Planning",description:"Create a comprehensive financial plan to achieve your life goals",duration:"75 minutes",difficulty:"Advanced",icon:l.jsx(Qs,{className:"h-8 w-8"}),color:"bg-purple-500",topics:["Setting SMART Financial Goals","Budgeting and Cash Flow Management","Emergency Fund Planning","Debt Management Strategies","Estate Planning Basics"],content:{overview:"Financial planning is the process of creating a roadmap to achieve your financial goals. This comprehensive module covers everything from basic budgeting to advanced estate planning strategies.",keyTakeaways:["How to set and prioritize financial goals","Creating and maintaining a realistic budget","Building and maintaining an emergency fund","Effective debt management and elimination strategies"],practicalExercises:["Create a comprehensive financial plan","Develop a debt elimination strategy","Design an emergency fund plan"]}},{id:"fraud-protection",title:"Fraud Protection & Security",description:"Protect yourself from financial fraud and secure your digital assets",duration:"50 minutes",difficulty:"Beginner",icon:l.jsx(Ce,{className:"h-8 w-8"}),color:"bg-red-500",topics:["Common Types of Financial Fraud","Digital Security Best Practices","Identity Theft Prevention","Safe Online Banking and Shopping","What to Do If You're a Victim of Fraud"],content:{overview:"In today's digital world, protecting yourself from financial fraud is crucial. This module teaches you how to recognize, prevent, and respond to various types of financial fraud.",keyTakeaways:["Identifying common fraud schemes and red flags","Implementing strong digital security practices","Protecting your personal and financial information","Steps to take if you become a victim of fraud"],practicalExercises:["Conduct a personal security audit","Create a fraud prevention checklist","Develop an incident response plan"]}}],d=(()=>{const _=a.length,T=r.length,S=T/_*100;return{total:_,completed:T,progress:Math.round(S),remaining:_-T}})(),h=_=>{var T;if(!r.includes(_)){const S=[...r,_];s(S),t&&(console.log("Module completed:",_),ce.success(`Congratulations! You've completed ${(T=a.find(v=>v.id===_))==null?void 0:T.title}`))}},f=_=>{n(_),ce.success(`Starting ${_.title}`)},p=({module:_,index:T})=>{const S=r.includes(_.id),v=i[_.id]>0&&i[_.id]<100;return l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:T*.1},className:"card hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>f(_),children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`p-3 rounded-lg text-white ${_.color}`,children:_.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:_.title}),l.jsxs("div",{className:"flex items-center space-x-2",children:[S&&l.jsx(it,{className:"h-5 w-5 text-green-500"}),v&&l.jsx(Hu,{className:"h-5 w-5 text-blue-500"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.difficulty==="Beginner"?"bg-green-100 text-green-800":_.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:_.difficulty})]})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:_.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Hu,{className:"h-4 w-4"}),l.jsx("span",{children:_.duration})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx($c,{className:"h-4 w-4"}),l.jsxs("span",{children:[_.topics.length," topics"]})]})]}),l.jsxs("button",{className:"flex items-center space-x-1 text-primary-600 hover:text-primary-700 font-medium",children:[l.jsx("span",{children:S?"Review":"Start"}),l.jsx(Qm,{className:"h-4 w-4"})]})]})]})]})})},x=({module:_,onClose:T})=>{const[S,v]=j.useState(0),y=r.includes(_.id),w=()=>{h(_.id),T()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`p-3 rounded-lg text-white ${_.color}`,children:_.icon}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:_.title}),l.jsx("p",{className:"text-gray-600",children:_.description})]})]}),l.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600",children:""})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Overview"}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:_.content.overview})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Topics Covered"}),l.jsx("div",{className:"space-y-2",children:_.topics.map((C,V)=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(it,{className:"h-4 w-4 text-green-500"}),l.jsx("span",{className:"text-gray-700",children:C})]},V))})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Key Takeaways"}),l.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:_.content.keyTakeaways.map((C,V)=>l.jsx("li",{children:C},V))})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Practical Exercises"}),l.jsx("div",{className:"space-y-3",children:_.content.practicalExercises.map((C,V)=>l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[V+1,"."]}),l.jsx("span",{className:"text-gray-700 ml-2",children:C})]},V))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"card",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Module Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Duration:"}),l.jsx("span",{className:"font-medium",children:_.duration})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Difficulty:"}),l.jsx("span",{className:"font-medium",children:_.difficulty})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Topics:"}),l.jsx("span",{className:"font-medium",children:_.topics.length})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Status:"}),l.jsx("span",{className:`font-medium ${y?"text-green-600":"text-blue-600"}`,children:y?"Completed":"Not Started"})]})]})]}),!y&&l.jsxs("button",{onClick:w,className:"w-full btn-primary flex items-center justify-center space-x-2",children:[l.jsx(it,{className:"h-4 w-4"}),l.jsx("span",{children:"Mark as Completed"})]}),l.jsxs("div",{className:"card bg-gradient-to-r from-blue-50 to-purple-50",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Pro Tip"}),l.jsx("p",{className:"text-sm text-gray-700",children:"Take notes while learning and practice the exercises to reinforce your understanding. Consider revisiting this module periodically to refresh your knowledge."})]})]})]})]})})})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Learning Center"}),l.jsx("p",{className:"text-gray-600",children:"Master financial literacy with our comprehensive modules"})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[d.progress,"%"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[d.completed," of ",d.total," modules completed"]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Your Progress"}),l.jsxs("span",{className:"text-sm text-gray-600",children:[d.remaining," modules remaining"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx(ae.div,{initial:{width:0},animate:{width:`${d.progress}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-primary-500 to-primary-600 h-3 rounded-full"})}),d.completed>0&&l.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(II,{className:"h-5 w-5 text-green-600"}),l.jsx("span",{className:"text-sm font-medium text-green-800",children:"Great progress! Keep up the learning momentum."})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Available Modules"}),a.map((_,T)=>l.jsx(p,{module:_,index:T},_.id))]}),e&&l.jsx(x,{module:e,onClose:()=>n(null)})]})};function OI(t,e){return function(){return t.apply(e,arguments)}}const{toString:Q6}=Object.prototype,{getPrototypeOf:py}=Object,{iterator:Ld,toStringTag:MI}=Symbol,Fd=(t=>e=>{const n=Q6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Tn=t=>(t=t.toLowerCase(),e=>Fd(e)===t),Ud=t=>e=>typeof e===t,{isArray:To}=Array,rl=Ud("undefined");function Y6(t){return t!==null&&!rl(t)&&t.constructor!==null&&!rl(t.constructor)&&$t(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LI=Tn("ArrayBuffer");function X6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LI(t.buffer),e}const J6=Ud("string"),$t=Ud("function"),FI=Ud("number"),Bd=t=>t!==null&&typeof t=="object",Z6=t=>t===!0||t===!1,Hc=t=>{if(Fd(t)!=="object")return!1;const e=py(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(MI in t)&&!(Ld in t)},e3=Tn("Date"),t3=Tn("File"),n3=Tn("Blob"),r3=Tn("FileList"),s3=t=>Bd(t)&&$t(t.pipe),i3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$t(t.append)&&((e=Fd(t))==="formdata"||e==="object"&&$t(t.toString)&&t.toString()==="[object FormData]"))},o3=Tn("URLSearchParams"),[a3,l3,c3,u3]=["ReadableStream","Request","Response","Headers"].map(Tn),d3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),To(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function UI(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const As=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BI=t=>!rl(t)&&t!==As;function Ym(){const{caseless:t}=BI(this)&&this||{},e={},n=(r,s)=>{const i=t&&UI(e,s)||s;Hc(e[i])&&Hc(r)?e[i]=Ym(e[i],r):Hc(r)?e[i]=Ym({},r):To(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Cl(arguments[r],n);return e}const h3=(t,e,n,{allOwnKeys:r}={})=>(Cl(e,(s,i)=>{n&&$t(s)?t[i]=OI(s,n):t[i]=s},{allOwnKeys:r}),t),f3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),m3=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},p3=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&py(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},g3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},y3=t=>{if(!t)return null;if(To(t))return t;let e=t.length;if(!FI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},v3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&py(Uint8Array)),x3=(t,e)=>{const r=(t&&t[Ld]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},w3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},_3=Tn("HTMLFormElement"),E3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),s_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),T3=Tn("RegExp"),zI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Cl(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},S3=t=>{zI(t,(e,n)=>{if($t(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if($t(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},b3=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return To(t)?r(t):r(String(t).split(e)),n},I3=()=>{},N3=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function P3(t){return!!(t&&$t(t.append)&&t[MI]==="FormData"&&t[Ld])}const C3=t=>{const e=new Array(10),n=(r,s)=>{if(Bd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=To(r)?[]:{};return Cl(r,(o,a)=>{const c=n(o,s+1);!rl(c)&&(i[a]=c)}),e[s]=void 0,i}}return r};return n(t,0)},A3=Tn("AsyncFunction"),k3=t=>t&&(Bd(t)||$t(t))&&$t(t.then)&&$t(t.catch),$I=((t,e)=>t?setImmediate:e?((n,r)=>(As.addEventListener("message",({source:s,data:i})=>{s===As&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),As.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$t(As.postMessage)),R3=typeof queueMicrotask<"u"?queueMicrotask.bind(As):typeof process<"u"&&process.nextTick||$I,j3=t=>t!=null&&$t(t[Ld]),L={isArray:To,isArrayBuffer:LI,isBuffer:Y6,isFormData:i3,isArrayBufferView:X6,isString:J6,isNumber:FI,isBoolean:Z6,isObject:Bd,isPlainObject:Hc,isReadableStream:a3,isRequest:l3,isResponse:c3,isHeaders:u3,isUndefined:rl,isDate:e3,isFile:t3,isBlob:n3,isRegExp:T3,isFunction:$t,isStream:s3,isURLSearchParams:o3,isTypedArray:v3,isFileList:r3,forEach:Cl,merge:Ym,extend:h3,trim:d3,stripBOM:f3,inherits:m3,toFlatObject:p3,kindOf:Fd,kindOfTest:Tn,endsWith:g3,toArray:y3,forEachEntry:x3,matchAll:w3,isHTMLForm:_3,hasOwnProperty:s_,hasOwnProp:s_,reduceDescriptors:zI,freezeMethods:S3,toObjectSet:b3,toCamelCase:E3,noop:I3,toFiniteNumber:N3,findKey:UI,global:As,isContextDefined:BI,isSpecCompliantForm:P3,toJSONObject:C3,isAsyncFn:A3,isThenable:k3,setImmediate:$I,asap:R3,isIterable:j3};function oe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}L.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const HI=oe.prototype,qI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qI[t]={value:t}});Object.defineProperties(oe,qI);Object.defineProperty(HI,"isAxiosError",{value:!0});oe.from=(t,e,n,r,s,i)=>{const o=Object.create(HI);return L.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),oe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const D3=null;function Xm(t){return L.isPlainObject(t)||L.isArray(t)}function WI(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function i_(t,e,n){return t?t.concat(e).map(function(s,i){return s=WI(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function V3(t){return L.isArray(t)&&!t.some(Xm)}const O3=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function zd(t,e,n){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,S){return!L.isUndefined(S[T])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(L.isDate(_))return _.toISOString();if(L.isBoolean(_))return _.toString();if(!c&&L.isBlob(_))throw new oe("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(_)||L.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function h(_,T,S){let v=_;if(_&&!S&&typeof _=="object"){if(L.endsWith(T,"{}"))T=r?T:T.slice(0,-2),_=JSON.stringify(_);else if(L.isArray(_)&&V3(_)||(L.isFileList(_)||L.endsWith(T,"[]"))&&(v=L.toArray(_)))return T=WI(T),v.forEach(function(w,C){!(L.isUndefined(w)||w===null)&&e.append(o===!0?i_([T],C,i):o===null?T:T+"[]",d(w))}),!1}return Xm(_)?!0:(e.append(i_(S,T,i),d(_)),!1)}const f=[],p=Object.assign(O3,{defaultVisitor:h,convertValue:d,isVisitable:Xm});function x(_,T){if(!L.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));f.push(_),L.forEach(_,function(v,y){(!(L.isUndefined(v)||v===null)&&s.call(e,v,L.isString(y)?y.trim():y,T,p))===!0&&x(v,T?T.concat(y):[y])}),f.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return x(t),e}function o_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function gy(t,e){this._pairs=[],t&&zd(t,this,e)}const KI=gy.prototype;KI.append=function(e,n){this._pairs.push([e,n])};KI.toString=function(e){const n=e?function(r){return e.call(this,r,o_)}:o_;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function M3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function GI(t,e,n){if(!e)return t;const r=n&&n.encode||M3;L.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=L.isURLSearchParams(e)?e.toString():new gy(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class a_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(r){r!==null&&e(r)})}}const QI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},L3=typeof URLSearchParams<"u"?URLSearchParams:gy,F3=typeof FormData<"u"?FormData:null,U3=typeof Blob<"u"?Blob:null,B3={isBrowser:!0,classes:{URLSearchParams:L3,FormData:F3,Blob:U3},protocols:["http","https","file","blob","url","data"]},yy=typeof window<"u"&&typeof document<"u",Jm=typeof navigator=="object"&&navigator||void 0,z3=yy&&(!Jm||["ReactNative","NativeScript","NS"].indexOf(Jm.product)<0),$3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",H3=yy&&window.location.href||"http://localhost",q3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yy,hasStandardBrowserEnv:z3,hasStandardBrowserWebWorkerEnv:$3,navigator:Jm,origin:H3},Symbol.toStringTag,{value:"Module"})),wt={...q3,...B3};function W3(t,e){return zd(t,new wt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return wt.isNode&&L.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function K3(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function G3(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function YI(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&L.isArray(s)?s.length:o,c?(L.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&L.isArray(s[o])&&(s[o]=G3(s[o])),!a)}if(L.isFormData(t)&&L.isFunction(t.entries)){const n={};return L.forEachEntry(t,(r,s)=>{e(K3(r),s,n,0)}),n}return null}function Q3(t,e,n){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Al={transitional:QI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=L.isObject(e);if(i&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return s?JSON.stringify(YI(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return W3(e,this.formSerializer).toString();if((a=L.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return zd(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Q3(e)):e}],transformResponse:[function(e){const n=this.transitional||Al.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?oe.from(a,oe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],t=>{Al.headers[t]={}});const Y3=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X3=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&Y3[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},l_=Symbol("internals");function Qo(t){return t&&String(t).trim().toLowerCase()}function qc(t){return t===!1||t==null?t:L.isArray(t)?t.map(qc):String(t)}function J3(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Z3=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function uf(t,e,n,r,s){if(L.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!L.isString(e)){if(L.isString(r))return e.indexOf(r)!==-1;if(L.isRegExp(r))return r.test(e)}}function eU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function tU(t,e){const n=L.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let Ht=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,c,d){const h=Qo(c);if(!h)throw new Error("header name must be a non-empty string");const f=L.findKey(s,h);(!f||s[f]===void 0||d===!0||d===void 0&&s[f]!==!1)&&(s[f||c]=qc(a))}const o=(a,c)=>L.forEach(a,(d,h)=>i(d,h,c));if(L.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(L.isString(e)&&(e=e.trim())&&!Z3(e))o(X3(e),n);else if(L.isObject(e)&&L.isIterable(e)){let a={},c,d;for(const h of e){if(!L.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[d=h[0]]=(c=a[d])?L.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Qo(e),e){const r=L.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return J3(s);if(L.isFunction(n))return n.call(this,s,r);if(L.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qo(e),e){const r=L.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||uf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Qo(o),o){const a=L.findKey(r,o);a&&(!n||uf(r,r[a],a,n))&&(delete r[a],s=!0)}}return L.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||uf(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return L.forEach(this,(s,i)=>{const o=L.findKey(r,i);if(o){n[o]=qc(s),delete n[i];return}const a=e?eU(i):String(i).trim();a!==i&&delete n[i],n[a]=qc(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return L.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&L.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[l_]=this[l_]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Qo(o);r[a]||(tU(s,o),r[a]=!0)}return L.isArray(e)?e.forEach(i):i(e),this}};Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Ht.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});L.freezeMethods(Ht);function df(t,e){const n=this||Al,r=e||n,s=Ht.from(r.headers);let i=r.data;return L.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function XI(t){return!!(t&&t.__CANCEL__)}function So(t,e,n){oe.call(this,t??"canceled",oe.ERR_CANCELED,e,n),this.name="CanceledError"}L.inherits(So,oe,{__CANCEL__:!0});function JI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new oe("Request failed with status code "+n.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[i];o||(o=d),n[s]=c,r[s]=d;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),d-o<e)return;const x=h&&d-h;return x?Math.round(p*1e3/x):void 0}}function sU(t,e){let n=0,r=1e3/e,s,i;const o=(d,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,d)};return[(...d)=>{const h=Date.now(),f=h-n;f>=r?o(d,h):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const qu=(t,e,n=3)=>{let r=0;const s=rU(50,250);return sU(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,d=s(c),h=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:d||void 0,estimated:d&&a&&h?(a-o)/d:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},c_=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},u_=t=>(...e)=>L.asap(()=>t(...e)),iU=wt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,wt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,oU=wt.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];L.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),L.isString(r)&&o.push("path="+r),L.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ZI(t,e,n){let r=!aU(e);return t&&(r||n==!1)?lU(t,e):e}const d_=t=>t instanceof Ht?{...t}:t;function Ys(t,e){e=e||{};const n={};function r(d,h,f,p){return L.isPlainObject(d)&&L.isPlainObject(h)?L.merge.call({caseless:p},d,h):L.isPlainObject(h)?L.merge({},h):L.isArray(h)?h.slice():h}function s(d,h,f,p){if(L.isUndefined(h)){if(!L.isUndefined(d))return r(void 0,d,f,p)}else return r(d,h,f,p)}function i(d,h){if(!L.isUndefined(h))return r(void 0,h)}function o(d,h){if(L.isUndefined(h)){if(!L.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function a(d,h,f){if(f in e)return r(d,h);if(f in t)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,h,f)=>s(d_(d),d_(h),f,!0)};return L.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=c[h]||s,p=f(t[h],e[h],h);L.isUndefined(p)&&f!==a||(n[h]=p)}),n}const eN=t=>{const e=Ys({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Ht.from(o),e.url=GI(ZI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(L.isFormData(n)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(wt.hasStandardBrowserEnv&&(r&&L.isFunction(r)&&(r=r(e)),r||r!==!1&&iU(e.url))){const d=s&&i&&oU.read(i);d&&o.set(s,d)}return e},cU=typeof XMLHttpRequest<"u",uU=cU&&function(t){return new Promise(function(n,r){const s=eN(t);let i=s.data;const o=Ht.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:d}=s,h,f,p,x,_;function T(){x&&x(),_&&_(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function v(){if(!S)return;const w=Ht.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:w,config:t,request:S};JI(function(b){n(b),T()},function(b){r(b),T()},V),S=null}"onloadend"in S?S.onloadend=v:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(v)},S.onabort=function(){S&&(r(new oe("Request aborted",oe.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new oe("Network Error",oe.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const V=s.transitional||QI;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),r(new oe(C,V.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,t,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&L.forEach(o.toJSON(),function(C,V){S.setRequestHeader(V,C)}),L.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),d&&([p,_]=qu(d,!0),S.addEventListener("progress",p)),c&&S.upload&&([f,x]=qu(c),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(h=w=>{S&&(r(!w||w.type?new So(null,t,S):w),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const y=nU(s.url);if(y&&wt.protocols.indexOf(y)===-1){r(new oe("Unsupported protocol "+y+":",oe.ERR_BAD_REQUEST,t));return}S.send(i||null)})},dU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(d){if(!s){s=!0,a();const h=d instanceof Error?d:this.reason;r.abort(h instanceof oe?h:new So(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new oe(`timeout ${e} of ms exceeded`,oe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>L.asap(a),c}},hU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},fU=async function*(t,e){for await(const n of mU(t))yield*hU(n,e)},mU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},h_=(t,e,n,r)=>{const s=fU(t,e);let i=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await s.next();if(d){a(),c.close();return}let f=h.byteLength;if(n){let p=i+=f;n(p)}c.enqueue(new Uint8Array(h))}catch(d){throw a(d),d}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},$d=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tN=$d&&typeof ReadableStream=="function",pU=$d&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),nN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},gU=tN&&nN(()=>{let t=!1;const e=new Request(wt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),f_=64*1024,Zm=tN&&nN(()=>L.isReadableStream(new Response("").body)),Wu={stream:Zm&&(t=>t.body)};$d&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Wu[e]&&(Wu[e]=L.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new oe(`Response type '${e}' is not supported`,oe.ERR_NOT_SUPPORT,r)})})})(new Response);const yU=async t=>{if(t==null)return 0;if(L.isBlob(t))return t.size;if(L.isSpecCompliantForm(t))return(await new Request(wt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(L.isArrayBufferView(t)||L.isArrayBuffer(t))return t.byteLength;if(L.isURLSearchParams(t)&&(t=t+""),L.isString(t))return(await pU(t)).byteLength},vU=async(t,e)=>{const n=L.toFiniteNumber(t.getContentLength());return n??yU(e)},xU=$d&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:d,headers:h,withCredentials:f="same-origin",fetchOptions:p}=eN(t);d=d?(d+"").toLowerCase():"text";let x=dU([s,i&&i.toAbortSignal()],o),_;const T=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let S;try{if(c&&gU&&n!=="get"&&n!=="head"&&(S=await vU(h,r))!==0){let V=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(L.isFormData(r)&&(k=V.headers.get("content-type"))&&h.setContentType(k),V.body){const[b,E]=c_(S,qu(u_(c)));r=h_(V.body,f_,b,E)}}L.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;_=new Request(e,{...p,signal:x,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:v?f:void 0});let y=await fetch(_,p);const w=Zm&&(d==="stream"||d==="response");if(Zm&&(a||w&&T)){const V={};["status","statusText","headers"].forEach(P=>{V[P]=y[P]});const k=L.toFiniteNumber(y.headers.get("content-length")),[b,E]=a&&c_(k,qu(u_(a),!0))||[];y=new Response(h_(y.body,f_,b,()=>{E&&E(),T&&T()}),V)}d=d||"text";let C=await Wu[L.findKey(Wu,d)||"text"](y,t);return!w&&T&&T(),await new Promise((V,k)=>{JI(V,k,{data:C,headers:Ht.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:_})})}catch(v){throw T&&T(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,t,_),{cause:v.cause||v}):oe.from(v,v&&v.code,t,_)}}),ep={http:D3,xhr:uU,fetch:xU};L.forEach(ep,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const m_=t=>`- ${t}`,wU=t=>L.isFunction(t)||t===null||t===!1,rN={getAdapter:t=>{t=L.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!wU(n)&&(r=ep[(o=String(n)).toLowerCase()],r===void 0))throw new oe(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(m_).join(`
`):" "+m_(i[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ep};function hf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new So(null,t)}function p_(t){return hf(t),t.headers=Ht.from(t.headers),t.data=df.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rN.getAdapter(t.adapter||Al.adapter)(t).then(function(r){return hf(t),r.data=df.call(t,t.transformResponse,r),r.headers=Ht.from(r.headers),r},function(r){return XI(r)||(hf(t),r&&r.response&&(r.response.data=df.call(t,t.transformResponse,r.response),r.response.headers=Ht.from(r.response.headers))),Promise.reject(r)})}const sN="1.10.0",Hd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Hd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const g_={};Hd.transitional=function(e,n,r){function s(i,o){return"[Axios v"+sN+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new oe(s(o," has been removed"+(n?" in "+n:"")),oe.ERR_DEPRECATED);return n&&!g_[o]&&(g_[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};Hd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function _U(t,e,n){if(typeof t!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new oe("option "+i+" must be "+c,oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new oe("Unknown option "+i,oe.ERR_BAD_OPTION)}}const Wc={assertOptions:_U,validators:Hd},bn=Wc.validators;let Vs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new a_,response:new a_}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ys(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Wc.assertOptions(r,{silentJSONParsing:bn.transitional(bn.boolean),forcedJSONParsing:bn.transitional(bn.boolean),clarifyTimeoutError:bn.transitional(bn.boolean)},!1),s!=null&&(L.isFunction(s)?n.paramsSerializer={serialize:s}:Wc.assertOptions(s,{encode:bn.function,serialize:bn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Wc.assertOptions(n,{baseUrl:bn.spelling("baseURL"),withXsrfToken:bn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&L.merge(i.common,i[n.method]);i&&L.forEach(["delete","get","head","post","put","patch","common"],_=>{delete i[_]}),n.headers=Ht.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(c=c&&T.synchronous,a.unshift(T.fulfilled,T.rejected))});const d=[];this.interceptors.response.forEach(function(T){d.push(T.fulfilled,T.rejected)});let h,f=0,p;if(!c){const _=[p_.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,d),p=_.length,h=Promise.resolve(n);f<p;)h=h.then(_[f++],_[f++]);return h}p=a.length;let x=n;for(f=0;f<p;){const _=a[f++],T=a[f++];try{x=_(x)}catch(S){T.call(this,S);break}}try{h=p_.call(this,x)}catch(_){return Promise.reject(_)}for(f=0,p=d.length;f<p;)h=h.then(d[f++],d[f++]);return h}getUri(e){e=Ys(this.defaults,e);const n=ZI(e.baseURL,e.url,e.allowAbsoluteUrls);return GI(n,e.params,e.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(e){Vs.prototype[e]=function(n,r){return this.request(Ys(r||{},{method:e,url:n,data:(r||{}).data}))}});L.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Ys(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Vs.prototype[e]=n(),Vs.prototype[e+"Form"]=n(!0)});let EU=class iN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new So(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new iN(function(s){e=s}),cancel:e}}};function TU(t){return function(n){return t.apply(null,n)}}function SU(t){return L.isObject(t)&&t.isAxiosError===!0}const tp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tp).forEach(([t,e])=>{tp[e]=t});function oN(t){const e=new Vs(t),n=OI(Vs.prototype.request,e);return L.extend(n,Vs.prototype,e,{allOwnKeys:!0}),L.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return oN(Ys(t,s))},n}const $e=oN(Al);$e.Axios=Vs;$e.CanceledError=So;$e.CancelToken=EU;$e.isCancel=XI;$e.VERSION=sN;$e.toFormData=zd;$e.AxiosError=oe;$e.Cancel=$e.CanceledError;$e.all=function(e){return Promise.all(e)};$e.spread=TU;$e.isAxiosError=SU;$e.mergeConfig=Ys;$e.AxiosHeaders=Ht;$e.formToJSON=t=>YI(L.isHTMLForm(t)?new FormData(t):t);$e.getAdapter=rN.getAdapter;$e.HttpStatusCode=tp;$e.default=$e;const{Axios:XU,AxiosError:JU,CanceledError:ZU,isCancel:e9,CancelToken:t9,VERSION:n9,all:r9,Cancel:s9,isAxiosError:i9,spread:o9,toFormData:a9,AxiosHeaders:l9,HttpStatusCode:c9,formToJSON:u9,getAdapter:d9,mergeConfig:h9}=$e,bU="http://localhost:5000/api",_t=$e.create({baseURL:bU,headers:{"Content-Type":"application/json"},timeout:3e4});_t.interceptors.request.use(t=>{const e=localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));_t.interceptors.response.use(t=>t,t=>(console.error("API Error:",t),t.response?console.error("Error response:",t.response.data):t.request?console.error("No response received:",t.request):console.error("Error setting up request:",t.message),Promise.reject(t)));const IU={detectFraud:t=>_t.post("/fraud/detect",{userProfile:t}),getFraudHistory:()=>_t.get("/fraud/history")},NU={analyzeFile:t=>_t.post("/security/analyze",t,{headers:{"Content-Type":"multipart/form-data"}}),getAnalysisHistory:()=>_t.get("/security/history")},y_={submitClaim:t=>_t.post("/claims/submit",t,{headers:{"Content-Type":"multipart/form-data"}}),analyzeDocuments:t=>_t.post("/claims/analyze-documents",t,{headers:{"Content-Type":"multipart/form-data"}}),getClaims:()=>_t.get("/claims"),getClaim:t=>_t.get(`/claims/${t}`),updateClaim:(t,e)=>_t.put(`/claims/${t}`,e)},PU={getRecommendations:t=>_t.post("/recommendations",{userProfile:t}),getPersonalizedRecommendations:()=>_t.get("/recommendations/personalized")},CU={sendMessage:(t,e={})=>{const n={message:t,history:e.conversationHistory||[],user_profile:e.userProfile||{}};return _t.post("/chat",n)},getChatHistory:()=>_t.get("/chat/history"),clearHistory:()=>_t.delete("/chat/history")},AU=()=>{const{userProfile:t}=Wt(),[e,n]=j.useState(null),[r,s]=j.useState([]),[i,o]=j.useState(!0),[a,c]=j.useState(""),[d,h]=j.useState(null),[f,p]=j.useState(!1),x=[{id:1,name:"HDFC Mid-Cap Opportunities Fund",type:"Mutual Fund",category:"Equity - Mid Cap",minAmount:5e3,duration:"5-7 years",expectedReturn:"12-15%",riskLevel:"Moderate",rating:4.5,safetyScore:7.5,features:["Invests in mid-cap companies with high growth potential","Systematic Investment Plan (SIP) available","Tax benefits under Section 80C (ELSS variant)","Professional fund management","Regular dividend payout option"],rules:["Minimum investment: 5,000","Exit load: 1% if redeemed within 1 year","Lock-in period: 3 years for ELSS","KYC compliance required","Nomination facility available"],pros:["High growth potential","Diversified portfolio","Professional management"],cons:["Market volatility risk","Exit load charges","Long-term commitment needed"],suitability:"Suitable for investors with moderate risk appetite looking for long-term wealth creation",safetyAnalysis:{fundHouse:"HDFC Asset Management Company",aum:"15,000+ Crores",inception:"2007",fundManager:"Mr. Chirag Setalvad",experience:"15+ years",trackRecord:"Consistent performance over 10+ years",regulatoryCompliance:"SEBI registered",riskFactors:["Market risk","Sector concentration","Mid-cap volatility"],safetyMeasures:["Diversified portfolio","Regular rebalancing","Professional management"]}},{id:2,name:"SBI Life Smart Humsafar",type:"Insurance",category:"Term Insurance with Return of Premium",minAmount:12e3,duration:"20-30 years",expectedReturn:"6-8%",riskLevel:"Low",rating:4.3,safetyScore:9,features:["High life coverage with return of premium","Critical illness rider available","Accidental death benefit","Waiver of premium on disability","Tax benefits under Section 80C & 10(10D)"],rules:["Minimum coverage: 25 lakhs","Maximum coverage: 1 crore","Entry age: 18-65 years","Premium payment: Yearly/Half-yearly/Monthly","Grace period: 30 days"],pros:["Life protection","Premium return","Tax benefits","Rider options"],cons:["Lower returns compared to equity","Long-term commitment","Medical examination required"],suitability:"Ideal for family breadwinners seeking life protection with savings component",safetyAnalysis:{company:"SBI Life Insurance",irdaRegistration:"IRDAI registered",claimSettlementRatio:"95.2%",financialStrength:"AAA rated",solvencyRatio:"2.15",trackRecord:"20+ years in insurance",regulatoryCompliance:"IRDAI compliant",riskFactors:["Policy lapse risk","Medical underwriting"],safetyMeasures:["Guaranteed returns","Government backing","Strong financials"]}},{id:3,name:"Axis Bank Fixed Deposit Plus",type:"Fixed Deposit",category:"Senior Citizen Special",minAmount:1e4,duration:"1-5 years",expectedReturn:"7.5-8.5%",riskLevel:"Very Low",rating:4.7,safetyScore:9.5,features:["Higher interest rates for senior citizens","Quarterly interest payout option","Premature withdrawal facility","Auto-renewal option","Online account management"],rules:["Minimum deposit: 10,000","Maximum deposit: No limit","Interest rate: 7.5% (general), 8.5% (senior citizens)","Premature withdrawal penalty: 1%","TDS applicable on interest above 40,000"],pros:["Guaranteed returns","Higher rates for seniors","Flexible tenure","Safe investment"],cons:["Lower returns than equity","Lock-in period","Interest rate fluctuations"],suitability:"Perfect for conservative investors and senior citizens seeking stable returns",safetyAnalysis:{bank:"Axis Bank",rbiRegistration:"RBI regulated",depositInsurance:"5 lakhs per account",creditRating:"AAA",financialStrength:"Strong",trackRecord:"25+ years",regulatoryCompliance:"RBI compliant",riskFactors:["Interest rate risk","Inflation risk"],safetyMeasures:["Deposit insurance","RBI regulation","Strong financials"]}},{id:4,name:"ICICI Prudential Technology Fund",type:"Mutual Fund",category:"Sectoral - Technology",minAmount:5e3,duration:"3-5 years",expectedReturn:"15-20%",riskLevel:"High",rating:4.1,safetyScore:6,features:["Focuses on technology sector companies","Global technology exposure","Regular rebalancing","SIP and SWP options","Dividend and growth options"],rules:["Minimum investment: 5,000","Exit load: 1% if redeemed within 1 year","Sector concentration risk","Regular portfolio review","Market timing important"],pros:["High growth potential","Sector expertise","Global exposure","Technology focus"],cons:["High volatility","Sector risk","Market dependent","Requires monitoring"],suitability:"Suitable for aggressive investors with high risk tolerance and technology sector understanding",safetyAnalysis:{fundHouse:"ICICI Prudential Asset Management",aum:"8,000+ Crores",inception:"2000",fundManager:"Ms. Priyanka Khandelwal",experience:"12+ years",trackRecord:"Technology sector expertise",regulatoryCompliance:"SEBI registered",riskFactors:["Sector concentration","High volatility","Market timing risk"],safetyMeasures:["Professional management","Regular rebalancing","Diversification within sector"]}}];j.useEffect(()=>{_(),T()},[t]);const _=async()=>{if(!t){const R=A({});s(R);return}o(!0),c("");try{const R=await PU.getRecommendations(t);if(R.data&&R.data.recommendations&&R.data.recommendations.length>0){const U=R.data.recommendations.map((B,q)=>({id:`rec-${q}`,name:B.title,category:B.type,type:B.type,minAmount:1e3,duration:"Flexible",expectedReturn:"8-12%",riskLevel:B.priority==="high"?"High":B.priority==="medium"?"Moderate":"Low",rating:4.5,safetyScore:7,description:B.description,suitability:B.description,features:["Personalized","AI Recommended"],pros:["Tailored to your profile","Risk-adjusted"],cons:["Requires regular review"],howToInvest:"Contact our advisors for personalized guidance",safetyAnalysis:{recommendation:"AI-generated based on your profile",riskAssessment:"Personalized risk analysis",safetyMeasures:["Regular monitoring","Profile-based selection"],riskFactors:["Profile changes","Market conditions"]}}));s(U)}else{const U=A(t);s(U)}}catch(R){console.error("Failed to fetch personalized recommendations:",R);const U=A(t);s(U),c("Using personalized recommendations based on your profile")}finally{o(!1)}},T=()=>{if(!t)return;const R={profileSummary:{age:t.age||30,income:t.income||0,riskTolerance:t.riskTolerance||"Moderate",investmentHorizon:t.investmentHorizon||"5-10 years",monthlyInvestmentCapacity:t.monthlyInvestmentCapacity||0},riskAssessment:{overallRisk:S(),riskFactors:v(),riskMitigation:y()},portfolioRecommendation:{equityAllocation:w(),debtAllocation:C(),goldAllocation:5,emergencyFund:V()},safetyAnalysis:{overallSafety:k(),safetyScore:b(),safetyRecommendations:E()},investmentReport:{isSafe:P(),keyFindings:N(),recommendations:D(),nextSteps:O()}};h(R)},S=()=>{const R=t.age||30,U=t.riskTolerance||"Moderate";return R<30&&U.toLowerCase().includes("aggressive")?"High":R>50||U.toLowerCase().includes("conservative")?"Low":"Moderate"},v=()=>{const R=[];return(!t.emergencyFund||t.emergencyFund<5e4)&&R.push("Insufficient emergency fund"),t.debt&&t.debt>t.income*.3&&R.push("High debt-to-income ratio"),(!t.existingInsurance||t.existingInsurance==="none")&&R.push("No insurance coverage"),R},y=()=>{const R=[];return(!t.emergencyFund||t.emergencyFund<5e4)&&R.push("Build emergency fund of 3-6 months expenses"),t.debt&&t.debt>t.income*.3&&R.push("Reduce high-interest debt before investing"),(!t.existingInsurance||t.existingInsurance==="none")&&R.push("Consider term insurance for family protection"),R},w=()=>{const R=t.age||30,U=t.riskTolerance||"Moderate";let B=100-R;return U.toLowerCase().includes("conservative")&&(B-=20),U.toLowerCase().includes("aggressive")&&(B+=20),Math.max(10,Math.min(80,B))},C=()=>100-w()-5,V=()=>(t.income||0)/12*.7*6,k=()=>{const R=[];t.emergencyFund>=5e4&&R.push(1),t.existingInsurance&&t.existingInsurance!=="none"&&R.push(1),t.debt<(t.income||0)*.3&&R.push(1);const U=R.length/3*100;return U>=80?"Very Safe":U>=60?"Safe":U>=40?"Moderate":"Needs Attention"},b=()=>{const R=[];return t.emergencyFund>=5e4&&R.push(1),t.existingInsurance&&t.existingInsurance!=="none"&&R.push(1),t.debt<(t.income||0)*.3&&R.push(1),t.savings>(t.income||0)*.2&&R.push(1),R.length/4*10},E=()=>{const R=[];return(!t.emergencyFund||t.emergencyFund<5e4)&&R.push("Prioritize building emergency fund"),(!t.existingInsurance||t.existingInsurance==="none")&&R.push("Consider term insurance coverage"),t.debt>(t.income||0)*.3&&R.push("Focus on debt reduction"),R},P=()=>b()>=7.5,N=()=>{const R=[];return R.push(`Your investment profile shows ${S().toLowerCase()} risk tolerance`),R.push(`Recommended equity allocation: ${w()}%`),R.push(`Emergency fund status: ${t.emergencyFund>=5e4?"Adequate":"Needs attention"}`),R.push(`Insurance coverage: ${t.existingInsurance&&t.existingInsurance!=="none"?"Present":"Recommended"}`),R},D=()=>{const R=[];return R.push("Start with SIPs in diversified equity funds"),R.push("Consider debt funds for stability"),R.push("Include gold ETFs for diversification"),R.push("Review portfolio quarterly"),R},O=()=>{const R=[];return R.push("Complete KYC for mutual fund investments"),R.push("Set up SIP for regular investing"),R.push("Consult with financial advisor"),R.push("Monitor and rebalance portfolio"),R},A=R=>{const U=[...x];if(R.riskTolerance&&U.forEach(B=>{R.riskTolerance.toLowerCase().includes("conservative")&&B.riskLevel==="High"?B.suitability="May not be suitable for conservative investors. Consider lower risk options.":R.riskTolerance.toLowerCase().includes("aggressive")&&B.riskLevel==="Very Low"&&(B.suitability="Consider higher risk options for better returns based on your aggressive profile.")}),R.monthlyInvestmentCapacity){const B=parseInt(R.monthlyInvestmentCapacity);U.forEach(q=>{q.minAmount>B&&(q.suitability+=" Note: Minimum investment amount may be higher than your monthly capacity.")})}return U},re=R=>{n(e===R?null:R)},_e=R=>{switch(R.toLowerCase()){case"very low":return"text-green-600 bg-green-100";case"low":return"text-blue-600 bg-blue-100";case"moderate":return"text-yellow-600 bg-yellow-100";case"high":return"text-orange-600 bg-orange-100";case"very high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},le=R=>{switch(R.toLowerCase()){case"mutual fund":return l.jsx(wn,{className:"h-5 w-5"});case"insurance":return l.jsx(Ce,{className:"h-5 w-5"});case"fixed deposit":return l.jsx(Gs,{className:"h-5 w-5"});default:return l.jsx(Qs,{className:"h-5 w-5"})}},ve=R=>R>=8?"text-green-600 bg-green-100":R>=6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(AI,{className:"h-8 w-8 animate-spin text-primary-600"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Investment Recommendations"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Personalized investment suggestions based on your profile"})]}),l.jsxs("button",{onClick:()=>p(!f),className:"btn-primary flex items-center space-x-2",children:[l.jsx(T6,{className:"h-4 w-4"}),l.jsxs("span",{children:[f?"Hide":"Show"," Investment Analysis"]})]})]}),f&&d&&l.jsxs(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"card bg-gradient-to-r from-blue-50 to-purple-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:l.jsx(Wi,{className:"h-6 w-6 text-primary-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Investment Analysis Report"}),l.jsx("p",{className:"text-gray-600",children:"Comprehensive analysis of your investment profile"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Ce,{className:"h-6 w-6 text-green-600"}),l.jsx("h4",{className:"font-semibold text-gray-900",children:"Safety Assessment"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Overall Safety:"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${ve(d.safetyAnalysis.safetyScore)}`,children:d.safetyAnalysis.overallSafety})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Safety Score:"}),l.jsxs("span",{className:"font-semibold",children:[d.safetyAnalysis.safetyScore,"/10"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Investment Safe:"}),l.jsxs("span",{className:`flex items-center space-x-1 ${d.investmentReport.isSafe?"text-green-600":"text-red-600"}`,children:[d.investmentReport.isSafe?l.jsx(it,{className:"h-4 w-4"}):l.jsx(Ki,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:d.investmentReport.isSafe?"Yes":"Needs Attention"})]})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(O6,{className:"h-6 w-6 text-blue-600"}),l.jsx("h4",{className:"font-semibold text-gray-900",children:"Portfolio Allocation"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Equity:"}),l.jsxs("span",{className:"font-semibold text-blue-600",children:[d.portfolioRecommendation.equityAllocation,"%"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Debt:"}),l.jsxs("span",{className:"font-semibold text-green-600",children:[d.portfolioRecommendation.debtAllocation,"%"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Gold:"}),l.jsxs("span",{className:"font-semibold text-yellow-600",children:[d.portfolioRecommendation.goldAllocation,"%"]})]})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg border mb-6",children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(II,{className:"h-5 w-5 text-primary-600"}),l.jsx("span",{children:"Key Findings"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.investmentReport.keyFindings.map((R,U)=>l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(it,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700",children:R})]},U))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(Qs,{className:"h-5 w-5 text-primary-600"}),l.jsx("span",{children:"Recommendations"})]}),l.jsx("div",{className:"space-y-2",children:d.investmentReport.recommendations.map((R,U)=>l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Qm,{className:"h-4 w-4 text-primary-600 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700",children:R})]},U))})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(Hu,{className:"h-5 w-5 text-primary-600"}),l.jsx("span",{children:"Next Steps"})]}),l.jsx("div",{className:"space-y-2",children:d.investmentReport.nextSteps.map((R,U)=>l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Qm,{className:"h-4 w-4 text-primary-600 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700",children:R})]},U))})]})]})]}),a&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Hi,{className:"h-5 w-5 text-yellow-600"}),l.jsx("span",{className:"text-yellow-800",children:a})]})}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(R=>l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"p-2 bg-primary-100 rounded-lg text-primary-600",children:le(R.type)}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:R.name}),l.jsx("p",{className:"text-sm text-gray-600",children:R.category})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${_e(R.riskLevel)}`,children:R.riskLevel}),l.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${ve(R.safetyScore)}`,children:["Safety: ",R.safetyScore,"/10"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Min Amount"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["",R.minAmount.toLocaleString()]})]}),l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Expected Return"}),l.jsx("p",{className:"text-lg font-semibold text-green-600",children:R.expectedReturn})]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(B6,{className:"h-4 w-4 text-yellow-500 fill-current"}),l.jsx("span",{className:"text-sm font-medium",children:R.rating})]}),l.jsx("button",{onClick:()=>re(R.id),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:e===R.id?"Show Less":"View Details"})]}),l.jsx(bI,{children:e===R.id&&l.jsxs(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 pt-4 space-y-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center space-x-2",children:[l.jsx(Ce,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{children:"Safety Analysis"})]}),l.jsx("div",{className:"space-y-2 text-sm",children:R.safetyAnalysis&&Object.entries(R.safetyAnalysis).map(([U,B])=>l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{className:"text-gray-600 capitalize",children:[U.replace(/([A-Z])/g," $1").trim(),":"]}),l.jsx("span",{className:"font-medium",children:B})]},U))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Key Features"}),l.jsx("ul",{className:"space-y-1",children:R.features.map((U,B)=>l.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[l.jsx(it,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:U})]},B))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-green-600",children:"Pros"}),l.jsx("ul",{className:"space-y-1",children:R.pros.map((U,B)=>l.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[l.jsx(it,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:U})]},B))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-red-600",children:"Cons"}),l.jsx("ul",{className:"space-y-1",children:R.cons.map((U,B)=>l.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[l.jsx(Ki,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:U})]},B))})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Suitability"}),l.jsx("p",{className:"text-sm text-gray-700",children:R.suitability})]}),l.jsx("button",{className:"w-full btn-primary",children:"Invest Now"})]})})]},R.id))})]})},kU=()=>{const{userProfile:t}=Wt(),[e,n]=j.useState(null),[r,s]=j.useState([]),[i,o]=j.useState(!0);j.useEffect(()=>{t&&a()},[t]);const a=async()=>{o(!0);try{const c=await IU.detectFraud(t);n(c.data.status||c.data.risk_level||"Low"),s(c.data.tips||c.data.recommendations||["Never share OTPs or passwords.","Verify links before clicking.","Check for RBI/IRDAI registration of financial companies."])}catch(c){console.error("Fraud detection error:",c),n("Low"),s(["Never share OTPs or passwords.","Verify links before clicking.","Check for RBI/IRDAI registration of financial companies."])}finally{o(!1)}};return l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg text-green-600",children:l.jsx(U6,{className:"h-6 w-6"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fraud Detection & Alerts"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Stay protected from financial frauds. Our AI keeps you safe!"}),i?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(AI,{className:"animate-spin h-8 w-8 text-green-600"})}):l.jsxs("div",{className:"card border-l-4 border-green-500",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(Hi,{className:"h-5 w-5 text-green-500"}),l.jsxs("h3",{className:"font-semibold text-gray-900",children:["Fraud Risk: ",e]})]}),l.jsx("ul",{className:"list-disc pl-6 text-gray-700",children:r.map((c,d)=>l.jsx("li",{children:c},d))})]}),l.jsx("div",{className:"mt-8",children:l.jsxs("div",{className:"card bg-green-50",children:[l.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"How to stay safe?"}),l.jsxs("ul",{className:"list-disc pl-6 text-green-800 text-sm",children:[l.jsx("li",{children:"Never share OTPs or passwords with anyone."}),l.jsx("li",{children:"Always verify the sender before making payments."}),l.jsx("li",{children:"Report suspicious activity to your bank immediately."})]})]})})]})},np=({onClose:t,initialQuestion:e=""})=>{const{userProfile:n}=Wt(),[r,s]=j.useState([{sender:"bot",text:` Hi! I'm your AI financial advisor with 15+ years of expertise. I can help you with:

 **Investment Guidance** - SIPs, mutual funds, portfolio planning
 **Insurance Advice** - Term plans, health insurance, coverage needs
 **Loan & EMI** - Calculations, comparisons, avoiding traps
 **Fraud Prevention** - Scam detection, security tips
 **Financial Education** - Complex concepts made simple

What would you like to learn about today?`,type:"welcome"}]),[i,o]=j.useState(""),[a,c]=j.useState(!1),[d,h]=j.useState({userProfile:null,conversationHistory:[],currentTopic:null,expertiseLevel:"beginner"}),f=j.useRef(null);j.useEffect(()=>{var S;(S=f.current)==null||S.scrollIntoView({behavior:"smooth"})},[r]),j.useEffect(()=>{n&&h(S=>({...S,userProfile:n}))},[n]),j.useEffect(()=>{e&&(o(e),setTimeout(()=>{p(e)},500))},[e]);const p=async(S=null)=>{const v=S||i;if(!v.trim())return;const y={sender:"user",text:v};s(w=>[...w,y]),o(""),c(!0);try{console.log("Sending message to API:",v);const w={message:v,history:r.map(k=>({role:k.sender==="user"?"user":"assistant",content:k.text})),user_profile:n||{}};console.log("API payload:",w);const C=await CU.sendMessage(v,{conversationHistory:w.history,userProfile:w.user_profile});if(console.log("API response:",C),!C.data||!C.data.response)throw new Error("Invalid response from server");const V=C.data.response;s(k=>[...k,{sender:"bot",text:V,type:"response",suggestions:C.data.suggestions||[]}])}catch(w){console.error("Chat error:",w),ce.error("I'm having trouble connecting right now. Please try again."),s(C=>[...C,{sender:"bot",text:"I apologize, but I'm having trouble connecting right now. Please try again in a moment, or you can check our FAQ section for quick answers.",type:"error"}])}c(!1)},x=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),p())},_=S=>{o(S),p(S)},T=()=>["What is SIP investment?","How much life insurance do I need?","How to avoid loan traps?","What are the best tax-saving options?"];return l.jsx(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs(ae.div,{initial:{y:50},animate:{y:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:l.jsx(qi,{className:"h-6 w-6 text-primary-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Financial Advisor"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Your personal financial expert"})]})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(Ki,{className:"h-5 w-5 text-gray-500"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[r.map((S,v)=>l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex ${S.sender==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[80%] p-4 rounded-2xl ${S.sender==="user"?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"}`,children:l.jsxs("div",{className:"flex items-start space-x-2",children:[S.sender==="bot"&&l.jsx(qi,{className:"h-5 w-5 text-primary-600 mt-1 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"whitespace-pre-wrap",children:S.text}),S.suggestions&&S.suggestions.length>0&&l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Quick suggestions:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:S.suggestions.map((y,w)=>l.jsx("button",{onClick:()=>_(y),className:"text-xs bg-white bg-opacity-20 px-3 py-1 rounded-full hover:bg-opacity-30 transition-colors",children:y},w))})]})]}),S.sender==="user"&&l.jsx(ho,{className:"h-5 w-5 text-white mt-1 flex-shrink-0"})]})})},v)),a&&l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:l.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qi,{className:"h-5 w-5 text-primary-600"}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),l.jsx("div",{ref:f})]}),r.length===1&&!a&&l.jsxs("div",{className:"p-4 border-t border-gray-200",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Quick questions you can ask:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:T().map((S,v)=>l.jsx("button",{onClick:()=>_(S),className:"text-sm bg-primary-50 text-primary-700 px-3 py-2 rounded-lg hover:bg-primary-100 transition-colors",children:S},v))})]}),l.jsx("div",{className:"p-6 border-t border-gray-200",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("div",{className:"flex-1 relative",children:l.jsx("textarea",{value:i,onChange:S=>o(S.target.value),onKeyDown:x,placeholder:"Ask me anything about finance...",className:"w-full p-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:"1",disabled:a})}),l.jsx("button",{onClick:()=>p(),disabled:!i.trim()||a,className:"p-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx(F6,{className:"h-5 w-5"})})]})})]})})},ff={insurance:{icon:Ce,title:"Insurance & Protection",color:"text-blue-600",bgColor:"bg-blue-50",questions:[{question:"What is term insurance and how does it work?",keywords:["term insurance","life insurance","protection"],category:"insurance_basics"},{question:"What's the difference between term insurance and ULIP?",keywords:["term vs ulip","ulip","investment insurance"],category:"insurance_comparison"},{question:"How much life insurance coverage do I need?",keywords:["coverage amount","insurance calculation","family protection"],category:"insurance_planning"},{question:"What are the tax benefits of insurance policies?",keywords:["tax benefits","section 80c","insurance tax"],category:"insurance_tax"},{question:"How to choose the right health insurance policy?",keywords:["health insurance","medical insurance","policy selection"],category:"health_insurance"}]},investment:{icon:wn,title:"Investment & Wealth",color:"text-green-600",bgColor:"bg-green-50",questions:[{question:"What is SIP and how does it help in wealth creation?",keywords:["sip","systematic investment","mutual funds"],category:"investment_basics"},{question:"How to build an emergency fund and where to invest it?",keywords:["emergency fund","savings","liquid funds"],category:"emergency_planning"},{question:"What are mutual funds and how to choose the right one?",keywords:["mutual funds","fund selection","investment options"],category:"mutual_funds"},{question:"How to start investing with a small amount?",keywords:["small investment","beginner investing","low amount"],category:"beginner_investing"},{question:"What is the difference between equity and debt funds?",keywords:["equity funds","debt funds","risk vs returns"],category:"fund_types"}]},loans:{icon:Gs,title:"Loans & EMI",color:"text-purple-600",bgColor:"bg-purple-50",questions:[{question:"How to calculate EMI and understand loan terms?",keywords:["emi calculation","loan terms","interest rates"],category:"loan_basics"},{question:"What are common loan traps and how to avoid them?",keywords:["loan traps","hidden charges","loan scams"],category:"loan_traps"},{question:"How to improve credit score for better loan terms?",keywords:["credit score","credit history","loan eligibility"],category:"credit_score"},{question:"What's the difference between secured and unsecured loans?",keywords:["secured loans","unsecured loans","collateral"],category:"loan_types"},{question:"How to choose between different loan options?",keywords:["loan comparison","best loan","loan selection"],category:"loan_comparison"}]},fraud:{icon:Ce,title:"Fraud Prevention",color:"text-red-600",bgColor:"bg-red-50",questions:[{question:"How to identify and avoid financial frauds?",keywords:["financial fraud","scam prevention","fraud detection"],category:"fraud_prevention"},{question:"What are common banking scams and how to protect yourself?",keywords:["banking scams","otp fraud","phishing"],category:"banking_fraud"},{question:"How to verify if an investment opportunity is legitimate?",keywords:["investment fraud","ponzi schemes","legitimate investment"],category:"investment_fraud"},{question:"What to do if you become a victim of financial fraud?",keywords:["fraud victim","report fraud","fraud recovery"],category:"fraud_recovery"},{question:"How to protect your personal and financial information?",keywords:["data protection","privacy","information security"],category:"data_protection"}]},financial_planning:{icon:Qs,title:"Financial Planning",color:"text-teal-600",bgColor:"bg-teal-50",questions:[{question:"How to create and stick to a budget?",keywords:["budgeting","financial planning","expenses","savings"],category:"budgeting"},{question:"How to plan for retirement in India?",keywords:["retirement planning","pension","nps","epf"],category:"retirement_planning"},{question:"How to save for children's education?",keywords:["education planning","child education","sukanya samriddhi"],category:"education_planning"},{question:"How to manage multiple financial goals?",keywords:["goal planning","multiple goals","priority setting"],category:"goal_management"},{question:"How to create a financial emergency plan?",keywords:["emergency planning","financial safety","crisis management"],category:"emergency_planning"}]}},RU=()=>{const{userProfile:t}=Wt(),[e,n]=j.useState([]),[r,s]=j.useState(""),[i,o]=j.useState("all"),[a,c]=j.useState(null),[d,h]=j.useState(!0),[f,p]=j.useState(!1),[x,_]=j.useState(""),T=[{id:1,category:"insurance",question:"What is the difference between term insurance and whole life insurance?",answer:"Term insurance provides coverage for a specific period (10, 20, 30 years) with lower premiums and no cash value. It's ideal for young families and temporary coverage needs. Whole life insurance provides lifelong coverage with higher premiums and includes a cash value component that accumulates over time. It's suitable for estate planning and permanent coverage needs. The choice depends on your financial goals, budget, and coverage timeline.",tags:["life insurance","term insurance","whole life","coverage"],helpful:156,category_icon:l.jsx(Ce,{className:"h-5 w-5"})},{id:2,category:"investment",question:"How should I start investing as a beginner?",answer:"Start by assessing your financial situation, building an emergency fund, and paying off high-interest debt. Set clear investment goals (short-term, medium-term, long-term) and determine your risk tolerance. Begin with simple investment vehicles like mutual funds, ETFs, or index funds. Use SIPs for regular, disciplined investing. Focus on diversification across different asset classes and sectors. Start small and increase gradually, focusing on long-term investing (5+ years) rather than trying to time the market.",tags:["beginner investing","mutual funds","sip","diversification"],helpful:203,category_icon:l.jsx(wn,{className:"h-5 w-5"})},{id:3,category:"loans",question:"How do I calculate EMI and understand loan terms?",answer:"EMI (Equated Monthly Installment) can be calculated using the formula: EMI = P  r  (1 + r)^n / ((1 + r)^n - 1), where P is principal, r is monthly interest rate, and n is number of months. However, you can use online EMI calculators for convenience. Key loan terms to understand include: Principal (loan amount), Interest Rate (annual percentage), Tenure (repayment period), Processing Fee (one-time charge), Prepayment Penalty (for early closure), and Late Payment Charges. Always read the fine print and compare multiple loan offers.",tags:["emi calculation","loan terms","interest rates","loan comparison"],helpful:189,category_icon:l.jsx(Gs,{className:"h-5 w-5"})},{id:4,category:"fraud",question:"How can I identify and avoid financial frauds?",answer:"Common red flags include: unsolicited calls/emails asking for personal information, promises of unrealistic returns, pressure to act quickly, requests for OTP or passwords, and offers that seem too good to be true. To protect yourself: never share OTPs or passwords, verify the source before sharing information, check for official websites and contact numbers, avoid clicking suspicious links, and report suspicious activities immediately. Always use official channels for financial transactions and keep your contact information updated with banks.",tags:["fraud prevention","scam detection","security tips","otp safety"],helpful:267,category_icon:l.jsx(Ce,{className:"h-5 w-5"})},{id:5,category:"financial_planning",question:"How do I create and stick to a budget?",answer:"Start by tracking all your income and expenses for 1-2 months. Use the 50/30/20 rule: 50% for needs (rent, food, utilities), 30% for wants (entertainment, shopping), and 20% for savings/investments. Set specific, measurable financial goals. Use budgeting apps or spreadsheets to track spending. Review and adjust your budget monthly. Include emergency fund contributions and debt payments. Be realistic and flexible - unexpected expenses will occur. Celebrate small wins to stay motivated.",tags:["budgeting","financial planning","expense tracking","savings"],helpful:178,category_icon:l.jsx(Qs,{className:"h-5 w-5"})}];j.useEffect(()=>{n(T),h(!1)},[]);const S=k=>{c(a===k?null:k)},v=k=>{n(e.map(b=>b.id===k?{...b,helpful:b.helpful+1}:b)),ce.success("Thank you for your feedback!")},y=(k="")=>{_(k),p(!0)},w=e.filter(k=>{const b=k.question.toLowerCase().includes(r.toLowerCase())||k.answer.toLowerCase().includes(r.toLowerCase())||k.tags.some(P=>P.toLowerCase().includes(r.toLowerCase())),E=i==="all"||k.category===i;return b&&E}),V=(()=>{const k={};return Object.keys(ff).forEach(b=>{k[b]=e.filter(E=>E.category===b).length}),k})();return d?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Frequently Asked Questions"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Find answers to common questions or ask our AI assistant"})]}),l.jsxs("button",{onClick:()=>y(),className:"btn-primary flex items-center space-x-2",children:[l.jsx(qi,{className:"h-4 w-4"}),l.jsx("span",{children:"Ask AI Assistant"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(RI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),l.jsx("input",{type:"text",placeholder:"Search questions, answers, or topics...",value:r,onChange:k=>s(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),l.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Categories"}),Object.entries(ff).map(([k,b])=>l.jsxs("option",{value:k,children:[b.title," (",V[k]||0,")"]},k))]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(ff).map(([k,b])=>{const E=b.icon,P=V[k]||0;return l.jsx(ae.div,{whileHover:{scale:1.02},className:`p-4 rounded-lg border cursor-pointer transition-colors ${b.bgColor} hover:shadow-md`,onClick:()=>o(k),children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${b.color.replace("text-","bg-").replace("-600","-100")}`,children:l.jsx(E,{className:`h-6 w-6 ${b.color}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:b.title}),l.jsxs("p",{className:"text-sm text-gray-600",children:[P," questions"]})]})]})},k)})}),l.jsx("div",{className:"space-y-4",children:w.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(NI,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No questions found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or ask our AI assistant"}),l.jsxs("button",{onClick:()=>y(),className:"btn-primary flex items-center space-x-2 mx-auto",children:[l.jsx(qi,{className:"h-4 w-4"}),l.jsx("span",{children:"Ask AI Assistant"})]})]}):w.map(k=>l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[l.jsx("div",{className:"p-2 bg-primary-100 rounded-lg text-primary-600",children:k.category_icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:k.question}),l.jsx(bI,{children:a===k.id&&l.jsx(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-gray-700 leading-relaxed mb-4",children:k.answer})}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("span",{className:"flex items-center space-x-1",children:[l.jsx(Hu,{className:"h-4 w-4"}),l.jsx("span",{children:"2 min read"})]}),l.jsxs("span",{className:"flex items-center space-x-1",children:[l.jsx(r_,{className:"h-4 w-4"}),l.jsxs("span",{children:[k.helpful," found helpful"]})]})]}),l.jsx("div",{className:"flex items-center space-x-2 mt-3",children:k.tags.map((b,E)=>l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:b},E))})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>S(k.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:a===k.id?l.jsx(A6,{className:"h-5 w-5"}):l.jsx(N6,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>v(k.id),className:"p-2 text-gray-400 hover:text-green-600 transition-colors",children:l.jsx(r_,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>y(k.question),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Ask AI Assistant about this",children:l.jsx(qi,{className:"h-5 w-5"})})]})]})},k.id))}),f&&l.jsx(np,{onClose:()=>p(!1),initialQuestion:x})]})},jU=()=>{var y,w,C,V;const{userProfile:t}=Wt(),[e,n]=j.useState([]),[r,s]=j.useState(null),[i,o]=j.useState(!1),[a,c]=j.useState(!1),d={savingsRatio:{excellent:30,good:20,adequate:10,poor:5},debtRatio:{excellent:10,good:20,moderate:30,high:50},investmentRatio:{excellent:20,good:15,adequate:10,poor:5},emergencyFund:{excellent:6,good:3,adequate:1,poor:.5}},h=()=>{if(!t)return null;const k=parseInt(t.income)||0,b=parseInt(t.savings)||0,E=parseInt(t.debt)||0,P=parseInt(t.monthlyInvestmentCapacity)||0,N=parseInt(t.emergencyFund)||0;if(k===0)return null;const D=k/12,O=D*.7,A=b/k*100,re=E/k*100,_e=P*12/k*100,le=N/O,ve={savings:f(A,d.savingsRatio,!0),debt:f(re,d.debtRatio,!1),investment:f(_e,d.investmentRatio,!0),emergency:f(le,d.emergencyFund,!0)},R=ve.savings*.25+ve.debt*.25+ve.investment*.25+ve.emergency*.25;let U="Low",B="green",q=[];return R>=80?(U="Low",B="green",q=["Maintain your excellent financial habits","Consider increasing your investment allocation","Explore tax-efficient investment strategies","Plan for long-term wealth building"]):R>=60?(U="Moderate",B="yellow",q=["Focus on building your emergency fund","Consider increasing your savings rate","Review and optimize your debt management","Start or increase your investment contributions"]):R>=40?(U="High",B="orange",q=["Prioritize building an emergency fund (3-6 months of expenses)","Focus on debt reduction, especially high-interest debt","Reduce discretionary spending to increase savings","Consider seeking professional financial advice","Create a strict budget and stick to it"]):(U="Critical",B="red",q=["Immediate focus on debt reduction","Create a strict emergency budget","Consider debt consolidation options","Seek professional financial counseling","Explore additional income sources","Prioritize essential expenses only"]),{score:Math.round(R),riskLevel:U,riskColor:B,ratios:{savings:A,debt:re,investment:_e,emergency:le},scores:ve,recommendations:q,details:{income:k,savings:b,debt:E,investment:P,emergencyFund:N,monthlyIncome:D,monthlyExpenses:O}}},f=(k,b,E)=>E?k>=b.excellent?100:k>=b.good?80:k>=b.adequate?60:k>=b.poor?40:20:k<=b.excellent?100:k<=b.good?80:k<=b.moderate?60:k<=b.high?40:20,p=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?c(!0):k.type==="dragleave"&&c(!1)},x=k=>{k.preventDefault(),k.stopPropagation(),c(!1),k.dataTransfer.files&&k.dataTransfer.files[0]&&_(k.dataTransfer.files)},_=k=>{const b=Array.from(k).map(E=>({id:Date.now()+Math.random(),file:E,name:E.name,size:E.size,type:E.type,status:"uploading"}));n(E=>[...E,...b]),b.forEach(E=>{setTimeout(()=>{n(P=>P.map(N=>N.id===E.id?{...N,status:"uploaded"}:N))},1e3+Math.random()*2e3)})},T=k=>{n(b=>b.filter(E=>E.id!==k))},S=async()=>{if(e.length===0){ce.error("Please upload at least one file for analysis");return}o(!0);try{const k=new FormData;k.append("userProfile",JSON.stringify(t)),e.forEach(E=>{k.append("files",E.file)});const b=await NU.analyzeFile(k);s(b.data),ce.success("Security analysis completed successfully!")}catch(k){console.error("Error analyzing documents:",k),ce.error("Failed to analyze documents. Please try again.")}finally{o(!1)}},v=h();return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Analysis"}),l.jsx("p",{className:"text-gray-600",children:"Upload documents for AI-powered security and fraud analysis"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ce,{className:"h-6 w-6 text-primary-600"}),l.jsx("span",{className:"text-sm text-gray-600",children:"AI-Powered Analysis"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Upload Documents"}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${a?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:x,children:[l.jsx(Md,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),l.jsxs("p",{className:"text-gray-600 mb-2",children:["Drag and drop files here, or"," ",l.jsxs("label",{className:"text-primary-600 hover:text-primary-700 cursor-pointer",children:["browse",l.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:k=>_(k.target.files),accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt"})]})]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supported formats: PDF, DOC, DOCX, JPG, PNG, TXT (Max 10MB each)"})]}),e.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Uploaded Files"}),l.jsx("div",{className:"space-y-2",children:e.map(k=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Wi,{className:"h-5 w-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[(k.size/1024/1024).toFixed(2)," MB"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[k.status==="uploading"&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}),k.status==="uploaded"&&l.jsx(it,{className:"h-5 w-5 text-green-500"}),l.jsx("button",{onClick:()=>T(k.id),className:"text-red-500 hover:text-red-700",children:l.jsx(my,{className:"h-4 w-4"})})]})]},k.id))})]}),l.jsx("button",{onClick:S,disabled:i||e.length===0,className:"w-full mt-4 btn-primary flex items-center justify-center space-x-2 disabled:opacity-50",children:i?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Analyzing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ce,{className:"h-4 w-4"}),l.jsx("span",{children:"Analyze Security"})]})})]})}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Financial Health Assessment"}),v?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[v.score,"/100"]}),l.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${v.riskColor==="green"?"bg-green-100 text-green-800":v.riskColor==="yellow"?"bg-yellow-100 text-yellow-800":v.riskColor==="orange"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:[v.riskLevel," Risk Level"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx(Gs,{className:"h-6 w-6 mx-auto mb-2 text-blue-600"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Savings Ratio"}),l.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[v.ratios.savings.toFixed(1),"%"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",v.scores.savings,"/100"]})]}),l.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[l.jsx(Hi,{className:"h-6 w-6 mx-auto mb-2 text-red-600"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Debt Ratio"}),l.jsxs("p",{className:"text-lg font-semibold text-red-600",children:[v.ratios.debt.toFixed(1),"%"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",v.scores.debt,"/100"]})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx(wn,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Investment Ratio"}),l.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[v.ratios.investment.toFixed(1),"%"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",v.scores.investment,"/100"]})]}),l.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[l.jsx(Ce,{className:"h-6 w-6 mx-auto mb-2 text-purple-600"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Emergency Fund"}),l.jsxs("p",{className:"text-lg font-semibold text-purple-600",children:[v.ratios.emergency.toFixed(1)," months"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",v.scores.emergency,"/100"]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[l.jsx(CI,{className:"h-5 w-5 text-blue-600"}),l.jsx("h4",{className:"font-semibold text-gray-900",children:"AI Recommendations"})]}),l.jsx("ul",{className:"space-y-2",children:v.recommendations.map((k,b)=>l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-gray-700",children:k})]},b))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(PI,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Complete your profile to see financial health analysis"})]})]})})]}),r&&l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Analysis Results"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Security Assessment"}),l.jsxs("div",{className:"space-y-3",children:[(y=r.securityIssues)==null?void 0:y.map((k,b)=>l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[l.jsx(Hi,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-red-900",children:k.title}),l.jsx("p",{className:"text-sm text-red-700",children:k.description})]})]},b)),((w=r.securityIssues)==null?void 0:w.length)===0&&l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[l.jsx(it,{className:"h-5 w-5 text-green-600"}),l.jsx("p",{className:"text-sm font-medium text-green-900",children:"No security issues detected"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Fraud Detection"}),l.jsxs("div",{className:"space-y-3",children:[(C=r.fraudIndicators)==null?void 0:C.map((k,b)=>l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 rounded-lg",children:[l.jsx(Hi,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-yellow-900",children:k.type}),l.jsx("p",{className:"text-sm text-yellow-700",children:k.description}),l.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:["Confidence: ",k.confidence,"%"]})]})]},b)),((V=r.fraudIndicators)==null?void 0:V.length)===0&&l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[l.jsx(it,{className:"h-5 w-5 text-green-600"}),l.jsx("p",{className:"text-sm font-medium text-green-900",children:"No fraud indicators detected"})]})]})]})]}),r.recommendations&&l.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"AI Recommendations"}),l.jsx("ul",{className:"space-y-2",children:r.recommendations.map((k,b)=>l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-gray-700",children:k})]},b))})]})]})]})},DU=()=>{const{userProfile:t}=Wt(),[e,n]=j.useState({policyNumber:"",claimType:"",incidentDate:"",description:"",amount:"",location:""}),[r,s]=j.useState([]),[i,o]=j.useState(null),[a,c]=j.useState(!1),[d,h]=j.useState(!1),[f,p]=j.useState(1),[x,_]=j.useState(null),[T,S]=j.useState(null),v=["pdf","jpg","jpeg","png"],y=10*1024*1024,w=[{value:"health",label:"Health Insurance",icon:l.jsx(Ce,{className:"h-4 w-4"})},{value:"life",label:"Life Insurance",icon:l.jsx(ho,{className:"h-4 w-4"})},{value:"auto",label:"Auto Insurance",icon:l.jsx(n_,{className:"h-4 w-4"})},{value:"home",label:"Home Insurance",icon:l.jsx(Ce,{className:"h-4 w-4"})},{value:"travel",label:"Travel Insurance",icon:l.jsx(n_,{className:"h-4 w-4"})}],C={health:[{type:"medical_bills",required:!0,description:"Medical bills and invoices",formats:["pdf","jpg","png"]},{type:"prescription",required:!0,description:"Doctor prescriptions",formats:["pdf","jpg","png"]},{type:"diagnosis",required:!0,description:"Medical diagnosis reports",formats:["pdf"]},{type:"discharge_summary",required:!1,description:"Hospital discharge summary",formats:["pdf","jpg","png"]}],life:[{type:"death_certificate",required:!0,description:"Death certificate",formats:["pdf","jpg","png"]},{type:"policy_document",required:!0,description:"Original policy document",formats:["pdf"]},{type:"nominee_details",required:!0,description:"Nominee identification documents",formats:["pdf","jpg","png"]},{type:"medical_records",required:!1,description:"Medical records if applicable",formats:["pdf"]}],auto:[{type:"fir_copy",required:!0,description:"FIR copy (if applicable)",formats:["pdf","jpg","png"]},{type:"repair_bills",required:!0,description:"Vehicle repair bills",formats:["pdf","jpg","png"]},{type:"photos",required:!0,description:"Accident scene photos",formats:["jpg","png"]},{type:"police_report",required:!1,description:"Police report",formats:["pdf","jpg","png"]}],home:[{type:"damage_photos",required:!0,description:"Damage assessment photos",formats:["jpg","png"]},{type:"repair_estimates",required:!0,description:"Repair cost estimates",formats:["pdf","jpg","png"]},{type:"police_report",required:!1,description:"Police report (if theft/burglary)",formats:["pdf","jpg","png"]},{type:"inventory_list",required:!1,description:"Stolen/damaged items inventory",formats:["pdf","jpg","png"]}],travel:[{type:"travel_documents",required:!0,description:"Travel tickets and itinerary",formats:["pdf","jpg","png"]},{type:"medical_bills",required:!0,description:"Medical bills (if applicable)",formats:["pdf","jpg","png"]},{type:"police_report",required:!1,description:"Police report (if applicable)",formats:["pdf","jpg","png"]},{type:"receipts",required:!0,description:"Expense receipts",formats:["pdf","jpg","png"]}]},V=R=>{R.preventDefault(),R.stopPropagation(),R.type==="dragenter"||R.type==="dragover"?h(!0):R.type==="dragleave"&&h(!1)},k=R=>{R.preventDefault(),R.stopPropagation(),h(!1),R.dataTransfer.files&&R.dataTransfer.files[0]&&b(R.dataTransfer.files)},b=R=>{const U=Array.from(R).map(B=>{const q=B.name.split(".").pop().toLowerCase(),te=v.includes(q),me=B.size<=y;return{id:Date.now()+Math.random(),file:B,name:B.name,size:B.size,type:B.type,extension:q,status:te&&me?"uploading":"error",documentType:"unknown",error:te?me?null:"File too large":"Unsupported file format"}});s(B=>[...B,...U]),U.filter(B=>B.status==="uploading").forEach(B=>{setTimeout(()=>{s(q=>q.map(te=>te.id===B.id?{...te,status:"uploaded"}:te))},1e3+Math.random()*2e3)})},E=R=>{s(U=>U.filter(B=>B.id!==R))},P=(R,U)=>{n(B=>({...B,[R]:U}))},N=()=>{const R=[];return e.policyNumber||R.push("Policy number is required"),e.claimType||R.push("Claim type is required"),e.incidentDate||R.push("Incident date is required"),e.description||R.push("Description is required"),e.amount||R.push("Claim amount is required"),e.location||R.push("Incident location is required"),R},D=()=>{if(!e.claimType)return{valid:!1,errors:["Please select a claim type first"]};const R=C[e.claimType]||[],U=[],B=[];return R.forEach(q=>{q.required&&(r.some(me=>me.documentType===q.type||me.name.toLowerCase().includes(q.type.replace("_"," ")))||U.push(`Missing required document: ${q.description}`))}),r.forEach(q=>{q.size>y&&B.push(`${q.name} is larger than 10MB and may cause processing delays`),q.status==="error"&&U.push(`${q.name}: ${q.error}`)}),{valid:U.length===0,errors:U,warnings:B}},O=async()=>{const R=N(),U=D();if(R.length>0){ce.error(`Please fix the following errors: ${R.join(", ")}`);return}if(!U.valid){ce.error(`Document validation failed: ${U.errors.join(", ")}`);return}U.warnings.length>0&&ce.warning(`Warnings: ${U.warnings.join(", ")}`),c(!0);try{const B=new FormData;B.append("claimData",JSON.stringify(e)),B.append("userProfile",JSON.stringify(t)),r.forEach(te=>{te.status==="uploaded"&&B.append("documents",te.file)});const q=await y_.submitClaim(B);q.data.success?(_(q.data),S(q.data.monitoring_status),p(4),ce.success("Claim submitted successfully!")):ce.error("Failed to submit claim. Please try again.")}catch(B){console.error("Claim submission error:",B),ce.error("An error occurred while submitting your claim.")}finally{c(!1)}},A=async()=>{if(r.length===0){ce.error("Please upload documents first");return}c(!0);try{const R=new FormData;r.forEach(B=>{B.status==="uploaded"&&R.append("documents",B.file)}),R.append("claimType",e.claimType);const U=await y_.analyzeDocuments(R);U.data&&(o(U.data),p(3),ce.success("Document analysis completed!"))}catch(R){console.error("Document analysis error:",R),ce.error("Failed to analyze documents. Please try again.")}finally{c(!1)}},re=R=>{switch(R.toLowerCase()){case"pdf":return l.jsx(Wi,{className:"h-5 w-5 text-red-500"});case"jpg":case"jpeg":case"png":return l.jsx(R6,{className:"h-5 w-5 text-blue-500"});default:return l.jsx(k6,{className:"h-5 w-5 text-gray-500"})}},_e=R=>{if(R===0)return"0 Bytes";const U=1024,B=["Bytes","KB","MB","GB"],q=Math.floor(Math.log(R)/Math.log(U));return parseFloat((R/Math.pow(U,q)).toFixed(2))+" "+B[q]},le=R=>({"Document Analysis":{icon:l.jsx(Wi,{className:"h-4 w-4"}),color:"text-blue-600"},"AI Fraud Detection":{icon:l.jsx(RI,{className:"h-4 w-4"}),color:"text-purple-600"},"Claims Adjuster Review":{icon:l.jsx(ho,{className:"h-4 w-4"}),color:"text-green-600"},"Decision & Processing":{icon:l.jsx(it,{className:"h-4 w-4"}),color:"text-orange-600"}})[R]||{icon:l.jsx(E6,{className:"h-4 w-4"}),color:"text-gray-600"},ve=()=>{var R,U,B,q,te,me,bt,It,Xe,Nt,ii,hr,rn,Pt,ds,oi;switch(f){case 1:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Claim Information"}),l.jsx("p",{className:"text-gray-600",children:"Please provide details about your insurance claim"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Policy Number"}),l.jsx("input",{type:"text",value:e.policyNumber,onChange:Y=>P("policyNumber",Y.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your policy number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Claim Type"}),l.jsxs("select",{value:e.claimType,onChange:Y=>P("claimType",Y.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select claim type"}),w.map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incident Date"}),l.jsx("input",{type:"date",value:e.incidentDate,onChange:Y=>P("incidentDate",Y.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Claim Amount"}),l.jsx("input",{type:"number",value:e.amount,onChange:Y=>P("amount",Y.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter claim amount"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incident Location"}),l.jsx("input",{type:"text",value:e.location,onChange:Y=>P("location",Y.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter incident location"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:e.description,onChange:Y=>P("description",Y.target.value),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe the incident in detail..."})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>p(2),disabled:!e.claimType,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next: Upload Documents"})})]});case 2:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Document Upload"}),l.jsx("p",{className:"text-gray-600",children:"Upload supporting documents for your claim"})]}),e.claimType&&l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center space-x-2",children:[l.jsx(PI,{className:"h-4 w-4"}),l.jsxs("span",{children:["Required Documents for ",(R=w.find(Y=>Y.value===e.claimType))==null?void 0:R.label]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(U=C[e.claimType])==null?void 0:U.map((Y,Ct)=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${Y.required?"bg-red-500":"bg-yellow-500"}`}),l.jsxs("span",{className:"text-sm text-blue-800",children:[Y.description," ",Y.required?"(Required)":"(Optional)"]}),l.jsxs("span",{className:"text-xs text-blue-600",children:["(",Y.formats.join(", ").toUpperCase(),")"]})]},Ct))})]}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${d?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400"}`,onDragEnter:V,onDragLeave:V,onDragOver:V,onDrop:k,children:[l.jsx(Md,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Documents"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop files here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Supported formats: PDF, JPG, PNG (Max size: 10MB per file)"}),l.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:Y=>b(Y.target.files),className:"hidden",id:"file-upload"}),l.jsx("label",{htmlFor:"file-upload",className:"btn-primary cursor-pointer",children:"Choose Files"})]}),r.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Uploaded Documents"}),r.map(Y=>l.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${Y.status==="error"?"border-red-200 bg-red-50":"border-gray-200 bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[re(Y.extension),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:Y.name}),l.jsx("p",{className:"text-sm text-gray-500",children:_e(Y.size)}),Y.error&&l.jsx("p",{className:"text-sm text-red-600",children:Y.error})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[Y.status==="uploading"&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}),Y.status==="uploaded"&&l.jsx(it,{className:"h-5 w-5 text-green-600"}),Y.status==="error"&&l.jsx(z6,{className:"h-5 w-5 text-red-600"}),l.jsx("button",{onClick:()=>E(Y.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:l.jsx(my,{className:"h-4 w-4"})})]})]},Y.id))]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>p(1),className:"btn-secondary",children:"Back"}),l.jsxs("div",{className:"space-x-3",children:[l.jsx("button",{onClick:A,disabled:r.filter(Y=>Y.status==="uploaded").length===0,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Analyze Documents"}),l.jsx("button",{onClick:O,disabled:r.filter(Y=>Y.status==="uploaded").length===0,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Claim"})]})]})]});case 3:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Document Analysis"}),l.jsx("p",{className:"text-gray-600",children:"AI-powered analysis of your uploaded documents"})]}),i&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(Ce,{className:"h-5 w-5 text-red-600"}),l.jsx("span",{children:"Fraud Detection Analysis"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Risk Level"}),l.jsx("p",{className:`text-lg font-semibold ${((B=i.fraud_analysis)==null?void 0:B.risk_level)==="high"?"text-red-600":((q=i.fraud_analysis)==null?void 0:q.risk_level)==="medium"?"text-yellow-600":"text-green-600"}`,children:((me=(te=i.fraud_analysis)==null?void 0:te.risk_level)==null?void 0:me.toUpperCase())||"LOW"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Confidence"}),l.jsx("p",{className:"text-lg font-semibold text-blue-600",children:((It=(bt=i.fraud_analysis)==null?void 0:bt.confidence)==null?void 0:It.toUpperCase())||"HIGH"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),l.jsx("p",{className:"text-lg font-semibold text-green-600",children:((Xe=i.fraud_analysis)==null?void 0:Xe.risk_level)==="high"?"REVIEW REQUIRED":"CLEAR"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(it,{className:"h-5 w-5 text-green-600"}),l.jsx("span",{children:"Document Validation"})]}),l.jsxs("div",{className:"space-y-3",children:[(ii=(Nt=i.validation)==null?void 0:Nt.document_issues)==null?void 0:ii.map((Y,Ct)=>l.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-yellow-50 rounded-lg",children:[l.jsx(Hi,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-yellow-800",children:Y})]},Ct)),((rn=(hr=i.validation)==null?void 0:hr.document_issues)==null?void 0:rn.length)===0&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 rounded-lg",children:[l.jsx(it,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm text-green-800",children:"All documents validated successfully"})]})]})]}),((Pt=i.validation)==null?void 0:Pt.recommendations)&&l.jsxs("div",{className:"card",children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(CI,{className:"h-5 w-5 text-yellow-600"}),l.jsx("span",{children:"Recommendations"})]}),l.jsx("ul",{className:"space-y-2",children:i.validation.recommendations.map((Y,Ct)=>l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx(ArrowRight,{className:"h-4 w-4 text-primary-600 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-gray-700",children:Y})]},Ct))})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>p(2),className:"btn-secondary",children:"Back"}),l.jsx("button",{onClick:O,className:"btn-primary",children:"Submit Claim"})]})]});case 4:return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Claim Submitted Successfully!"}),l.jsx("p",{className:"text-gray-600",children:"Your claim is now under review"})]}),x&&l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Claim Details"}),l.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Submitted"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Claim ID"}),l.jsx("p",{className:"font-semibold text-gray-900",children:x.claim_id})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Submitted Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:new Date((ds=x.monitoring_status)==null?void 0:ds.submitted_at).toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Claim Type"}),l.jsx("p",{className:"font-semibold text-gray-900",children:e.claimType})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Amount"}),l.jsxs("p",{className:"font-semibold text-gray-900",children:["",e.amount]})]})]})]}),T&&l.jsxs("div",{className:"card bg-gradient-to-r from-blue-50 to-purple-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:l.jsx(V6,{className:"h-6 w-6 text-primary-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Claim Monitoring Status"}),l.jsx("p",{className:"text-gray-600",children:"Real-time tracking of your claim processing"})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg border mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h5",{className:"font-semibold text-gray-900",children:"Current Stage"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-pulse w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Active"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[le(T.current_stage).icon,l.jsx("span",{className:`font-semibold ${le(T.current_stage).color}`,children:T.current_stage})]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Estimated completion: ",T.estimated_processing_time]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h5",{className:"font-semibold text-gray-900",children:"Processing Stages"}),(oi=T.next_stages)==null?void 0:oi.map((Y,Ct)=>l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border",children:[l.jsx("div",{className:`p-2 rounded-lg ${Ct===0?"bg-blue-100":"bg-gray-100"}`,children:le(Y).icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:`font-medium ${Ct===0?le(Y).color:"text-gray-600"}`,children:Y}),l.jsx("p",{className:"text-sm text-gray-500",children:Ct===0?"In Progress":"Pending"})]}),Ct===0&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})]},Ct))]}),l.jsxs("div",{className:"mt-6 bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(b6,{className:"h-5 w-5 text-yellow-600"}),l.jsx("span",{className:"font-semibold text-yellow-800",children:"Under Surveillance"})]}),l.jsx("p",{className:"text-sm text-yellow-700",children:"Your claim is being monitored by our AI system for fraud detection and verification. This helps ensure faster processing and accurate assessment."})]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{onClick:()=>{p(1),n({policyNumber:"",claimType:"",incidentDate:"",description:"",amount:"",location:""}),s([]),o(null),_(null),S(null)},className:"btn-primary",children:"Submit Another Claim"})})]});default:return null}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-3 bg-primary-100 rounded-lg text-primary-600",children:l.jsx(Wi,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Insurance Claims"}),l.jsx("p",{className:"text-gray-600",children:"Submit and track your insurance claims"})]})]}),l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3,4].map(R=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${f>=R?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"}`,children:R}),R<4&&l.jsx("div",{className:`w-12 h-1 mx-2 ${f>R?"bg-primary-600":"bg-gray-200"}`})]},R))})}),l.jsx("div",{className:"flex justify-center mb-8",children:l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsx("span",{className:`text-sm font-medium ${f>=1?"text-primary-600":"text-gray-500"}`,children:"Claim Details"}),l.jsx("span",{className:`text-sm font-medium ${f>=2?"text-primary-600":"text-gray-500"}`,children:"Upload Documents"}),l.jsx("span",{className:`text-sm font-medium ${f>=3?"text-primary-600":"text-gray-500"}`,children:"Analysis"}),l.jsx("span",{className:`text-sm font-medium ${f>=4?"text-primary-600":"text-gray-500"}`,children:"Submission"})]})}),l.jsxs("div",{className:"card",children:[a&&l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Processing..."})]})}),!a&&ve()]})]})},VU=[{id:"life",name:"Life Insurance",icon:l.jsx(t_,{className:"h-6 w-6"}),description:"Protect your family's future",color:"bg-red-500",bgColor:"bg-red-50",textColor:"text-red-700"},{id:"health",name:"Health Insurance",icon:l.jsx(t_,{className:"h-6 w-6"}),description:"Cover medical expenses",color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-700"},{id:"motor",name:"Motor Insurance",icon:l.jsx(I6,{className:"h-6 w-6"}),description:"Protect your vehicle",color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-700"},{id:"home",name:"Home Insurance",icon:l.jsx(fy,{className:"h-6 w-6"}),description:"Protect your property",color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-700"},{id:"travel",name:"Travel Insurance",icon:l.jsx(M6,{className:"h-6 w-6"}),description:"Cover travel risks",color:"bg-orange-500",bgColor:"bg-orange-50",textColor:"text-orange-700"},{id:"business",name:"Business Insurance",icon:l.jsx(S6,{className:"h-6 w-6"}),description:"Protect your business",color:"bg-indigo-500",bgColor:"bg-indigo-50",textColor:"text-indigo-700"}],OU=({onClose:t,onPolicyAdded:e})=>{const{userProfile:n}=Wt(),[r,s]=j.useState(1),[i,o]=j.useState(null),[a,c]=j.useState({policyType:"",policyName:"",coverageAmount:"",premiumAmount:"",startDate:"",endDate:"",insurer:"",policyNumber:"",nominee:"",nomineeRelation:"",nomineeContact:"",documents:[]}),[d,h]=j.useState(null),[f,p]=j.useState(null),[x,_]=j.useState(!1),[T,S]=j.useState(!1);j.useEffect(()=>{n&&i&&c(N=>({...N,nominee:n.spouseName||n.name||"",nomineeRelation:n.spouseName?"Spouse":"Self",nomineeContact:n.phone||""}))},[n,i]);const v=N=>{o(N),c(D=>({...D,policyType:N.id})),s(2)},y=(N,D)=>{c(O=>({...O,[N]:D}))},w=async N=>{const D=Array.from(N.target.files);S(!0);try{const O=[];for(const A of D)O.push({name:A.name,url:URL.createObjectURL(A),type:A.type});c(A=>({...A,documents:[...A.documents,...O]})),ce.success(`${D.length} document(s) uploaded successfully`)}catch(O){console.error("Upload error:",O),ce.error("Failed to upload documents")}finally{S(!1)}},C=async()=>{_(!0);try{await new Promise(O=>setTimeout(O,2e3));const N={status:"Approved",riskScore:Math.floor(Math.random()*30)+20,premiumRate:(Math.random()*5+2).toFixed(2),recommendations:["Consider increasing coverage amount for better protection","Review policy annually for any changes in circumstances","Keep all documents updated and accessible"]},D={factors:[{name:"Age",impact:"Positive"},{name:"Health Status",impact:"Positive"},{name:"Occupation",impact:"Neutral"},{name:"Lifestyle",impact:"Positive"},{name:"Medical History",impact:"Neutral"}]};h(N),p(D),s(4)}catch(N){console.error("Underwriting error:",N),ce.error("Failed to perform underwriting assessment")}finally{_(!1)}},V=async()=>{_(!0);try{await new Promise(D=>setTimeout(D,1e3));const N={id:Date.now().toString(),...a,underwritingResult:d,riskAssessment:f,createdAt:new Date().toISOString()};ce.success("Policy added successfully!"),e(N),t()}catch(N){console.error("Save error:",N),ce.error("Failed to save policy")}finally{_(!1)}},k=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Add New Policy"}),l.jsx("p",{className:"text-gray-600",children:"Select the type of insurance policy you want to add"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:VU.map(N=>l.jsx(ae.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`card cursor-pointer transition-all duration-200 hover:shadow-lg ${N.bgColor} border-2 border-transparent hover:border-${N.color.split("-")[1]}-300`,onClick:()=>v(N),children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`p-3 rounded-lg text-white ${N.color}`,children:N.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:N.name}),l.jsx("p",{className:"text-sm text-gray-600",children:N.description})]})]})},N.id))})]}),b=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Policy Details"}),l.jsxs("p",{className:"text-gray-600",children:["Enter the details for your ",i==null?void 0:i.name]})]}),l.jsx("button",{onClick:()=>s(1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ki,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Policy Name"}),l.jsx("input",{type:"text",value:a.policyName,onChange:N=>y("policyName",N.target.value),className:"input-field",placeholder:"Enter policy name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurer"}),l.jsx("input",{type:"text",value:a.insurer,onChange:N=>y("insurer",N.target.value),className:"input-field",placeholder:"Insurance company name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coverage Amount"}),l.jsxs("div",{className:"relative",children:[l.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"number",value:a.coverageAmount,onChange:N=>y("coverageAmount",N.target.value),className:"input-field pl-10",placeholder:"Enter coverage amount"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Premium Amount"}),l.jsxs("div",{className:"relative",children:[l.jsx(Gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"number",value:a.premiumAmount,onChange:N=>y("premiumAmount",N.target.value),className:"input-field pl-10",placeholder:"Enter premium amount"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),l.jsx("input",{type:"date",value:a.startDate,onChange:N=>y("startDate",N.target.value),className:"input-field"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),l.jsx("input",{type:"date",value:a.endDate,onChange:N=>y("endDate",N.target.value),className:"input-field"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Policy Number"}),l.jsx("input",{type:"text",value:a.policyNumber,onChange:N=>y("policyNumber",N.target.value),className:"input-field",placeholder:"Enter policy number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nominee Name"}),l.jsx("input",{type:"text",value:a.nominee,onChange:N=>y("nominee",N.target.value),className:"input-field",placeholder:"Enter nominee name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nominee Relation"}),l.jsxs("select",{value:a.nomineeRelation,onChange:N=>y("nomineeRelation",N.target.value),className:"input-field",children:[l.jsx("option",{value:"",children:"Select relation"}),l.jsx("option",{value:"Spouse",children:"Spouse"}),l.jsx("option",{value:"Child",children:"Child"}),l.jsx("option",{value:"Parent",children:"Parent"}),l.jsx("option",{value:"Sibling",children:"Sibling"}),l.jsx("option",{value:"Self",children:"Self"}),l.jsx("option",{value:"Other",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nominee Contact"}),l.jsx("input",{type:"tel",value:a.nomineeContact,onChange:N=>y("nomineeContact",N.target.value),className:"input-field",placeholder:"Enter nominee contact"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6",children:[l.jsx("button",{onClick:()=>s(1),className:"btn-secondary",children:"Back"}),l.jsx("button",{onClick:()=>s(3),className:"btn-primary",disabled:!a.policyName||!a.insurer,children:"Next: Upload Documents"})]})]}),E=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Upload Documents"}),l.jsx("p",{className:"text-gray-600",children:"Upload relevant documents for underwriting"})]}),l.jsx("button",{onClick:()=>s(2),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ki,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[l.jsx(Md,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop files here, or click to select files"}),l.jsx("input",{type:"file",multiple:!0,onChange:w,className:"hidden",id:"file-upload",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),l.jsx("label",{htmlFor:"file-upload",className:"btn-primary cursor-pointer",children:T?"Uploading...":"Choose Files"})]}),a.documents.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Uploaded Documents:"}),a.documents.map((N,D)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Wi,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:N.name})]}),l.jsx(it,{className:"h-4 w-4 text-green-500"})]},D))]}),l.jsxs("div",{className:"flex justify-between pt-6",children:[l.jsx("button",{onClick:()=>s(2),className:"btn-secondary",children:"Back"}),l.jsx("button",{onClick:C,className:"btn-primary",disabled:x,children:x?"Processing...":"Perform Underwriting"})]})]}),P=()=>{var N;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Underwriting Results"}),l.jsx("p",{className:"text-gray-600",children:"Risk assessment and policy recommendations"})]}),l.jsx("button",{onClick:()=>s(3),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ki,{className:"h-6 w-6"})})]}),d&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Underwriting Decision"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Status:"}),l.jsx("span",{className:`font-medium ${d.status==="Approved"?"text-green-600":d.status==="Pending"?"text-yellow-600":"text-red-600"}`,children:d.status})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Risk Score:"}),l.jsxs("span",{className:"font-medium",children:[d.riskScore,"/100"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Premium Rate:"}),l.jsxs("span",{className:"font-medium",children:[d.premiumRate,"%"]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Risk Assessment"}),l.jsx("div",{className:"space-y-3",children:(N=f==null?void 0:f.factors)==null?void 0:N.map((D,O)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-gray-600",children:[D.name,":"]}),l.jsx("span",{className:`font-medium ${D.impact==="Positive"?"text-green-600":D.impact==="Neutral"?"text-gray-600":"text-red-600"}`,children:D.impact})]},O))})]})]}),(d==null?void 0:d.recommendations)&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Recommendations"}),l.jsx("ul",{className:"space-y-2",children:d.recommendations.map((D,O)=>l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx(it,{className:"h-4 w-4 text-green-500 mt-0.5"}),l.jsx("span",{className:"text-gray-700",children:D})]},O))})]}),l.jsxs("div",{className:"flex justify-between pt-6",children:[l.jsx("button",{onClick:()=>s(3),className:"btn-secondary",children:"Back"}),l.jsx("button",{onClick:V,className:"btn-primary",disabled:x||(d==null?void 0:d.status)==="Rejected",children:x?"Saving...":"Save Policy"})]})]})};return l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsx(ae.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[r===1&&k(),r===2&&b(),r===3&&E(),r===4&&P()]})})})},MU=()=>{const{userProfile:t}=Wt(),[e,n]=j.useState("overview"),[r,s]=j.useState(!1),[i,o]=j.useState(!1),[a,c]=j.useState({financialHealth:75,learningProgress:30,fraudRisk:"Low",recommendations:3,recentActivity:[]}),d=t||{age:30,income:0,savings:0,debt:0,existingInsurance:"none",monthlyInvestmentCapacity:0,emergencyFund:0,primaryGoal:"",completedModules:[]},h=()=>{if(!d)return{score:0,breakdown:{},level:"Beginner"};const v={age:0,income:0,savings:0,debt:0,insurance:0,investment:0,emergency:0,goals:0},y=parseInt(d.age)||30;y<25?v.age=15:y<35?v.age=20:y<50?v.age=18:y<60?v.age=15:v.age=10;const w=parseInt(d.income)||parseInt(d.monthlyIncome)||0;w>=15e5?v.income=20:w>=8e5?v.income=18:w>=5e5?v.income=15:w>=3e5?v.income=12:v.income=8;const C=parseInt(d.savings)||0,V=w>0?C/w*100:0;V>=30?v.savings=15:V>=20?v.savings=12:V>=10?v.savings=10:V>=5?v.savings=7:v.savings=3;const k=parseInt(d.debt)||parseInt(d.monthlyExpenses)||0,b=w>0?k/w*100:0;b<=10?v.debt=10:b<=20?v.debt=8:b<=30?v.debt=6:b<=50?v.debt=4:v.debt=2;const E=d.existingInsurance||"none";E==="both"?v.insurance=10:E==="life"?v.insurance=7:E==="health"?v.insurance=6:v.insurance=3;const P=parseInt(d.monthlyInvestmentCapacity)||0;P>=2e4?v.investment=10:P>=1e4?v.investment=8:P>=5e3?v.investment=6:P>=2e3?v.investment=4:v.investment=2;const N=parseInt(d.emergencyFund)||0,D=w/12,O=D>0?N/D:0;O>=6?v.emergency=10:O>=3?v.emergency=7:O>=1?v.emergency=4:v.emergency=2;const A=d.primaryGoal||"";A.includes("retirement")?v.goals=5:A.includes("wealth")?v.goals=4:A.includes("emergency")?v.goals=3:A.includes("education")?v.goals=4:v.goals=2;const re=Object.values(v).reduce((ve,R)=>ve+R,0),_e=Math.min(10,re/100*10);let le="Beginner";return _e>=8?le="Expert":_e>=6?le="Advanced":_e>=4?le="Intermediate":_e>=2?le="Beginner":le="Novice",{score:Math.round(_e*10)/10,breakdown:v,level:le}},f=()=>{if(!d)return{progress:0,completed:0,total:4};const v=d.completedModules||[],y=4,w=v.length/y*100;return{progress:Math.round(w),completed:v.length,total:y}},p=[{id:"overview",name:"Overview",icon:l.jsx(fy,{className:"h-5 w-5"})},{id:"learning",name:"Learning",icon:l.jsx($c,{className:"h-5 w-5"})},{id:"security",name:"Security",icon:l.jsx(Ce,{className:"h-5 w-5"})},{id:"investments",name:"Investments",icon:l.jsx(wn,{className:"h-5 w-5"})},{id:"claims",name:"Claims",icon:l.jsx(e_,{className:"h-5 w-5"})},{id:"chat",name:"AI Assistant",icon:l.jsx(cf,{className:"h-5 w-5"})},{id:"faq",name:"FAQ",icon:l.jsx(NI,{className:"h-5 w-5"})}],x=h(),_=f(),T=v=>{console.log("New policy added:",v),ce.success("Policy added successfully!")},S=()=>{switch(e){case"overview":return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),l.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center space-x-2",children:[l.jsx(kI,{className:"h-4 w-4"}),l.jsx("span",{children:"Add Policy"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"card bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-3 bg-blue-500 rounded-lg text-white",children:l.jsx($c,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Learning Progress"}),l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[_.progress,"%"]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[_.completed," of ",_.total," modules completed"]})]})]})}),l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"card bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-3 bg-green-500 rounded-lg text-white",children:l.jsx(wn,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Investment Score"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[x.score,"/10"]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[x.level," Level"]})]})]})}),l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"card bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-3 bg-purple-500 rounded-lg text-white",children:l.jsx(Ce,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Security Status"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"Safe"}),l.jsx("p",{className:"text-sm text-gray-600",children:"No threats detected"})]})]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Investment Score Breakdown"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Age Factor"}),l.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[x.breakdown.age,"/20"]})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Income"}),l.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[x.breakdown.income,"/20"]})]}),l.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Savings"}),l.jsxs("p",{className:"text-lg font-semibold text-yellow-600",children:[x.breakdown.savings,"/15"]})]}),l.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Debt"}),l.jsxs("p",{className:"text-lg font-semibold text-red-600",children:[x.breakdown.debt,"/10"]})]}),l.jsxs("div",{className:"text-center p-3 bg-indigo-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Insurance"}),l.jsxs("p",{className:"text-lg font-semibold text-indigo-600",children:[x.breakdown.insurance,"/10"]})]}),l.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Investment"}),l.jsxs("p",{className:"text-lg font-semibold text-purple-600",children:[x.breakdown.investment,"/10"]})]}),l.jsxs("div",{className:"text-center p-3 bg-pink-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Emergency"}),l.jsxs("p",{className:"text-lg font-semibold text-pink-600",children:[x.breakdown.emergency,"/10"]})]}),l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Goals"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-600",children:[x.breakdown.goals,"/5"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(kU,{}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:()=>n("security"),className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-400 hover:bg-primary-50 transition-colors text-center",children:[l.jsx(Md,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Security Analysis"})]}),l.jsxs("button",{onClick:()=>n("claims"),className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-400 hover:bg-primary-50 transition-colors text-center",children:[l.jsx(e_,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Submit Claim"})]}),l.jsxs("button",{onClick:()=>n("learning"),className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-400 hover:bg-primary-50 transition-colors text-center",children:[l.jsx($c,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Continue Learning"})]}),l.jsxs("button",{onClick:()=>n("chat"),className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-400 hover:bg-primary-50 transition-colors text-center",children:[l.jsx(cf,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Ask AI Assistant"})]})]})]})]})]});case"learning":return l.jsx(G6,{});case"security":return l.jsx(jU,{});case"investments":return l.jsx(AU,{});case"claims":return l.jsx(DU,{});case"chat":return l.jsx(np,{});case"faq":return l.jsx(RU,{});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:l.jsx(wn,{className:"h-6 w-6 text-primary-600"})}),l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Dashboard"})]}),l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("span",{className:"text-sm text-gray-500",children:["Welcome back, ",(t==null?void 0:t.name)||"User"]})})]})})}),l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("nav",{className:"flex space-x-8",children:p.map(v=>l.jsxs("button",{onClick:()=>n(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${e===v.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[v.icon,l.jsx("span",{children:v.name})]},v.id))})})}),l.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:S()},e)}),l.jsx(ae.button,{onClick:()=>s(!0),whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-6 right-6 p-4 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-colors z-50",children:l.jsx(cf,{className:"h-6 w-6"})}),r&&l.jsx(np,{onClose:()=>s(!1)}),i&&l.jsx(OU,{onClose:()=>o(!1),onPolicyAdded:T})]})},LU=()=>l.jsx(MU,{}),FU=({onComplete:t})=>{const[e,n]=j.useState(0),[r,s]=j.useState({name:"",age:"",occupation:"",city:"",monthlyIncome:"",monthlyExpenses:"",savings:"",existingInvestments:"",primaryGoal:"",riskTolerance:"",investmentHorizon:"",monthlyInvestmentCapacity:"",maritalStatus:"",dependents:"",existingInsurance:"",interestedProducts:[],loanRequirements:"",emergencyFund:"",existingPolicies:[]}),i=[{title:"Personal Information",icon:l.jsx(ho,{className:"h-5 w-5"}),fields:[{name:"name",label:"Full Name",type:"text",required:!0},{name:"age",label:"Age",type:"number",required:!0},{name:"occupation",label:"Occupation",type:"text",required:!0},{name:"city",label:"City",type:"text",required:!0}]},{title:"Financial Overview",icon:l.jsx(Gs,{className:"h-5 w-5"}),fields:[{name:"monthlyIncome",label:"Monthly Income ()",type:"number",required:!0},{name:"monthlyExpenses",label:"Monthly Expenses ()",type:"number",required:!0},{name:"savings",label:"Current Savings ()",type:"number",required:!0},{name:"existingInvestments",label:"Existing Investments ()",type:"number",required:!1}]},{title:"Financial Goals",icon:l.jsx(Qs,{className:"h-5 w-5"}),fields:[{name:"primaryGoal",label:"Primary Financial Goal",type:"select",options:["Retirement Planning","Child Education","Home Purchase","Emergency Fund","Tax Saving","Wealth Creation","Insurance Coverage"],required:!0},{name:"riskTolerance",label:"Risk Tolerance",type:"select",options:["Conservative (Low risk, stable returns)","Moderate (Balanced risk and returns)","Aggressive (High risk, high potential returns)"],required:!0},{name:"investmentHorizon",label:"Investment Time Horizon",type:"select",options:["1-3 years (Short term)","3-7 years (Medium term)","7+ years (Long term)"],required:!0},{name:"monthlyInvestmentCapacity",label:"Monthly Investment Capacity ()",type:"number",required:!0}]},{title:"Family & Insurance",icon:l.jsx(Ce,{className:"h-5 w-5"}),fields:[{name:"maritalStatus",label:"Marital Status",type:"select",options:["Single","Married","Divorced","Widowed"],required:!0},{name:"dependents",label:"Number of Dependents",type:"number",required:!0},{name:"existingInsurance",label:"Existing Insurance Coverage",type:"select",options:["No insurance","Life insurance only","Health insurance only","Both life and health","Multiple policies"],required:!0}]},{title:"Existing Insurance Policies",icon:l.jsx(Ce,{className:"h-5 w-5"}),fields:[],customComponent:!0},{title:"Product Preferences",icon:l.jsx(fy,{className:"h-5 w-5"}),fields:[{name:"interestedProducts",label:"Products of Interest (Select all that apply)",type:"multiselect",options:["Term Insurance","Health Insurance","ULIP","Mutual Funds","Fixed Deposits","PPF","ELSS","Home Loan","Personal Loan","Credit Cards"],required:!0},{name:"loanRequirements",label:"Loan Requirements",type:"select",options:["No loan requirements","Home loan","Personal loan","Business loan","Education loan","Vehicle loan"],required:!0},{name:"emergencyFund",label:"Emergency Fund (months of expenses)",type:"number",required:!0}]}],o=(y,w)=>{s(C=>({...C,[y]:w}))},a=(y,w)=>{s(C=>({...C,[y]:C[y].includes(w)?C[y].filter(V=>V!==w):[...C[y],w]}))},c=()=>{const y={id:Date.now(),policyType:"",policyNumber:"",insuranceCompany:"",premiumAmount:"",coverageAmount:"",startDate:"",endDate:"",nominee:""};s(w=>({...w,existingPolicies:[...w.existingPolicies,y]}))},d=(y,w,C)=>{s(V=>({...V,existingPolicies:V.existingPolicies.map(k=>k.id===y?{...k,[w]:C}:k)}))},h=y=>{s(w=>({...w,existingPolicies:w.existingPolicies.filter(C=>C.id!==y)}))},f=y=>{const w=i[y];if(w.customComponent)return!0;const C=w.fields;for(const V of C){if(V.required&&!r[V.name])return Me.error(`Please fill in ${V.label}`),!1;if(V.name==="age"&&r[V.name]){const k=parseInt(r[V.name]);if(k<18||k>100)return Me.error("Age must be between 18 and 100"),!1}if(V.name==="monthlyIncome"&&r[V.name]&&parseInt(r[V.name])<0)return Me.error("Monthly income cannot be negative"),!1;if(V.name==="monthlyExpenses"&&r[V.name]&&parseInt(r[V.name])<0)return Me.error("Monthly expenses cannot be negative"),!1;if(V.name==="savings"&&r[V.name]&&parseInt(r[V.name])<0)return Me.error("Savings cannot be negative"),!1;if(V.name==="dependents"&&r[V.name]){const k=parseInt(r[V.name]);if(k<0||k>20)return Me.error("Number of dependents must be between 0 and 20"),!1}if(V.name==="emergencyFund"&&r[V.name]){const k=parseInt(r[V.name]);if(k<0||k>60)return Me.error("Emergency fund must be between 0 and 60 months"),!1}}return!0},p=()=>{f(e)&&n(y=>Math.min(y+1,i.length-1))},x=()=>{n(y=>Math.max(y-1,0))},_=()=>{f(e)&&t(r)},T=y=>{const w=r[y.name];switch(y.type){case"text":case"number":return l.jsx("input",{type:y.type,value:w,onChange:C=>o(y.name,C.target.value),className:"input-field",placeholder:`Enter your ${y.label.toLowerCase()}`});case"select":return l.jsxs("select",{value:w,onChange:C=>o(y.name,C.target.value),className:"input-field",children:[l.jsxs("option",{value:"",children:["Select ",y.label]}),y.options.map((C,V)=>l.jsx("option",{value:C,children:C},V))]});case"multiselect":return l.jsx("div",{className:"space-y-2",children:y.options.map((C,V)=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:w.includes(C),onChange:()=>a(y.name,C),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:C})]},V))});default:return null}},S=()=>e===4?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Existing Insurance Policies"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>{r.existingPolicies.length===0&&p()},className:"btn-secondary",children:"Skip (No Policies)"}),l.jsxs("button",{type:"button",onClick:c,className:"btn-primary flex items-center space-x-2",children:[l.jsx(kI,{className:"h-4 w-4"}),l.jsx("span",{children:"Add Policy"})]})]})]}),r.existingPolicies.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Ce,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"No existing policies added yet."}),l.jsx("p",{className:"text-sm",children:`Click "Add Policy" to add your insurance details or "Skip" if you don't have any.`})]}):l.jsx("div",{className:"space-y-4",children:r.existingPolicies.map((y,w)=>l.jsxs("div",{className:"card border-2 border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h4",{className:"font-semibold text-gray-900",children:["Policy ",w+1]}),l.jsx("button",{type:"button",onClick:()=>h(y.id),className:"text-red-500 hover:text-red-700",children:l.jsx(my,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Type *"}),l.jsxs("select",{value:y.policyType,onChange:C=>d(y.id,"policyType",C.target.value),className:"input-field",required:!0,children:[l.jsx("option",{value:"",children:"Select Policy Type"}),l.jsx("option",{value:"Health",children:"Health Insurance"}),l.jsx("option",{value:"Life",children:"Life Insurance"}),l.jsx("option",{value:"Motor",children:"Motor Insurance"}),l.jsx("option",{value:"Home",children:"Home Insurance"}),l.jsx("option",{value:"Travel",children:"Travel Insurance"}),l.jsx("option",{value:"Term",children:"Term Insurance"}),l.jsx("option",{value:"ULIP",children:"ULIP"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Number *"}),l.jsx("input",{type:"text",value:y.policyNumber,onChange:C=>d(y.id,"policyNumber",C.target.value),className:"input-field",placeholder:"Enter policy number",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance Company *"}),l.jsx("input",{type:"text",value:y.insuranceCompany,onChange:C=>d(y.id,"insuranceCompany",C.target.value),className:"input-field",placeholder:"Enter company name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Premium Amount () *"}),l.jsx("input",{type:"number",value:y.premiumAmount,onChange:C=>d(y.id,"premiumAmount",C.target.value),className:"input-field",placeholder:"Enter premium amount",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Amount () *"}),l.jsx("input",{type:"number",value:y.coverageAmount,onChange:C=>d(y.id,"coverageAmount",C.target.value),className:"input-field",placeholder:"Enter coverage amount",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),l.jsx("input",{type:"date",value:y.startDate,onChange:C=>d(y.id,"startDate",C.target.value),className:"input-field",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),l.jsx("input",{type:"date",value:y.endDate,onChange:C=>d(y.id,"endDate",C.target.value),className:"input-field",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nominee Name"}),l.jsx("input",{type:"text",value:y.nominee,onChange:C=>d(y.id,"nominee",C.target.value),className:"input-field",placeholder:"Enter nominee name"})]})]})]},y.id))})]}):null,v=(e+1)/i.length*100;return l.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",e+1," of ",i.length]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(v),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx(ae.div,{className:"bg-primary-600 h-2 rounded-full",initial:{width:0},animate:{width:`${v}%`},transition:{duration:.3}})})]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[l.jsx("div",{className:"p-2 bg-primary-100 rounded-lg text-primary-600",children:i[e].icon}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i[e].title})]}),l.jsx("p",{className:"text-gray-600",children:"Please provide accurate information for personalized recommendations"})]}),l.jsx(ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:i[e].customComponent?S():i[e].fields.map((y,w)=>l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[y.label,y.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),T(y)]},w))},e),l.jsxs("div",{className:"flex justify-between mt-8",children:[l.jsxs(ae.button,{onClick:x,disabled:e===0,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-secondary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(P6,{className:"h-4 w-4"}),l.jsx("span",{children:"Previous"})]}),e===i.length-1?l.jsxs(ae.button,{onClick:_,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-primary flex items-center space-x-2",children:[l.jsx(L6,{className:"h-4 w-4"}),l.jsx("span",{children:"Complete Setup"})]}):l.jsxs(ae.button,{onClick:p,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-primary flex items-center space-x-2",children:[l.jsx("span",{children:"Next"}),l.jsx(C6,{className:"h-4 w-4"})]})]})]})},UU=()=>{const[t,e]=j.useState(!1),{saveProfile:n}=Wt(),r=dl(),s=async i=>{try{await n(i),e(!0),setTimeout(()=>{r("/dashboard")},2e3)}catch(o){console.error("Error saving profile:",o)}};return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs(ae.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center",children:[l.jsx("div",{className:"mb-6",children:l.jsx(it,{className:"h-16 w-16 text-green-500 mx-auto"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Setup Complete!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Redirecting to your personalized dashboard..."}),l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:l.jsx(ho,{className:"h-6 w-6 text-primary-600"})}),l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile Setup"})]}),l.jsx("div",{className:"text-sm text-gray-500",children:"Step 1 of 2"})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:l.jsx(FU,{onComplete:s})})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"sticky top-8",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Why Profile Setup Matters"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0 p-2 bg-primary-100 rounded-lg",children:l.jsx(Qs,{className:"h-5 w-5 text-primary-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Personalized Recommendations"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Get financial products and advice tailored to your specific needs and goals."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0 p-2 bg-secondary-100 rounded-lg",children:l.jsx(Ce,{className:"h-5 w-5 text-secondary-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Fraud Protection"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Our AI analyzes your profile to detect potential fraud risks and protect your finances."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0 p-2 bg-green-100 rounded-lg",children:l.jsx(wn,{className:"h-5 w-5 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Smart Learning"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Receive customized learning content based on your financial knowledge level."})]})]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Pro Tip"}),l.jsx("p",{className:"text-sm text-blue-800",children:"Be as accurate as possible with your financial information. This helps us provide the best recommendations and protect you from fraud."})]}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:" Data Security"}),l.jsx("p",{className:"text-sm text-gray-700",children:"All your information is encrypted and stored securely. We never share your personal data with third parties."})]})]})})})]})})]})},v_=()=>{var c,d,h,f,p,x,_,T,S,v,y,w,C,V,k,b,E,P;const{user:t,profileComplete:e,loading:n,userProfile:r}=Wt(),[s,i]=j.useState({}),[o,a]=j.useState(!1);return j.useEffect(()=>{(async()=>{var O,A;const D={timestamp:new Date().toISOString(),firebase:{},auth:{},profile:{},api:{}};try{D.firebase.auth=jr.currentUser?"Connected":"Not connected",D.firebase.uid=((O=jr.currentUser)==null?void 0:O.uid)||"No UID",D.firebase.email=((A=jr.currentUser)==null?void 0:A.email)||"No email"}catch(re){D.firebase.auth=`Error: ${re.message}`}D.auth.user=t?"Present":"Not present",D.auth.loading=n?"Loading":"Not loading",D.auth.profileComplete=e?"Complete":"Incomplete",D.auth.userProfile=r?"Present":"Not present",r&&(D.profile.email=r.email||"No email",D.profile.profileComplete=r.profileComplete||!1,D.profile.createdAt=r.createdAt||"No date");try{const re=await fetch("http://localhost:5000/api/health");D.api.status=re.status,D.api.connected=re.ok?"Connected":"Not connected"}catch(re){D.api.connected=`Error: ${re.message}`}i(D)})()},[t,e,n,r]),o?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:" Diagnostic Tool"}),l.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Firebase Auth"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{children:["Status: ",l.jsx("span",{className:((c=s.firebase)==null?void 0:c.auth)==="Connected"?"text-green-600":"text-red-600",children:(d=s.firebase)==null?void 0:d.auth})]}),l.jsxs("div",{children:["UID: ",(h=s.firebase)==null?void 0:h.uid]}),l.jsxs("div",{children:["Email: ",(f=s.firebase)==null?void 0:f.email]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Auth Context"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{children:["User: ",l.jsx("span",{className:((p=s.auth)==null?void 0:p.user)==="Present"?"text-green-600":"text-red-600",children:(x=s.auth)==null?void 0:x.user})]}),l.jsxs("div",{children:["Loading: ",l.jsx("span",{className:((_=s.auth)==null?void 0:_.loading)==="Loading"?"text-yellow-600":"text-green-600",children:(T=s.auth)==null?void 0:T.loading})]}),l.jsxs("div",{children:["Profile Complete: ",l.jsx("span",{className:(S=s.auth)!=null&&S.profileComplete?"text-green-600":"text-red-600",children:(v=s.auth)!=null&&v.profileComplete?"Yes":"No"})]}),l.jsxs("div",{children:["User Profile: ",l.jsx("span",{className:((y=s.auth)==null?void 0:y.userProfile)==="Present"?"text-green-600":"text-red-600",children:(w=s.auth)==null?void 0:w.userProfile})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Profile Data"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{children:["Email: ",((C=s.profile)==null?void 0:C.email)||"N/A"]}),l.jsxs("div",{children:["Profile Complete: ",(V=s.profile)!=null&&V.profileComplete?"Yes":"No"]}),l.jsxs("div",{children:["Created At: ",((k=s.profile)==null?void 0:k.createdAt)||"N/A"]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"API Connection"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{children:["Status: ",l.jsx("span",{className:((b=s.api)==null?void 0:b.connected)==="Connected"?"text-green-600":"text-red-600",children:(E=s.api)==null?void 0:E.connected})]}),l.jsxs("div",{children:["HTTP Status: ",((P=s.api)==null?void 0:P.status)||"N/A"]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Current Route"}),l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{children:["Path: ",window.location.pathname]}),l.jsxs("div",{children:["Hash: ",window.location.hash]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Actions"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600",children:"Clear All Data & Reload"}),l.jsx("button",{onClick:()=>{console.log("Auth State:",{user:t,profileComplete:e,loading:n,userProfile:r}),console.log("Firebase Auth:",jr.currentUser)},className:"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 ml-2",children:"Log to Console"})]})]})]}),l.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Timestamp: ",s.timestamp]})]})}):l.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:l.jsx("button",{onClick:()=>a(!0),className:"bg-red-500 text-white p-2 rounded-full shadow-lg hover:bg-red-600",title:"Show Diagnostics",children:""})})},BU=()=>{const{user:t,loading:e}=Wt();return e?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?l.jsxs(l.Fragment,{children:[l.jsxs(Rv,{children:[l.jsx(xs,{path:"/dashboard",element:l.jsx(LU,{})}),l.jsx(xs,{path:"/profile-setup",element:l.jsx(UU,{})}),l.jsx(xs,{path:"*",element:l.jsx(kv,{to:"/dashboard",replace:!0})})]}),l.jsx(v_,{})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Rv,{children:[l.jsx(xs,{path:"/login",element:l.jsx(W6,{})}),l.jsx(xs,{path:"/signup",element:l.jsx(K6,{})}),l.jsx(xs,{path:"*",element:l.jsx(kv,{to:"/login",replace:!0})})]}),l.jsx(v_,{})]})},zU=()=>l.jsx(ak,{children:l.jsx(rL,{children:l.jsx(BU,{})})});class $U extends il.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please refresh the page and try again."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Refresh Page"})]})}):this.props.children}}mf.createRoot(document.getElementById("root")).render(l.jsx(il.StrictMode,{children:l.jsxs($U,{children:[l.jsx(zU,{}),l.jsx(nL,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}));
